[Quotes]
victory1 = "Kono Dio Da"
 
;Var list:
;var(0): Check time stop.
;var(12): Check palletes.
;var(14): Damage during time stop.
;var(45): Some bug-fixes with damage during time-stop.
;var(46): Stylish Cancel Penalty
;var(49): Check Stand on or off.
;fvar(1): Y Velocity of Muda Muda
;fvar(9): X Velocity of Muda Muda
;Free fvar: 0, 1



























































































































[Data]
life = 1000
power = 10000
attack = 100
defence = 100
fall.defence_up = 0
liedown.time = 38
airjuggle = 15
sparkno = 2
guard.sparkno = 40
KO.echo = 0
volume = 255
IntPersistIndex = 0
FloatPersistIndex = 0

[Size]
xscale = .833
yscale = 1.07
ground.back = 15
ground.front = 18
air.back = 15
air.front = 15
height = 65
attack.dist = 160
proj.attack.dist = 90
proj.doscale = 0
head.pos = -6, -105
mid.pos = 8, -72
shadowoffset = 0
draw.offset = 0,0


[Velocity]
walk.fwd  = 2.78
walk.back = -1.87
run.fwd  = 9, 0
run.back = -10,0
jump.neu = 0,-10.7
jump.back = -2.5
jump.fwd = 3.33
runjump.back = -4.5,-11
runjump.fwd = 4.5,-11
airjump.neu = 0,-5.4
airjump.back = -2.8
airjump.fwd = 2.8

[Movement]
airjump.num = 0
airjump.height = 28
yaccel = .6
stand.friction = .85
crouch.friction = .82



[Statedef 0]
type = S
physics = S
sprpriority = 0
velset = 0,0

[State 0, 1]
type = ChangeAnim
triggerall = var(0) != -1
triggerall = var(0) != 2
trigger1 = Anim != 0+var(49) && Anim != 5+var(49)
trigger2 = Anim = 5+var(49) && AnimTime = 0
value = 0+var(49)

[State 0, 2]
type = VelSet
trigger1 = Time = 0
y = 0

[State 0, 3]
type = VelSet
trigger1 = abs(vel x) < 2
trigger2 = Time = 4
x = 0

[State 0, 4]
type = ChangeState
trigger1 = !alive
value = 5050

[State 0, 4]
type = ChangeState
trigger1 = IsHelper(10000)
value = 10000

[State 0, 4]
type = ChangeState
trigger1 = IsHelper(20000)
value = 20000



[Statedef 10]
type = C
physics = C
anim = 10+var(49)

[State 20000]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "zaxtu"
ID = 200000
pos = 0, 5
postype = p1
facing = facing
stateno = 200000
keyctrl = 0
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State -1, AI]
type = ChangeState
triggerall = var(59) >= 1
trigger1 = Time = 0
value = 0
ctrl = 1
ignorehitpause = 1

[State 10, 1]
type = VelMul
trigger1 = Time = 0
x = .75

[State 10, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 11



[Statedef 11]
type = C
physics = C
anim = 11+var(49)
sprpriority = 0

[State 11, 1]
type = ChangeAnim
trigger1 = Anim = 6+var(49) && AnimTime = 0
value = 11+var(49)



[Statedef 12]
type    = S
physics = S
anim = 12+var(49)

[State 12, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0



[Statedef 20]
type = S
physics = S
sprpriority = 0
ctrl = 1

[State -1, AI]
type = ChangeState
triggerall = Var(59)
trigger1 = Time = 0
value = 0
ctrl = 1
ignorehitpause = 1

[State 20, 1]
type = VelSet
trigger1 = !var(59)
trigger1 = command = "holdfwd"
trigger2 = var(59)
trigger2 = !vel X
trigger2 = random = [0,800]
trigger3 = var(59)
trigger3 = vel X > 0
x = const(velocity.walk.fwd.x)

[State 20, 2]
type = VelSet
trigger1 = !var(59)
trigger1 = command = "holdback"
trigger2 = var(59)
trigger2 = !vel X
trigger3 = var(59)
trigger3 = vel X < 0
x = const(velocity.walk.back.x)

[State 20, 3]
type = ChangeAnim
triggerall = var(0) != -1
triggerall = var(0) != 2
triggerall = vel x > 0
trigger1 = Anim != 20+var(49) && Anim != 5+var(49)
trigger2 = Anim = 5+var(49) && AnimTime = 0
value = 20+var(49)

[State 20, 4]
type = ChangeAnim
triggerall = var(0) != -1
triggerall = var(0) != 2
triggerall = vel x < 0
trigger1 = Anim != 21+var(49) && Anim != 5+var(49)
trigger2 = Anim = 5+var(49) && AnimTime = 0
value = 21+var(49)

[State 20, 4]
type = changestate
triggerall = var(59)
trigger1 = time > 20
trigger1 = P2bodydist x <= 50 && anim = 20
trigger2 = inguarddist
trigger3 = roundstate != 2
value = 0
ctrl = 1



[Statedef 40]
type    = S
physics = N
anim = 40+var(49)
ctrl = 0
velset = 0,0

[State 20000]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "moji"
ID = 200010
pos = 0, -5
postype = p1
facing = facing
stateno = 200010
keyctrl = 0
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State -1, AI]
type = ChangeState
triggerall = Var(59)
trigger1 = Time = 0
value = 0
ctrl = 1
ignorehitpause = 1

[State 40, HitBy]
type = HitBy
trigger1 = 1
value = SCA, NA,SA,HA,NP,SP,HP

[State 40, 1]
type = VarSet
triggerall = !var(59)
trigger1 = Time = 0
sysvar(1) = command = "holdfwd"-command = "holdback"

[State 40, 1]
type = VarSet
triggerall = var(59)
trigger1 = time = 0
sysvar(1) = 1

[State 40, 2]
type = VarSet
triggerall = var(59)
trigger1 = time = 0
trigger1 = Random = [500,550]
sysvar(1) = 0

[State 40, 3]
type = VarSet
triggerall = var(59)
trigger1 = time = 0
trigger1 = Random = [600,650]
sysvar(1) = -1

[State 40, 4]
type = VarSet
trigger1 = Time = 0
var(3) = 0

[State 40, 4]
type = VarSet
triggerall = !var(59)
triggerall = Time = 0
trigger1 = PrevStateNo != 100 && PrevStateNo != 105
trigger1 = Command = "longjump"
var(3) = 1

[State 40, 4]
type = VarSet
triggerall = !var(59)
triggerall = Time = 0
trigger1 = PrevStateNo = 100 || PrevStateNo = 105
var(3) = 2

[State 40, 4]
type = VarSet
triggerall = var(59)
triggerall = Time = 0
trigger1 = PrevStateNo != 100 && PrevStateNo != 105
trigger1 = Random = [500,800]
var(3) = 1

[State 40, 4]
type = VarSet
triggerall = var(59)
triggerall = Time = 0
trigger1 = PrevStateNo = 100 || PrevStateNo = 105
var(3) = 2

[State 40, 4]
type = VarSet
trigger1 = Time = 0
var(4) = 0

[State 40, 5]
type = VarSet
triggerall = !var(59)
trigger1 = command != "holdup"
var(4) = 1

[State 40, 5]
type = VarSet
triggerall = var(59) = 1
trigger1 = time = 0
trigger1 = Random = [100,400]
var(4) = 1

[State 40, 6]
type = VelSet
trigger1 = time = 0
x = ifelse(!sysvar(1), 0, ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))*ifelse((!var(49)&&var(3))||(var(49)&&var(3)=2),1.33,1)

[State 40, 8]
type = VelSet
trigger1 = time = 0
y = const(velocity.jump.y)*ifelse(!var(49)&&var(3)=1,1.1,1)

[State 40, 8]
type = VelMul
triggerall = var(0) != -1
triggerall = var(0) != 2
trigger1 = var(4)
y = .64
persistent = 0

[State 40, 10]
type = PosFreeze
trigger1 = 1

[State 40, 10]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1



[Statedef 50]
type    = A
physics = N

[State 50, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 50, 2]
type = ChangeAnim
trigger1 = Time = 0
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))+var(49)

[State 50, 3]
type = ChangeAnim
trigger1 = Vel y > -2
trigger1 = SelfAnimExist(anim + 3)
persistent = 0
value = Anim + 3

[State -3, Variable Height]
type = PlayerPush
triggerall = statetype=A && movetype!=H && numenemy
triggerall = p2bodydist x = [-(enemynear,const(size.ground.back) + enemynear,const(size.ground.front)), 0]
trigger1 = p2statetype=S
trigger1 = p2dist y >= (enemynear,const(size.height) - 12)
trigger2 = p2statetype=C
trigger2 = p2dist y >= (enemynear,const(size.height) - 28)
trigger3 = p2statetype=L
trigger3 = p2dist y >= 12
value=0
ignorehitpause=1

[State 4030, Gravity]
type = VelAdd
triggerall = var(0) != -1
triggerall = var(0) != 2
trigger1 = !var(49)
y = ifelse(var(4),.5,.6)

[State 4030, Gravity]
type = VelAdd
triggerall = var(0) != -1
triggerall = var(0) != 2
trigger1 = var(49)
y = ifelse(var(3)||var(4),.5,.6)

[State 1100, ChangeState]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 52



[Statedef 48]
type    = A
physics = N
anim = 48+var(49)
ctrl = 0
velset = 0,0

[State 20000]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "moji"
ID = 200010
pos = 0, -5
postype = p1
facing = facing
stateno = 200010
keyctrl = 0
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 40, 1]
type = VarSet
triggerall = numhelper(33333)
triggerall = !(var(59) >= 1 || helper(33333),fvar(1))
trigger1 = Time = 0
sysvar(1) = (command = "holdfwd"-command = "holdback")*((P2Dist X >= 0)-(P2Dist X < 0))

[State 40, 1]
type = VarSet
triggerall = numhelper(33333)
triggerall = var(59) >= 1 || helper(33333),fvar(1)
trigger1 = time = 0
sysvar(1) = 1

[State 40, 2]
type = VarSet
triggerall = numhelper(33333)
triggerall = var(59) >= 1 || helper(33333),fvar(1)
triggerall = time = 0
trigger1 = (p2bodydist x = [55,75]) || (p2bodydist x = [-75-30,-55-30])
trigger1 = p2bodydist y < 120
trigger1 = enemynear,vel x = [-1,1]
sysvar(1) = 0

[State 40, 3]
type = VarSet
triggerall = numhelper(33333)
triggerall = var(59) >= 1 || helper(33333),fvar(1)
triggerall = time = 0
trigger1 = p2bodydist x <= 10
trigger1 = p2dist x >= 0
trigger1 = p2bodydist y < 120
trigger1 = backedgedist >= 120
sysvar(1) = -1

[State 40, 1]
type = VarSet
triggerall = numhelper(33333)
triggerall = var(59) >= 1 || helper(33333),fvar(1)
triggerall = time = 0
trigger1 = p2bodydist x <= 60
trigger1 = p2dist x >= 0
trigger1 = p2bodydist y < 120
trigger1 = enemynear,vel x = [-1,1]
trigger1 = numhelper(33333) && numhelper(22222)
trigger1 = (helper(22222),p2bodydist x >= 140 && facing = 1) || (helper(33333),p2bodydist x >= 140 && facing = -1)
trigger1 = random < 333
sysvar(1) = 1

[State 40, 4]
type = VarSet
trigger1 = Time = 0
var(3) = 0

[State 40, 4]
type = VarSet
triggerall = numhelper(33333)
triggerall = !(var(59) >= 1 || helper(33333),fvar(1))
triggerall = Time = 0
trigger1 = Command = "longjump"
var(3) = 1

[State 40, 4]
type = VarSet
triggerall = numhelper(33333)
triggerall = var(59) >= 1 || helper(33333),fvar(1)
trigger1 = Time = 0
var(3) = ifelse(sysvar(1) = 1, 1, 0)

[State 40, 5]
type = VarSet
triggerall = numhelper(33333)
triggerall = var(59) >= 1 || helper(33333),fvar(1)
trigger1 = p2bodydist x = [170,209]
trigger1 = p2bodydist y = [60,100]
trigger1 = sysvar(1) = 1
var(3) = 0

[State 40, 4]
type = VarSet
trigger1 = Time = 0
var(4) = 0

[State 40, 5]
type = VarSet
triggerall = numhelper(33333)
triggerall = !(var(59) >= 1 || helper(33333),fvar(1))
trigger1 = command != "holdup"
var(4) = 1

[State 40, 5]
type = VarSet
triggerall = numhelper(33333)
triggerall = var(59) >= 1 || helper(33333),fvar(1)
trigger1 = time = 0
var(4) = ifelse(sysvar(1) = 1, 0, ifelse(sysvar(1) = 0 && random < 500, 0, 1))

[State 40, 5]
type = VarSet
triggerall = numhelper(33333)
triggerall = var(59) >= 1 || helper(33333),fvar(1)
trigger1 = p2bodydist x = [170,189]
trigger1 = p2bodydist y = [60,100]
trigger1 = sysvar(1) = 1
var(4) = 1

[State 52, 1]
type = Turn
trigger1 = Time = 0
trigger1 = P2Dist X < 0

[State 40, 6]
type = VelSet
trigger1 = time = 0
x = ifelse(!sysvar(1), 0, ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))*ifelse((!var(49)&&var(3))||(var(49)&&var(3)=2),1.33,1)

[State 40, 8]
type = VelSet
trigger1 = time = 0
y = const(velocity.jump.y)*ifelse(!var(49)&&var(3)=1,1.1,1)

[State 40, 8]
type = VelMul
triggerall = var(0) != -1
triggerall = var(0) != 2
trigger1 = var(4)
y = .64
persistent = 0

[State 40, 10]
type = PosFreeze
trigger1 = 1

[State 52, Effect]
type = PlaySnd
trigger1 = Time = 0
value = 0, 0
channel = 0

[State 40, 1]
type = VarSet
trigger1 = Time = 0
var(53) = 1

[State 40, 10]
type = ChangeState
trigger1 = AnimTime = 0
value = 60
ctrl = 1



[Statedef 60]
type    = A
physics = N

[State 50, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 50, 2]
type = ChangeAnim
trigger1 = Time = 0
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))+var(49)

[State 50, 3]
type = ChangeAnim
trigger1 = Vel y > -2
trigger1 = SelfAnimExist(anim + 3)
persistent = 0
value = Anim + 3

[State -3, Variable Height]
type = PlayerPush
triggerall = statetype=A && movetype!=H && numenemy
triggerall = p2bodydist x = [-(enemynear,const(size.ground.back) + enemynear,const(size.ground.front)), 0]
trigger1 = p2statetype=S
trigger1 = p2dist y >= (enemynear,const(size.height) - 12)
trigger2 = p2statetype=C
trigger2 = p2dist y >= (enemynear,const(size.height) - 28)
trigger3 = p2statetype=L
trigger3 = p2dist y >= 12
value=0
ignorehitpause=1

[State 4030, Gravity]
type = VelAdd
trigger1 = var(0) != -1
trigger1 = var(0) != 2
y = ifelse(var(3)||var(4),.5,.6)

[State 1100, ChangeState]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 52



[Statedef 52]
type = S
physics = S
ctrl = 0
anim = 47+var(49)
velset = 0,0

[State 20000]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "moji"
ID = 20002
pos = 0, -5
postype = p1
facing = facing
stateno = 20002
keyctrl = 0
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 52, 1]
type = Turn
trigger1 = Time = 1
trigger1 = P2Dist X < 0

[State 52, 3]
type = CtrlSet
trigger1 = Time = 1
value = 1

[State 52, Effect]
type = PlaySnd
trigger1 = Time = 0
value = 52, 0

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



[Statedef 100]
type = S
physics = N
anim = 100+var(49)
velset = 0,0
ctrl = 0

[State 220, Position]
type = PosSet
trigger1 = Time = 0
y = 0

[State 100, 4]
type = ChangeAnim
triggerall = !var(49)
triggerall = AnimElemTime(7) < 0
trigger1 = !var(59)
trigger1 = command = "holdback" || (command != "holdfwd" && command = "holddown")
trigger2 = var(59) && (!var(0) || (var(0) = 3 && var(2)))
trigger2 = P2MoveType = A && Random <= 500 && P2BodyDist X <= 75
value = anim
elem = 7

[State 52, 3]
type = CtrlSet
trigger1 = !var(49) && AnimElem = 7
trigger2 = var(49) && AnimElemTime(10) = 1
value = 1

[State 100, 1]
type = VelSet
trigger1 = !var(49) && AnimElem = 2
trigger2 = var(49) && AnimElemTime(1) = 2
x = 9.6

[State 105, 1]
type = VelMul
triggerall = var(0) != -1
triggerall = var(0) != 2
trigger1 = !var(49) && AnimElemTime(2) > 0
trigger2 = var(49) && AnimElemTime(1) > 2
x = .95

[State 100, 1]
type = VelSet
trigger1 = !var(49) && AnimElem = 7
trigger2 = var(49) && AnimElemTime(10) = 1
x = 0

[State 100, 2]
type = AssertSpecial
trigger1 = 1
flag = NoWalk
flag2 = NoAutoTurn

[State 100, 4]
type = ChangeState
trigger1 = !var(59)
trigger1 = command = "holdup"
value = 40

[State 101, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



[Statedef 105]
type = S
physics = N
ctrl = 0
anim = 105+var(49)
velset = 0,0

[State 105, ‰¹‚ð–Â‚ç‚·]
type = PlaySnd
trigger1 = time = 0
value = s6, 8
channel = -1 

[State 100]
type = Explod
trigger1 = time = 0
anim = 106
ID = 106
pos = -40, -85
postype = p1
facing = -1
bindtime = 1
removetime = -2
supermovetime = 0
pausemovetime = 0
scale = 1, 1
sprpriority = 4

[State 220, Position]
type = PosSet
trigger1 = Time = 0
y = 0

[State 100, 4]
type = ChangeAnim
triggerall = !var(49)
triggerall = AnimElemTime(9) < 0
trigger1 = !var(59)
trigger1 = command = "holdfwd" || (command != "holdback" && command = "holddown")
value = anim
elem = 9

[State 52, 3]
type = CtrlSet
trigger1 = !var(49) && AnimElem = 9
trigger2 = var(49) && AnimElem = 10
value = 1

[State 100, 1]
type = VelSet
trigger1 = !var(49) && AnimElem = 2
trigger2 = var(49) && AnimElemTime(1) = 1
x = -8.3

[State 105, 1]
type = VelMul
triggerall = var(0) != -1
triggerall = var(0) != 2
trigger1 = !var(49) && AnimElemTime(2) > 0
trigger2 = var(49) && AnimElemTime(1) > 1
x = .95

[State 100, 1]
type = VelSet
trigger1 = !var(49) && AnimElem = 9
trigger2 = var(49) && AnimElem = 10
x = 0

[State 100, 4]
type = ChangeState
trigger1 = !var(59)
trigger1 = command = "holdup"
value = 40

[State 101, 3]
type = ChangeState
trigger1 = !var(49) && AnimElem = 11
trigger2 = var(49) && AnimTime = 0
value = 0
ctrl = 1



[Statedef 120]
type = U
physics = U
ctrl = !var(59)

[State AI fix]
type = ctrlset
trigger1 = var(59)
value= (enemynear,time >= 120 || time >= 180)

[State 120, 1]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = statetype != A
value = 120 + (statetype = C) +var(49)

[State 120, 2]
type = StateTypeSet
trigger1 = Time = 0 && statetype = S
physics = S

[State 120, 3]
type = StateTypeSet
trigger1 = Time = 0 && statetype = C
physics = C

[State 120, 4]
type = StateTypeSet
trigger1 = Time = 0 && statetype = A
physics = A

[State 120, Hi to Lo]
type = StateTypeSet
triggerall= !var(59) || numhelper(33333)
triggerall= !var(59) || numhelper(55555)
triggerall= !var(59) || !(helper(33333),var(10)&2**1) || enemynear,statetype = C || (helper(55555),var(10)&2**11)
trigger1 = !var(59)
trigger1 = statetype = S && command = "holddown"
trigger2 = var(59) && statetype = S && (enemynear,hitdefattr = C,AA || enemynear,hitdefattr = SCA,AP)
trigger3 = var(59) && statetype = S && enemynear,hitdefattr = S,AA && enemynear,time < 15
trigger4 = var(59) && statetype = S && (enemynear,statetype = C || enemynear,statetype = S)
trigger4 = !(helper(55555),var(10)&2**10)
trigger4 = enemy,numproj
trigger5 = var(59) && statetype = S && (helper(55555),var(10)&2**11)
trigger5 = !(enemynear,hitdefattr = A,AA && p2dist x <= enemy,Const(size.attack.dist))
statetype = C
physics = C

[State 120, Lo to Hi]
type = StateTypeSet
triggerall= !var(59) || numhelper(33333)
triggerall= !var(59) || numhelper(55555)
triggerall= !var(59) || !(helper(33333),var(10)&2**0) || enemynear,statetype = A || (helper(55555),var(10)&2**12)
trigger1 = !var(59)
trigger1 = statetype = C && command != "holddown"
trigger2 = var(59) && statetype = C && enemynear,hitdefattr = A,AA
trigger3 = var(59) && statetype = C && enemynear,hitdefattr = S,AA && enemynear,time >= 15
trigger4 = var(59) && statetype = C && (enemynear,statetype = A)
trigger4 = !(helper(55555),var(10)&2**10)
trigger4 = enemy,numproj
trigger5 = var(59) && statetype = C && (helper(55555),var(10)&2**12)
trigger5 = !(enemynear,hitdefattr = C,AA && p2dist x <= enemy,Const(size.attack.dist))
statetype = S
physics = S

[State 120, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 130 + (statetype = C) + (statetype = A)*2

[State 120, Stop Guarding]
type = ChangeState
triggerall= numhelper(55555)
triggerall= numhelper(33333)
triggerall= numhelper(22222)
trigger1 = !var(59)
trigger1 = command != "holdback"
trigger2 = var(59)
trigger2 = enemynear,hitdefattr = SCA,AT
trigger3 = !inguarddist
trigger3 = !var(59) || (!(helper(33333),var(10)&2**3) && !(enemy,numproj && enemynear,p2dist x>=0 && p2bodydist x<=120 && p2bodydist y>=-120))
trigger3 = !var(59) || !helper(55555),inguarddist
value = 140



[Statedef 130]
type    = S
physics = S

[State AI fix]
type = ctrlset
trigger1 = var(59)
value= (enemynear,time >= 120 || time >= 180)

[State 130, 1]
type = ChangeAnim
trigger1 = Anim != 130+var(49)
value = 130+var(49)

[State 130, Hi to Lo]
type = ChangeState
triggerall= !var(59) || numhelper(33333)
triggerall= !var(59) || numhelper(55555)
triggerall= !var(59) || !(helper(33333),var(10)&2**1) || enemynear,statetype = C || (helper(55555),var(10)&2**11)
triggerall= !var(59) || time > 0
trigger1 = !var(59)
trigger1 = command = "holddown"
trigger2 = var(59) && statetype = S && (enemynear,hitdefattr = C,AA || enemynear,hitdefattr = SCA,AP)
trigger3 = var(59) && statetype = S && enemynear,hitdefattr = S,AA && enemynear,time < 15
trigger4 = var(59) && statetype = S && (enemynear,statetype = C || enemynear,statetype = S)
trigger4 = !(helper(55555),var(10)&2**10)
trigger4 = enemy,numproj
trigger5 = var(59) && statetype = S && (helper(55555),var(10)&2**11)
trigger5 = !(enemynear,hitdefattr = A,AA && p2dist x <= enemy,Const(size.attack.dist))
value = 131

[State 130, Stop Guarding]
type = ChangeState
triggerall= numhelper(55555)
triggerall= numhelper(33333)
triggerall= numhelper(22222)
trigger1 = !var(59)
trigger1 = command != "holdback"
trigger2 = var(59)
trigger2 = enemynear,hitdefattr = SCA,AT
trigger3 = !inguarddist
trigger3 = !var(59) || (!(helper(33333),var(10)&2**3) && !(enemy,numproj && enemynear,p2dist x>=0 && p2bodydist x<=120 && p2bodydist y>=-120))
trigger3 = !var(59) || !helper(55555),inguarddist
value = 140



[Statedef 131]
type = C
physics = C

[State AI fix]
type = ctrlset
trigger1 = var(59)
value= (enemynear,time >= 120 || time >= 180)

[State 131, 1]
type = ChangeAnim
trigger1 = Anim != 131+var(49)
value = 131+var(49)

[State 131, Lo to Hi]
type = ChangeState
triggerall= !var(59) || numhelper(33333)
triggerall= !var(59) || numhelper(55555)
triggerall= !var(59) || !(helper(33333),var(10)&2**0) || enemynear,statetype = A || (helper(55555),var(10)&2**12)
triggerall= !var(59) || time > 0
trigger1 = !var(59)
trigger1 = command != "holddown"
trigger2 = var(59) && statetype = C && enemynear,hitdefattr = A,AA
trigger3 = var(59) && statetype = C && enemynear,hitdefattr = S,AA && enemynear,time >= 15
trigger4 = var(59) && statetype = C && (enemynear,statetype = A)
trigger4 = !(helper(55555),var(10)&2**10)
trigger4 = enemy,numproj
trigger5 = var(59) && statetype = C && (helper(55555),var(10)&2**12)
trigger5 = !(enemynear,hitdefattr = C,AA && p2dist x <= enemy,Const(size.attack.dist))
value = 130

[State 131, Stop Guarding]
type = ChangeState
triggerall= numhelper(55555)
triggerall= numhelper(33333)
triggerall= numhelper(22222)
trigger1 = !var(59)
trigger1 = command != "holdback"
trigger2 = var(59)
trigger2 = enemynear,hitdefattr = SCA,AT
trigger3 = !inguarddist
trigger3 = !var(59) || (!(helper(33333),var(10)&2**3) && !(enemy,numproj && enemynear,p2dist x>=0 && p2bodydist x<=120 && p2bodydist y>=-120))
trigger3 = !var(59) || !helper(55555),inguarddist
value = 140



[Statedef 132]
type    = A
physics = N

[State 132, 1]
type = null
trigger1 = Anim != 132+var(49)
value = 132+var(49)

[State 132, 2]
type = VelAdd
trigger1 = 1
y = Const(movement.yaccel)

[State 132, 3]
type = VarSet
trigger1 = 1
sysvar(0) = (pos y >= 0) && (vel y > 0)

[State 132, 4]
type = VelSet
trigger1 = sysvar(0)
y = 0

[State 132, 5]
type = PosSet
trigger1 = sysvar(0)
y = 0

[State 132, 6]
type = ChangeState
triggerall = sysvar(0)
triggerall = inguarddist
trigger1 = !var(59)
trigger1 = command = "holdback"
trigger2 = var(59)
trigger2 = time > 0
value = 130

[State 132, 7]
type = ChangeState
trigger1 = sysvar(0)
value = 52

[State 132, Stop Guarding]
type = ChangeState
triggerall= numhelper(55555)
triggerall= numhelper(33333)
triggerall= numhelper(22222)
trigger1 = !var(59)
trigger1 = command != "holdback"
trigger2 = var(59)
trigger2 = !(enemynear,hitdefattr = SCA,AA,AP)
trigger2 = vel y > 0 || enemynear,hitdefattr = SCA,AT
trigger3 = !inguarddist
trigger3 = !var(59) || (!(helper(33333),var(10)&2**3) && !(enemy,numproj && enemynear,p2dist x>=0 && p2bodydist x<=120 && p2bodydist y>=-120))
trigger3 = !var(59) || !helper(55555),inguarddist
value = 140



[Statedef 140]
type = U
physics = U
ctrl = 1

[State 140, 1]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = statetype != A
value = 140 + (statetype = C) +var(49)

[State 140, 2]
type = StateTypeSet
trigger1 = Time = 0 && statetype = S
physics = S

[State 140, 3]
type = StateTypeSet
trigger1 = Time = 0 && statetype = C
physics = C

[State 140, 4]
type = StateTypeSet
trigger1 = Time = 0 && statetype = A
physics = A

[State 140, Hi to Lo]
type = StateTypeSet
triggerall= !var(59) || numhelper(33333)
triggerall= !var(59) || numhelper(55555)
triggerall= !var(59) || !(helper(33333),var(10)&2**1) || enemynear,statetype = C || (helper(55555),var(10)&2**11)
trigger1 = !var(59)
trigger1 = statetype = S && command = "holddown"
trigger2 = var(59) && statetype = S && (enemynear,hitdefattr = C,AA || enemynear,hitdefattr = SCA,AP)
trigger3 = var(59) && statetype = S && enemynear,hitdefattr = S,AA && enemynear,time < 15
trigger4 = var(59) && statetype = S && (enemynear,statetype = C || enemynear,statetype = S)
trigger4 = !(helper(55555),var(10)&2**10)
trigger4 = enemy,numproj
trigger5 = var(59) && statetype = S && (helper(55555),var(10)&2**11)
trigger5 = !(enemynear,hitdefattr = A,AA && p2dist x <= enemy,Const(size.attack.dist))
statetype = C
physics = C

[State 140, Lo to Hi]
type = StateTypeSet
triggerall= !var(59) || numhelper(33333)
triggerall= !var(59) || numhelper(55555)
triggerall= !var(59) || !(helper(33333),var(10)&2**0) || enemynear,statetype = A || (helper(55555),var(10)&2**12)
trigger1 = !var(59)
trigger1 = statetype = C && command != "holddown"
trigger2 = var(59) && statetype = C && enemynear,hitdefattr = A,AA
trigger3 = var(59) && statetype = C && enemynear,hitdefattr = S,AA && enemynear,time >= 15
trigger4 = var(59) && statetype = C && (enemynear,statetype = A)
trigger4 = !(helper(55555),var(10)&2**10)
trigger4 = enemy,numproj
trigger5 = var(59) && statetype = C && (helper(55555),var(10)&2**12)
trigger5 = !(enemynear,hitdefattr = C,AA && p2dist x <= enemy,Const(size.attack.dist))
statetype = S
physics = S








[Statedef 150]
type    = S
movetype = H
physics = N
velset = 0,0

[State 150, 1]
type = ChangeAnim
trigger1 = 1
value = 150+var(49)

[State 150, 2]
type = ChangeState
trigger1 = !var(59)
trigger1 = HitShakeOver
value = 151 + 2*(command = "holddown")

[State 150, 2]
type = ChangeState
trigger1 = var(59)
trigger1 = HitShakeOver
value = 151 + 2*(P2statetype = C || P2bodydist x > 100)

[State 150, Hi to Lo]
type = StateTypeSet
triggerall= !var(59) || numhelper(33333)
triggerall= !var(59) || numhelper(55555)
triggerall= !var(59) || !(helper(33333),var(10)&2**1) || enemynear,statetype = C || (helper(55555),var(10)&2**11)
trigger1 = !var(59)
trigger1 = statetype = S && command = "holddown"
trigger2 = var(59) && statetype = S && (enemynear,hitdefattr = C,AA || enemynear,hitdefattr = SCA,AP)
trigger3 = var(59) && statetype = S && enemynear,hitdefattr = S,AA && enemynear,time < 15
trigger4 = var(59) && statetype = S && (enemynear,statetype = C || enemynear,statetype = S)
trigger4 = !(helper(55555),var(10)&2**10)
trigger4 = enemy,numproj
trigger5 = var(59) && statetype = S && (helper(55555),var(10)&2**11)
trigger5 = !(enemynear,hitdefattr = A,AA && p2dist x <= enemy,Const(size.attack.dist))
statetype = C
physics = C

[State 150, Lo to Hi]
type = StateTypeSet
triggerall= !var(59) || numhelper(33333)
triggerall= !var(59) || numhelper(55555)
triggerall= !var(59) || !(helper(33333),var(10)&2**0) || enemynear,statetype = A || (helper(55555),var(10)&2**12)
trigger1 = !var(59)
trigger1 = statetype = C && command != "holddown"
trigger2 = var(59) && statetype = C && enemynear,hitdefattr = A,AA
trigger3 = var(59) && statetype = C && enemynear,hitdefattr = S,AA && enemynear,time >= 15
trigger4 = var(59) && statetype = C && (enemynear,statetype = A)
trigger4 = !(helper(55555),var(10)&2**10)
trigger4 = enemy,numproj
trigger5 = var(59) && statetype = C && (helper(55555),var(10)&2**12)
trigger5 = !(enemynear,hitdefattr = C,AA && p2dist x <= enemy,Const(size.attack.dist))
statetype = S
physics = S

[State 150, 3]
type = ForceFeedback
trigger1 = time = 0
waveform = square
time = 3



[Statedef 151]
type    = S
movetype = H
physics = S
anim = 150+var(49)

[State 151, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 151, 2]
type = VelSet
trigger1 = Time = GetHitVar(slidetime)
trigger2 = HitOver
trigger3 = prevstateno = 810
trigger3 = numhelper(815) = 1
trigger4 = prevstateno = 811
trigger4 = numhelper(815) = 1
x = 0

[State 151, 3]
type = CtrlSet
trigger1 = Time = GetHitVar(ctrltime)
trigger1 = prevstateno != [810,811]
value = 1

[State 151, Hi to Lo]
type = StateTypeSet
triggerall= !var(59) || numhelper(33333)
triggerall= !var(59) || numhelper(55555)
triggerall= !var(59) || !(helper(33333),var(10)&2**1) || enemynear,statetype = C || (helper(55555),var(10)&2**11)
trigger1 = !var(59)
trigger1 = statetype = S && command = "holddown"
trigger2 = var(59) && statetype = S && (enemynear,hitdefattr = C,AA || enemynear,hitdefattr = SCA,AP)
trigger3 = var(59) && statetype = S && enemynear,hitdefattr = S,AA && enemynear,time < 15
trigger4 = var(59) && statetype = S && (enemynear,statetype = C || enemynear,statetype = S)
trigger4 = !(helper(55555),var(10)&2**10)
trigger4 = enemy,numproj
trigger5 = var(59) && statetype = S && (helper(55555),var(10)&2**11)
trigger5 = !(enemynear,hitdefattr = A,AA && p2dist x <= enemy,Const(size.attack.dist))
statetype = C
physics = C

[State 151, Lo to Hi]
type = StateTypeSet
triggerall= !var(59) || numhelper(33333)
triggerall= !var(59) || numhelper(55555)
triggerall= !var(59) || !(helper(33333),var(10)&2**0) || enemynear,statetype = A || (helper(55555),var(10)&2**12)
trigger1 = !var(59)
trigger1 = statetype = C && command != "holddown"
trigger2 = var(59) && statetype = C && enemynear,hitdefattr = A,AA
trigger3 = var(59) && statetype = C && enemynear,hitdefattr = S,AA && enemynear,time >= 15
trigger4 = var(59) && statetype = C && (enemynear,statetype = A)
trigger4 = !(helper(55555),var(10)&2**10)
trigger4 = enemy,numproj
trigger5 = var(59) && statetype = C && (helper(55555),var(10)&2**12)
trigger5 = !(enemynear,hitdefattr = C,AA && p2dist x <= enemy,Const(size.attack.dist))
statetype = S
physics = S

[State 151, 4]
type = ChangeState
trigger1 = HitOver
trigger1 = prevstateno != [810,811]
trigger2 = prevstateno = [810,811]
trigger2 = !numhelper(815)
value = 130
ctrl = 1

[State 151, 5]
type = ChangeState
triggerall = numhelper(815) = 1
trigger1 = command != "holdback"
trigger1 = prevstateno = 811
trigger2 = prevstateno = 810
trigger2 = helper(8500),var(4) + helper(8500),var(5) > helper(8500),var(3)
trigger3 = prevstateno = 810
trigger3 = helper(8500),var(4) + helper(8500),var(5) > helper(8500),var(6)
value = 811



[Statedef 152]
type = C
movetype = H
physics = N
velset = 0,0

[State 152, 1]
type = ChangeAnim
trigger1 = 1
value = 151+var(49)

[State 152, 3]
type = ChangeState
trigger1 = !var(59)
trigger1 = HitShakeOver
value = 151 + 2*(command = "holddown")

[State 152, 3]
type = ChangeState
trigger1 = var(59)
trigger1 = HitShakeOver
value = 151 + 2*(P2statetype = C || P2bodydist x > 100)

[State 152, Hi to Lo]
type = StateTypeSet
triggerall= !var(59) || numhelper(33333)
triggerall= !var(59) || numhelper(55555)
triggerall= !var(59) || !(helper(33333),var(10)&2**1) || enemynear,statetype = C || (helper(55555),var(10)&2**11)
trigger1 = !var(59)
trigger1 = statetype = S && command = "holddown"
trigger2 = var(59) && statetype = S && (enemynear,hitdefattr = C,AA || enemynear,hitdefattr = SCA,AP)
trigger3 = var(59) && statetype = S && enemynear,hitdefattr = S,AA && enemynear,time < 15
trigger4 = var(59) && statetype = S && (enemynear,statetype = C || enemynear,statetype = S)
trigger4 = !(helper(55555),var(10)&2**10)
trigger4 = enemy,numproj
trigger5 = var(59) && statetype = S && (helper(55555),var(10)&2**11)
trigger5 = !(enemynear,hitdefattr = A,AA && p2dist x <= enemy,Const(size.attack.dist))
statetype = C
physics = C

[State 152, Lo to Hi]
type = StateTypeSet
triggerall= !var(59) || numhelper(33333)
triggerall= !var(59) || numhelper(55555)
triggerall= !var(59) || !(helper(33333),var(10)&2**0) || enemynear,statetype = A || (helper(55555),var(10)&2**12)
trigger1 = !var(59)
trigger1 = statetype = C && command != "holddown"
trigger2 = var(59) && statetype = C && enemynear,hitdefattr = A,AA
trigger3 = var(59) && statetype = C && enemynear,hitdefattr = S,AA && enemynear,time >= 15
trigger4 = var(59) && statetype = C && (enemynear,statetype = A)
trigger4 = !(helper(55555),var(10)&2**10)
trigger4 = enemy,numproj
trigger5 = var(59) && statetype = C && (helper(55555),var(10)&2**12)
trigger5 = !(enemynear,hitdefattr = C,AA && p2dist x <= enemy,Const(size.attack.dist))
statetype = S
physics = S

[State 152, 4]
type = ForceFeedback
trigger1 = time = 0
waveform = square
time = 4



[Statedef 153]
type = C
movetype = H
physics = C
anim = 151+var(49)

[State 153, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 153, 2]
type = VelSet
trigger1 = Time = GetHitVar(slidetime)
trigger2 = HitOver
trigger3 = prevstateno = 810
trigger3 = numhelper(815) = 1
trigger4 = prevstateno = 811
trigger4 = numhelper(815) = 1
x = 0

[State 153, 3]
type = CtrlSet
trigger1 = Time = GetHitVar(ctrltime)
trigger1 = prevstateno != [810,811]
value = 1

[State 153, Hi to Lo]
type = StateTypeSet
triggerall= !var(59) || numhelper(33333)
triggerall= !var(59) || numhelper(55555)
triggerall= !var(59) || !(helper(33333),var(10)&2**1) || enemynear,statetype = C || (helper(55555),var(10)&2**11)
trigger1 = !var(59)
trigger1 = statetype = S && command = "holddown"
trigger2 = var(59) && statetype = S && (enemynear,hitdefattr = C,AA || enemynear,hitdefattr = SCA,AP)
trigger3 = var(59) && statetype = S && enemynear,hitdefattr = S,AA && enemynear,time < 15
trigger4 = var(59) && statetype = S && (enemynear,statetype = C || enemynear,statetype = S)
trigger4 = !(helper(55555),var(10)&2**10)
trigger4 = enemy,numproj
trigger5 = var(59) && statetype = S && (helper(55555),var(10)&2**11)
trigger5 = !(enemynear,hitdefattr = A,AA && p2dist x <= enemy,Const(size.attack.dist))
statetype = C
physics = C

[State 153, Lo to Hi]
type = StateTypeSet
triggerall= !var(59) || numhelper(33333)
triggerall= !var(59) || numhelper(55555)
triggerall= !var(59) || !(helper(33333),var(10)&2**0) || enemynear,statetype = A || (helper(55555),var(10)&2**12)
trigger1 = !var(59)
trigger1 = statetype = C && command != "holddown"
trigger2 = var(59) && statetype = C && enemynear,hitdefattr = A,AA
trigger3 = var(59) && statetype = C && enemynear,hitdefattr = S,AA && enemynear,time >= 15
trigger4 = var(59) && statetype = C && (enemynear,statetype = A)
trigger4 = !(helper(55555),var(10)&2**10)
trigger4 = enemy,numproj
trigger5 = var(59) && statetype = C && (helper(55555),var(10)&2**12)
trigger5 = !(enemynear,hitdefattr = C,AA && p2dist x <= enemy,Const(size.attack.dist))
statetype = S
physics = S

[State 153, 4]
type = ChangeState
trigger1 = HitOver
trigger1 = prevstateno != [810,811]
trigger2 = prevstateno = [810,811]
trigger2 = !numhelper(815)
value = 131
ctrl = 1

[State 153, 5]
type = ChangeState
triggerall = numhelper(815) = 1
trigger1 = command != "holdback"
trigger1 = prevstateno = 811
trigger2 = prevstateno = 810
trigger2 = helper(8500),var(4) + helper(8500),var(5) > helper(8500),var(3)
trigger3 = prevstateno = 810
trigger3 = helper(8500),var(4) + helper(8500),var(5) > helper(8500),var(6)
value = 811



[Statedef 154]
type    = A
movetype = H
physics = N
velset = 0,0

[State 154, 1]
type = ChangeAnim
trigger1 = 1
value = 152+var(49)

[State 154, 2]
type = ChangeState
trigger1 = HitShakeOver
value = 155

[State 154, 3]
type = ForceFeedback
trigger1 = time = 0
waveform = square
time = 4



[Statedef 155]
type    = A
movetype = H
physics = N
anim = 152+var(49)

[State 155, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 155, 2]
type = VelAdd
trigger1 = var(0) != -1
trigger1 = var(0) != 2
y = Const(movement.yaccel)

[State 155, 3]
type = CtrlSet
trigger1 = Time = GetHitVar(ctrltime)
value = 1

[State 155, 4]
type = VarSet
trigger1 = 1
sysvar(0) = (pos y >= 0) && (vel y > 0)

[State 155, 5]
type = VelSet
trigger1 = sysvar(0)
y = 0

[State 155, 6]
type = PosSet
trigger1 = sysvar(0)
y = 0

[State 155, 6]
type = ChangeState
triggerall = sysvar(0)
triggerall = inguarddist
trigger1 = !var(59)
trigger1 = command = "holdback"
trigger2 = var(59)
value = 130

[State 155, 7]
type = ChangeState
trigger1 = sysvar(0)
value = 52



[Statedef 5000]
type    = S
movetype = H
physics = N
velset = 0,0

[State 5000, 1]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = ifelse((GetHitVar(groundtype) = 1),5000,5010) + GetHitVar(animtype)+var(49)

[State 5000, 2]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030+var(49)

[State 5000, 3]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)+var(49)))
value = 5047 + GetHitVar(animtype)+var(49)

[State 5000, 4]
type = ChangeAnim
trigger1 = animelem = 4
value = anim
elem = 2

[State 5000, 5]
type = StateTypeSet
trigger1 = Time = 0
trigger1 = GetHitVar(yvel) != 0 || GetHitVar(fall)
trigger2 = Pos Y != 0
trigger3 = GetHitVar(animtype) = [3,5]
statetype = a

[State 5000, 6]
type = ChangeState
trigger1 = HitShakeOver
trigger1 = GetHitVar(yvel) = 0 && !GetHitVar(fall)
value = 5001

[State 5000, 7]
type = ChangeState
trigger1 = HitShakeOver
value = 5030

[State 5000, FFB Light]
type = ForceFeedback
trigger1 = anim = 5000+var(49)
trigger2 = anim = 5010+var(49)
persistent = 0
time = 6
waveform = square

[State 5000, FFB Medium]
type = ForceFeedback
trigger1 = anim = 5001+var(49)
trigger2 = anim = 5011+var(49)
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 5000, FFB Hard]
type = ForceFeedback
trigger1 = anim = 5012+var(49)
trigger2 = anim = 5002+var(49)
trigger3 = anim = 5030+var(49)
persistent = 0
time = 15
waveform = sinesquare
ampl = 140



[Statedef 5001]
type    = S
movetype = H
physics = S

[State 5001, 1]
type = HitVelSet
trigger1 = var(0) != -1
trigger1 = var(0) != 2
x = 1
persistent = 0

[State 5001, 2]
type = ChangeAnim
trigger1 = var(0) != -1
trigger1 = var(0) != 2
value = 5005 + GetHitVar(animtype) + ((GetHitVar(groundtype)=2)*10)+var(49)
persistent = 0

[State 5001, 3]
type = VelMul
trigger1 = Time >= GetHitVar(slidetime)
trigger1 = !var(11)
x = .6

[State 5001, 4]
type = VelSet
trigger1 = HitOver && !var(34)
x = 0

[State 5001, 5]
type = DefenceMulSet
trigger1 = HitOver && !var(34)
value = 1

[State 5001, 6]
type = ChangeState
trigger1 = HitOver && !var(34)
value = 0
ctrl = 1



[Statedef 5010]
type = C
movetype = H
physics = N
velset = 0,0

[State 5010, 0]
type = StateTypeSet
triggerall = Time = 0
triggerall = var(49)
trigger1 = prevstateno = [5010,5011]
trigger2 = prevstateno = [15010,15011]
statetype = s

[State 5010, 0]
type = ChangeState
triggerall = Time = 0
triggerall = var(49)
trigger1 = prevstateno = [5010,5011]
trigger2 = prevstateno = [15010,15011]
value = 5000

[State 5010, 1]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = 5020 + GetHitVar(animtype)+var(49)

[State 5010, 2]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030+var(49)

[State 5010, 3]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)+var(49)))
value = 5047 + GetHitVar(animtype)+var(49)

[State 5010, 4]
type = ChangeAnim
trigger1 = animelem = 4
value = anim
elem = 2

[State 5010, 5]
type = StateTypeSet
triggerall = Time = 0
trigger1 = GetHitVar(yvel) != 0 || GetHitVar(fall)
trigger2 = Pos Y != 0
trigger3 = GetHitVar(animtype) = [3,5]
statetype = a

[State 5010, 6]
type = ChangeState
trigger1 = HitShakeOver
trigger1 = GetHitVar(yvel) = 0 && !GetHitVar(fall)
value = 5011

[State 5010, 7]
type = ChangeState
trigger1 = HitShakeOver
value = 5030

[State 5010, FFB Light]
type = ForceFeedback
trigger1 = anim = 5020+var(49)
persistent = 0
time = 6
waveform = square

[State 5010, FFB Medium]
type = ForceFeedback
trigger1 = anim = 5021+var(49)
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 5010, FFB Hard]
type = ForceFeedback
trigger1 = anim = 5022+var(49)
persistent = 0
time = 15
waveform = sinesquare
ampl = 140



[Statedef 5011]
type = C
movetype = H
physics = C

[State 5011, 1]
type = HitVelSet
trigger1 = var(0) != -1
trigger1 = var(0) != 2
x = 1
persistent = 0

[State 5011, 2]
type = ChangeAnim
trigger1 = var(0) != -1
trigger1 = var(0) != 2
value = 5025 + GetHitVar(animtype)+var(49)
persistent = 0

[State 5011, 3]
type = VelMul
trigger1 = Time >= GetHitVar(slidetime)
trigger1 = !var(11)
x = .6

[State 5011, 4]
type = VelSet
trigger1 = HitOver && !var(34)
x = 0

[State 5011, 5]
type = DefenceMulSet
trigger1 = HitOver && !var(34)
value = 1

[State 5011, 6]
type = ChangeState
trigger1 = HitOver && !var(34)
value = 11
ctrl = 1



[Statedef 5020]
type    = A
movetype = H
physics = N
velset = 0,0

[State 5020, 1]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = ifelse((GetHitVar(airtype) = 1),5000,5010) + GetHitVar(animtype)+var(49)

[State 5020, 2]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030+var(49)

[State 5020, 3]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)+var(49)))
value = 5047 + GetHitVar(animtype)+var(49)

[State 5020, 4]
type = ChangeAnim
trigger1 = animelem = 4
value = anim
elem = 2

[State 5020, 5]
type = ChangeState
trigger1 = HitShakeOver
value = 5030

[State 5020, FFB Light]
type = ForceFeedback
trigger1 = anim = 5000+var(49)
trigger2 = anim = 5010+var(49)
persistent = 0
time = 6
waveform = square

[State 5020, FFB Medium]
type = ForceFeedback
trigger1 = anim = 5001+var(49)
trigger2 = anim = 5011+var(49)
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 5020, FFB Hard]
type = ForceFeedback
trigger1 = anim = 5012+var(49)
trigger2 = anim = 5002+var(49)
trigger3 = anim = 5030+var(49)
trigger4 = anim = [5051+var(49),5059+var(49)]
persistent = 0
time = 15
waveform = sinesquare
ampl = 140



[Statedef 5030]
type    = A
movetype = H
physics = N
ctrl = 0

[State 5030, 1]
type = ChangeAnim
triggerall = anim = [15000,15999]
triggerall = !alive
trigger1 = var(0) != -1
trigger1 = var(0) != 2
value = anim-10000
persistent = 0

[State 5030, 1]
type = VelAdd
trigger1 = var(0) != -1
trigger1 = var(0) != 2
y = GetHitVar(yaccel)

[State 5030, 2]
type = HitVelSet
trigger1 = var(0) != -1
trigger1 = var(0) != 2
x = 1
y = 1
persistent = 0

[State 5030, 3]
type = ChangeState
triggerall = !HitFall
trigger1 = HitOver && !var(34)
trigger2 = Vel Y > 0
trigger2 = Pos Y >= 10
value = 5040

[State 5030, 4]
type = ChangeState
triggerall = HitFall
trigger1 = HitOver && !var(34)
trigger2 = Vel Y > 0
trigger2 = Pos Y >= 10
value = ifelse(var(49)&&alive,5040,5050)

[State 5030, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = ifelse(var(49)&&alive,5040,5035)



[Statedef 5035]
type    = A
movetype = H
physics = N

[State 5035, 1]
type = ChangeAnim
trigger1 = var(0) != -1
trigger1 = var(0) != 2
trigger1 = SelfAnimExist(5035+var(49))
trigger1 = Anim != [5051+var(49),5059+var(49)]
trigger1 = Anim != 5090+var(49)
value = 5035+var(49)
persistent = 0

[State 5035, 2]
type = VelAdd
trigger1 = var(0) != -1
trigger1 = var(0) != 2
y = GetHitVar(yaccel)

[State 5035, 3]
type = ChangeState
triggerall = !HitFall
trigger1 = HitOver && !var(34)
trigger2 = AnimTime = 0
trigger3 = Vel Y > 0
trigger3 = Pos Y >= 10
trigger4 = var(0) != -1
trigger4 = var(0) != 2
trigger4 = Anim != 5035+var(49)
value = 5040

[State 5035, 4]
type = ChangeState
triggerall = HitFall
trigger1 = HitOver && !var(34)
trigger2 = AnimTime = 0
trigger3 = Vel Y > 0
trigger3 = Pos Y >= 10
trigger4 = var(0) != -1
trigger4 = var(0) != 2
trigger4 = Anim != 5035+var(49)
value = 5050



[Statedef 5040]
type    = A
movetype = H
physics = N

[State 5040, 1]
type = ChangeState
trigger1 = !Alive
value = 5050

[State 5040, 2]
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = Anim != 5040+var(49)
trigger2 = Time = 0
trigger2 = Anim != 5035+var(49)
value = 5040+var(49)

[State 5040, 3]
type = null
trigger1 = HitOver && !var(34)
value = 1

[State 5040, 4]
type = StateTypeSet
trigger1 = HitOver && !var(34)
movetype = I

[State 5040, 5]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5040, 4]
type = ChangeState
triggerall = !var(49)
triggerall = var(0) != -1
triggerall = var(0) != 2
triggerall = Vel Y > 0
triggerall = Pos Y >= -20
triggerall = alive
triggerall = HitOver && !var(34)
trigger1 = !var(59)
trigger1 = Command = "recovery"
value = 5200

[State 5040, 5]
type = ChangeState
triggerall = var(0) != -1
triggerall = var(0) != 2
triggerall = Vel Y > -1
triggerall = alive
triggerall = HitOver && !var(34)
trigger1 = !var(59)
trigger1 = Command = "recovery"
value = 5210

[State 5040, 6]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 52



[Statedef 5050]
type    = A
movetype = H
physics = N

[State 5050, 1]
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = Anim = 5035
trigger2 = var(0) != -1
trigger2 = var(0) != 2
trigger2 = Anim != 5035
trigger2 = (Anim != [5051, 5059]) && (Anim != [5061, 5069])
trigger2 = Anim != 5090
value = 5050
persistent = 0

[State 5050, 2]
type = ChangeAnim
trigger1 = anim = [5050,5059]
trigger1 = Vel Y >= ifelse(anim = 5050, 1, -2)
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0

[State 5050, 3]
type = VelAdd
trigger1 = var(0) != 2
y = GetHitVar(yaccel)

[State 5050, 4]
type = ChangeState
triggerall = !var(49)
triggerall = var(0) != -1
triggerall = var(0) != 2
triggerall = Vel Y > 0
triggerall = Pos Y >= -20
triggerall = alive

trigger1 = !var(59)
trigger1 = Command = "recovery"
value = 5200

[State 5050, 5]
type = ChangeState
triggerall = var(0) != -1
triggerall = var(0) != 2
triggerall = Vel Y > -1
triggerall = alive
triggerall = CanRecover
trigger1 = !var(59)
trigger1 = Command = "recovery"
value = 5210

[State 5050, 6]
type = ChangeState
triggerall = var(0) != -1
triggerall = var(0) != 2
trigger1 = Vel Y > 0
trigger1 = Pos Y >= ifelse((anim = [5051,5059]) || (anim = [5061,5069]), 0, 25)
value = 5100



[Statedef 5070]
type    = A
movetype = H
physics = N
velset = 0,0

[State 5070, 1]
type = ChangeAnim
trigger1 = time = 0
value = 5070+var(49)

[State 5000, 4]
type = ChangeAnim
trigger1 = animelem = 4
value = anim
elem = 2

[State 5070, 2]
type = ChangeState
trigger1 = HitShakeOver
value = 5071

[State 5070, 3]
type = ForceFeedback
trigger1 = time = 0
time = 12
waveform = sinesquare
ampl = 140



[Statedef 5071]
type    = A
movetype = H
physics = N

[State 5071, 1]
type = ChangeAnim
trigger1 = var(0) != -1
trigger1 = var(0) != 2
trigger1 = anim != [5000,5999]
trigger1 = !alive
value = anim-10000
persistent = 0

[State 5071, 1]
type = HitVelSet
trigger1 = var(0) != -1
trigger1 = var(0) != 2
x = 1
y = 1
persistent = 0

[State 5070, 2]
type = ChangeState
trigger1 = var(0) != -1
trigger1 = var(0) != 2
trigger1 = var(49)&&alive
value = 5040

[State 5071, 2]
type = VelAdd
trigger1 = var(0) != -1
trigger1 = var(0) != 2
y = GetHitVar(yaccel)

[State 5071, 3]
type = ChangeState
triggerall = !var(49)
triggerall = var(0) != -1
triggerall = var(0) != 2
triggerall = Vel Y > 0
triggerall = Pos Y >= -20
triggerall = alive
trigger1 = !var(59)
trigger1 = Command = "recovery"
value = 5200

[State 5071, 4]
triggerall = var(0) != -1
triggerall = var(0) != 2
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 15
type = ChangeState
value = 5110



[Statedef 5080]
type    = L
movetype = H
physics = N
velset = 0,0

[State 5080, 1]
type = VarSet
trigger1 = time = 0
sysvar(2) = ifelse(GetHitVar(yvel) = 0, 5080, 5090)

[State 5080, 2]
type = VarAdd
trigger1 = time = 0
trigger1 = (anim = [5081,5089]) || (anim = [5111,5119])
trigger1 = SelfAnimExist(sysvar(2) + (anim % 10))
sysvar(2) = anim % 10

[State 5080, 3]
type = VarSet
trigger1 = time = 0
trigger1 = sysvar(2) = 5090
trigger1 = !SelfAnimExist(5090)
sysvar(2) = 5030

[State 5080, 3]
type = ChangeAnim
trigger1 = 1
value = sysvar(2)

[State 5080, 4]
type = ChangeState
trigger1 = HitShakeOver
trigger1 = GetHitVar(yvel) = 0
value = 5081

[State 5080, 5]
type = ChangeState
trigger1 = HitShakeOver
trigger1 = GetHitVar(yvel) != 0
value = 5030



[Statedef 5081]
type    = L
movetype = H
physics = C

[State 5081, 1]
type = HitVelSet
trigger1 = var(0) != -1
trigger1 = var(0) != 2
x = 1
persistent = 0

[State 5081, 2]
type = VelSet
trigger1 = HitOver && !var(34)
x = 0

[State 5081, 3]
type = VarSet
trigger1 = var(0) != -1
trigger1 = var(0) != 2
sysvar(0) = 1
persistent = 0

[State 5081, 4]
type = ChangeState
trigger1 = HitOver && !var(34)
value = 5110



[Statedef 5100]
type    = L
movetype = H
physics = N

[State 5100, 1]
type = VelSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
trigger1 = vel x > 1
x = 1

[State 5100, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 5100, Var]
type = VarSet
trigger1 = Time = 0
sysvar(1) = floor(vel y)

[State 5100, 2]
type = ChangeAnim
triggerall = time = 0
trigger1 = (anim != [5051,5059]) && (anim != [5061,5069])
trigger2 = !SelfAnimExist(5100 + (anim % 10))
value = 5100

[State 5100, 3]
type = ChangeAnim
trigger1 = time = 0
trigger1 = (anim = [5051,5059]) || (anim = [5061,5069])
trigger1 = SelfAnimExist(5100 + (anim % 10))
value = 5100 + (anim % 10)

[State 5100, 4]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5100, 5]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5100, 6]
type = VelMul
trigger1 = Time = 0
x = 0.75

[State 5100, 7]
type = ChangeState
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
value = 5110

[State 1000, Spark]
type = Explod
trigger1 = Time = 0
trigger1 = !SysVar(0)
Anim = 8150
id = 8150
pos = 0, 0
ownpal = 1
sprpriority = -2
scale = const(size.xscale),const(size.yscale)
pausemovetime = 99999999*(var(0)>0)
postype = p1

[State 5100, 9]
type = HitFallDamage
trigger1 = Time = 3

[State 5110, 6]
type = PlaySnd
trigger1 = Time = 0
trigger1 = !SysVar(0)
value = 5100,0

[State 903, EnvShake]
type = EnvShake
trigger1 = time = 1
time = 15
ampl = 3

[State 5100, 11]
type = PosFreeze
trigger1 = 1

[State 5100, 12]
type = ChangeState
trigger1 = Time = 1
value = 5110

[State 5100, 13]
type = ForceFeedback
trigger1 = Time = 0
waveform = sinesquare
ampl = 128,-3,-.2,.005
time = 20



[Statedef 5110]
type    = L
movetype = H
physics = N

[State 5110, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 5110, 2]
type = ChangeAnim
triggerall = time = 0
trigger1 = anim = 5070
value = 5171

[State 5110, 1]
type = ChangeAnim
persistent = 0
trigger1 = SelfAnimExist(5110 + (anim % 10))
trigger1 = anim = [5081,5089]
value = 5110 + (anim % 10)

[State 5110, 2]
type = ChangeAnim
triggerall = time = 0
triggerall = anim != [5110,5119]
triggerall = anim != [5170,5179]
trigger1 = anim != [5161,5169]
trigger2 = !SelfAnimExist(5170 + (anim % 10))
value = 5170

[State 5110, 3]
type = ChangeAnim
triggerall = time = 0
triggerall = anim != [5110,5119]
triggerall = anim != [5170,5179]
trigger1 = anim = [5161,5169]
trigger1 = SelfAnimExist(5170 + (anim % 10))
value = 5170 + (anim % 10)

[State 5110, 4]
type = HitFallDamage
trigger1 = Time = 0

[State 5110, 5]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5110, Var]
type = VarSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) != 0
sysvar(1) = floor(vel y)

[State 5110, 6]
type = PlaySnd
triggerall = prevstateno != 5100 && prevstateno != 15100
trigger1 = Time = 0
trigger1 = !SysVar(0)
value = 5100,0

[State 1000, Spark]
type = Explod
triggerall = prevstateno != 5100 && prevstateno != 15100
trigger1 = Time = 0
trigger1 = !SysVar(0)
Anim = 8150
id = 8150
pos = 0, 0
ownpal = 1
sprpriority = -2
scale = const(size.xscale),const(size.yscale)
pausemovetime = 99999999*(var(0)>0)
postype = p1

[State 5110, 8]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 5110, 9]
type = ChangeAnim
persistent = 0
triggerall = anim = [5171,5179]
triggerall = SelfAnimExist(5110 + (anim % 10))
trigger1 = AnimTime = 0
trigger2 = SysVar(0)
value = 5110 + (anim % 10)

[State 5110, 10]
type = ChangeAnim
persistent = 0
triggerall = Anim != [5111,5119]
trigger1 = AnimTime = 0
trigger2 = SysVar(0)
value = 5110

[State 5110, 11]
type = ChangeState
triggerall = !alive
trigger1 = AnimTime = 0
trigger2 = SysVar(0)
trigger3 = Anim = [5110,5119]
value = 5150

[State 5110, 12]
type = VarSet
trigger1 = SysVar(0)
trigger1 = Time = 0
sysvar(0) = 0

[State 5050, 3]
type = ScreenBound
trigger1 = fvar(14)
value = 0

[State 5110, 14]
type = ForceFeedback
trigger1 = alive
trigger1 = Time = 0
time = 8
ampl = 240
waveform = sine

[State 5110, 15]
type = ForceFeedback
trigger1 = !alive
trigger1 = Time = 0
ampl = 200, 7, -.467
time = 30
waveform = sine



[Statedef 5120]
type    = L
movetype= I
physics = N

[State 5120, 1a]
type = ChangeAnim
triggerall = time = 0
trigger1 = anim != [5111,5119]
trigger2 = !SelfAnimExist(5120 + (anim % 10))
value = 5120

[State 5120, 1b]
type = ChangeAnim
triggerall = time = 0
trigger1 = anim = [5111,5119]
trigger1 = SelfAnimExist(5120 + (anim % 10))
value = 5120 + (anim % 10)

[State 5120, 2]
type = VelSet
trigger1 = Time = 0
x = 0

[State 5120, 3]
type = NotHitBy
trigger1 = var(0) != -1
trigger1 = var(0) != 2
value = SCA
time = 1

[State 5120, 4]
type = HitFallSet
trigger1 = AnimTime = 0
value = 1

[State 5120, 5]
type = NotHitBy
trigger1 = AnimTime = 0
value = , NT,ST,HT
time = 12

[State 5120, 6]
type = NotHitBy
trigger1 = var(0) != -1
trigger1 = var(0) != 2
trigger1 = AnimTime = 0
value2 = SCA
time = 3

[State 5120, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



[Statedef 5150]
type    = L
movetype= H
physics = N
sprpriority = -3

[State 5150, 1]
type = ChangeAnim
triggerall = Time = 0
triggerall = SelfAnimExist(5140)
trigger1 = (anim != [5111,5119]) && (anim != [5171,5179])
trigger2 = !SelfAnimExist(5140 + (anim % 10))
value = 5140

[State 5150, 3]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (anim = [5111,5119]) || (anim = [5171,5179])
trigger1 = SelfAnimExist(5140 + (anim % 10))
value = 5140 + (anim % 10)

[State 5150, 4]
type = ChangeAnim
persistent = 0

trigger1 = MatchOver = 1
trigger1 = Anim = [5140,5149]
trigger1 = SelfAnimExist(anim+10)
value = anim+10

[State 5150, 5]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = Anim != [5140,5159]
trigger1 = Anim != [5110,5119]
value = 5110

[State 5150, 6]
type = VelMul
trigger1 = 1
x = 0.85

[State 5150, 7]
type = VelSet
trigger1 = Vel x < .05
persistent = 0
x = 0

[State 5050, 3]
type = ScreenBound
trigger1 = fvar(14)
value = 0

[State 5150, 8]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1



[Statedef 5200]
type    = A
movetype = H
physics = N

[State 5200, 1]
type = ChangeAnim
trigger1 = Anim = 5035+var(49)
trigger1 = AnimTime = 0
value = 5050+var(49)

[State 5200, 2]
type = VelAdd
trigger1 = var(0) != -1
trigger1 = var(0) != 2
y = GetHitVar(yaccel)

[State 5200, 3]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 10
value = 5201



[Statedef 5201]
type    = S
movetype = I
physics = N
anim = 5200+var(49)
velset = 0,0

[State 5201, 1]
type = Turn
trigger1 = Time = 0
trigger1 = p2dist X < -5

[State 5201, 2]
type = VelSet
trigger1 = animelem = 3 && !var(49)
trigger2 = time = 8 && var(49)
x = -6.7

[State 5201, 2]
type = VelMul
trigger1 = var(0) != -1
trigger1 = var(0) != 2
x = .95

[State 5201, 2]
type = VelSet
trigger1 = animelem = 5 && !var(49)
trigger2 = time = 24 && var(49)
x = 0

[State 5201, 3]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5201, 4]
type = NotHitBy
trigger1 = var(0) != -1
trigger1 = var(0) != 2
value = SCA

[State 9606, EnvColor]
type = palfx
trigger1 = time <= 8
trigger1 = time%2=1
add = 128,128,192
time = 1
persistent = 1
ignorehitpause = 1

[State 1000, Spark]
type = Explod
trigger1 = Time = 0
Anim = 8160
id = 8160
pos = 0, 0
ownpal = 1
sprpriority = 2
scale = const(size.xscale),const(size.yscale)
pausemovetime = 99999999*(var(0)>0)
persistent = 0
postype = p1

[State 5900, 3]
type = ChangeState
trigger1 = animTime = 0
value = 0
ctrl = 1



[Statedef 5210]
type    = A
movetype = I
physics = N
ctrl = 0
velset = 0,0

[State 9606, EnvColor]
type = palfx
trigger1 = time <= 8
trigger1 = time%2=1
add = 128,128,192
time = 1
persistent = 1
ignorehitpause = 1

[State 5210, 1]
type = ChangeAnim
trigger1 = Time = 0
value = 5210+var(49)

[State -1, AI]
type = null
triggerall= Time = 1
triggerall = numhelper(33333)
triggerall = var(59) >= 1 || helper(33333),fvar(1)

trigger1 = p2bodydist x = [66+(var(49)>0)*10,180]
trigger1 = enemynear,vel x >= 0
trigger1 = enemynear,vel y <= 0
trigger1 = (!enemynear,ctrl && enemynear,animtime < -25-(p2bodydist y/20)) || random < 500
trigger1 = fvar(35) := 1

trigger2 = p2bodydist x = [-180,-21]
trigger2 = enemynear,vel x >= 0
trigger2 = enemynear,vel y <= 0
trigger2 = (!enemynear,ctrl && enemynear,animtime < -25-(p2bodydist y/20)) || random < 500
trigger2 = fvar(35) := 2

trigger3 = p2bodydist x = [-20,65+(var(49)>0)*10]
trigger3 = enemynear,vel x >= 0
trigger3 = enemynear,vel y <= 0
trigger3 = (!enemynear,ctrl && enemynear,animtime < -30-(p2bodydist y/20)) || random < 500
trigger3 = fvar(35) := 3

trigger4 = p2bodydist x = [-20,90]
trigger4 = p2bodydist y >= 30
trigger4 = backedgedist < 90
trigger4 = enemynear,ctrl || enemynear,animtime >= -25-(p2bodydist y/20)
trigger4 = random < 500
trigger4 = fvar(35) := 1

trigger5 = p2bodydist x = [-20,90]
trigger5 = p2bodydist y >= 30
trigger5 = backedgedist >= 180
trigger5 = enemynear,ctrl || enemynear,animtime >= -25-(p2bodydist y/20)
trigger5 = random < 500
trigger5 = fvar(35) := 2

trigger6 = p2bodydist x = [-20,90]
trigger6 = p2bodydist y >= 30
trigger6 = backedgedist = [90,179]
trigger6 = enemynear,ctrl || enemynear,animtime >= -25-(p2bodydist y/20)
trigger6 = random < 500
trigger6 = fvar(35) := 3

trigger7 = fvar(35) := ifelse(random < 333 && frontedgebodydist >= 90,1,ifelse(random < 500 && backedgebodydist >= 90,2,3))

[State 5210, 1]
type = ChangeAnim
triggerall = Time = 0
trigger1 = numhelper(33333)
trigger1 = !(var(59) >= 1 || helper(33333),fvar(1))
trigger1 = Command = "holddown"
trigger1 = Command != "holdfwd"
trigger1 = Command != "holdback"
value = 5211+var(49)

[State 5210, 1]
type = PosFreeze
trigger1 = Time = 0
value = 4

[State 5210, 2]
type = Turn
trigger1 = Time = 0
trigger1 = p2dist X < -20

[State 5210, 2]
type = VelSet
triggerall = Time = 1
trigger1 = numhelper(33333)
trigger1 = !(var(59) >= 1 || helper(33333),fvar(1))
trigger1 = Command = "holdfwd"
trigger2 = numhelper(33333)
trigger2 = var(59) >= 1 || helper(33333),fvar(1)
trigger2 = fvar(35) = 1
x = 5
y = -8.5

[State 5210, 2]
type = VelSet
triggerall = Time = 1
trigger1 = numhelper(33333)
trigger1 = !(var(59) >= 1 || helper(33333),fvar(1))
trigger1 = Command = "holdback"
trigger2 = numhelper(33333)
trigger2 = var(59) >= 1 || helper(33333),fvar(1)
trigger2 = fvar(35) = 2
x = -5
y = -8.5

[State 5210, 2]
type = VelSet
triggerall = Time = 1
trigger1 = numhelper(33333)
trigger1 = !(var(59) >= 1 || helper(33333),fvar(1))
trigger1 = Command = "holddown"
trigger1 = Command != "holdfwd"
trigger1 = Command != "holdback"
trigger2 = numhelper(33333)
trigger2 = var(59) >= 1 || helper(33333),fvar(1)
trigger2 = fvar(35) != [1,3]
x = 0
y = 0

[State 5210, 2]
type = VelSet
triggerall = Time = 1
trigger1 = numhelper(33333)
trigger1 = !(var(59) >= 1 || helper(33333),fvar(1))
trigger1 = Command != "holddown"
trigger1 = Command != "holdfwd"
trigger1 = Command != "holdback"
trigger2 = numhelper(33333)
trigger2 = var(59) >= 1 || helper(33333),fvar(1)
trigger2 = fvar(35) = 3
x = 0
y = -9.5

[State 5210, 3]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 15

[State 5210, 4]
type = CtrlSet
trigger1 = Time = 20
value = 1

[State 5210, 5]
type = Gravity
trigger1 = var(0) != -1
trigger1 = var(0) != 2

[State 5210, 5]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 52
ctrl = 1



[Statedef 170]
type = S
ctrl = 0
anim = ifelse(var(49),11180,5300)
velset = 0,0

[State 180, 1]
type = ChangeState
trigger1 = var(49)
trigger1 = time = 1
value = 12100

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 181, 1]
type = AssertSpecial
trigger1 = Time = [0, 150]
flag = RoundNotOver



[Statedef 175]
type = S
ctrl = 0
anim = ifelse(var(49),11180,5300)
velset = 0,0

[State 180, 1]
type = ChangeState
trigger1 = var(49)
trigger1 = time = 1
value = 12100

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 181, 1]
type = AssertSpecial
trigger1 = Time = [0, 150]
flag = RoundNotOver



[Statedef 180]
type = S
ctrl = 0
velset = 0,0

[State 200, 7]
type = screenbound
trigger1 = prevstateno = 3104
value = 1
movecamera = 30,0

[State 180, 1]
type = ChangeState
trigger1 = prevstateno = 3104
value = 186

[State 180, 1]
type = ChangeState
trigger1 = var(49)
trigger1 = fvar(15)
value = 12100

[State 180, 1]
type = ChangeState
trigger1 = fvar(15)
value = 187

[State 180, 1]
type = ChangeState
trigger1 = var(49)
trigger1 = time = 1
value = ifelse(random<250,185,12100)

[State 180, 1]
type = ChangeState
trigger1 = time = 1
trigger1 = !IsHelper
value = ifelse(random<250,188,181+(random%3))

[State 180, 1]
type = ChangeState
trigger1 = time = 1
trigger1 = IsHelper && root,stateno = 185
value = 183

[State 180, 1]
type = ChangeState
trigger1 = time = 1
trigger1 = IsHelper
value = ifelse(random<333,188,181+(random%2))



[Statedef 181]
type = S
physics = S
ctrl = 0
velset = 0,0
anim = 180

[State 181, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0,0

[State 181, 1]
type = AssertSpecial
trigger1 = Time = [0, 200]
flag = RoundNotOver

[State 810, 1]
type = helper
triggerall = !var(55) || (!var(56) && matchover)
trigger1 = time = 1
stateno = 6600
ID = 6600
pos = 0,100
name = "win"
pausemovetime = 99999999
supermovetime = 99999999



[Statedef 182]
type = S
physics = S
ctrl = 0
velset = 0,0
anim = 181

[State 180, 1]
type = ChangeState
trigger1 = var(49)
trigger1 = time = 0
value = 12100

[State 181, 2]
type = PlaySnd
trigger1 = AnimElem = 6
value = 180,0

[State -3,Super]
type = Helper
triggerall = !Numhelper(184)
trigger1 = animelem = 14
id = 184
name = "win_stand"
pos = 0,0
postype = P1
stateno = 184
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 181, 1]
type = AssertSpecial
trigger1 = Time = [0, 270]
flag = RoundNotOver

[State 810, 1]
type = helper
triggerall = !var(55) || (!var(56) && matchover)
trigger1 = time = 1
stateno = 6600
ID = 6600
pos = 0,100
name = "win"
pausemovetime = 99999999
supermovetime = 99999999



[Statedef 184]
type = S
anim = 6900

[State 1000, Spark]
type = Explod
trigger1 = time = 1
Anim = 183+(random%2)
id = 183
pos = 160, 130
postype = left
ownpal = 1
pausemovetime = 99999999
ontop = 1
removetime = -1
facing = root,facing

[State 4900, 16]
type = modifyExplod
trigger1 = Time <= 20
Id = 183
scale = .5+(.08*Time)*root,const(size.xscale),.5+(.08*Time)*root,const(size.yscale)

[State 903, EnvShake]
type = EnvShake
trigger1 = time = 20
time = 20
ampl = 8

[State 181, 2]
type = PlaySnd
trigger1 = time = 20
value = 5100,1



[Statedef 183]
type = S
physics = S
ctrl = 0
velset = 0,0
anim = 182

[State 181, 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = 181,0

[State 181, 1]
type = AssertSpecial
trigger1 = Time = [0, 270]
flag = RoundNotOver

[State 810, 1]
type = helper
triggerall = !var(55) || (!var(56) && matchover)
trigger1 = time = 1
stateno = 6600
ID = 6600
pos = 0,100
name = "win"
pausemovetime = 99999999
supermovetime = 99999999



[Statedef 185]
type = S

[State 420, 3]
type = ChangeAnim
trigger1 = Time = 0
value = 185



[Statedef 186]
type = S
physics = S
ctrl = 0
velset = 0,0

[State 200, 7]
type = screenbound
trigger1 = 1
value = 1
movecamera = 30,0

[State 181, 1]
type = AssertSpecial
trigger1 = Time = [0, 270]
flag = RoundNotOver

[State 810, 1]
type = helper
triggerall = !var(55) || (!var(56) && matchover)
trigger1 = time = 1
stateno = 6600
ID = 6600
pos = 0,100
name = "win"
pausemovetime = 99999999
supermovetime = 99999999



[Statedef 187]
type = S
physics = S
ctrl = 0
velset = 0,0
anim = 186

[State 181, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 190,0

[State 181, 1]
type = AssertSpecial
trigger1 = Time = [0, 200]
flag = RoundNotOver

[State 810, 1]
type = helper
triggerall = !var(55) || (!var(56) && matchover)
trigger1 = time = 1
stateno = 6600
ID = 6600
pos = 0,100
name = "win"
pausemovetime = 99999999
supermovetime = 99999999



[Statedef 188]
type = S
physics = S
ctrl = 0
velset = 0,0
anim = 187

[State 181, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0,0

[State 181, 2]
type = PlaySnd
trigger1 = AnimElem = 4
value = 188,0

[State 181, 1]
type = AssertSpecial
trigger1 = Time = [0, 200]
flag = RoundNotOver

[State 10000, Assert]
type = Pause
trigger1 = animelem = 3
time = 10
movetime = 10

[State 181, EnvColor]
type = Bgpalfx
trigger1 = time = [11,30]
time = 1
invertall = 1
color = 0
ignorehitpause = 1

[State 10000, Assert]
type = AssertSpecial
trigger1 = time = [12,31]
flag = nomusic
ignorehitpause = 1

[State 810, 1]
type = helper
triggerall = !var(55) || (!var(56) && matchover)
trigger1 = time = 1
stateno = 6600
ID = 6600
pos = 0,100
name = "win"
pausemovetime = 99999999
supermovetime = 99999999



[Statedef 190]
type = S
ctrl = 0
anim = 0
velset = 0,0

[State 860, 4]
type = PowerSet
trigger1 = RoundsExisted = 0
trigger1 = time = 0
trigger1 = power < 1000
value = 1000

[State -2, 3]
type = ChangeState
trigger1 = (P2Name = "Jotaro Kujo" || P4Name = "Jotaro Kujo") && EnemyNear,AuthorName = "Mr.Giang + Warusaki3"
value = 194

[State -2, 3]
type = ChangeState
triggerall = teamside = 1
trigger1 = (P2Name = "dio" || P4Name = "dio") && EnemyNear,AuthorName = "Mr.Giang + Warusaki3"
trigger2 = (P2Name = "final dio" || P4Name = "final dio") && EnemyNear,AuthorName = "warusaki3"
trigger3 = (P2Name = "shadow dio" || P4Name = "shadow dio") && EnemyNear,AuthorName = "warusaki3"
value = 191+(random%2)

[State -2, 3]
type = ChangeState
triggerall = teamside = 2
trigger1 = (P2Name = "dio" || P4Name = "dio") && EnemyNear,AuthorName = "Mr.Giang + Warusaki3"
trigger2 = (P2Name = "final dio" || P4Name = "final dio") && EnemyNear,AuthorName = "warusaki3"
trigger3 = (P2Name = "shadow dio" || P4Name = "shadow dio") && EnemyNear,AuthorName = "warusaki3"
value = 191+(P2stateno=191)

[State -2, 3]
type = ChangeState
trigger1 = Time = 0
value = 191+(random%3)



[Statedef 191]
type = S
ctrl = 0
velset = 0,0
anim = 190

[State 190, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 181, 2]
type = PlaySnd
trigger1 = AnimElem = 6
value = 190, 0
channel = 0

[State 190, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0



[Statedef 192]
type = S
ctrl = 0
anim = 191
velset = 0,0

[State 190, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State -2, 3]
type = ChangeAnim
trigger1 = AnimElem = 13
value = 191
elem = 1

[State -2, 3]
type = ChangeAnim
triggerall = time > 1
triggerall = animelem = 1 || animelem = 7 || animelem = 13
trigger1 = p2stateno = 0 || enemy,anim = 0
trigger2 = time > 400
value = 191
elem = 19
persistent = 0

[State 181, 2]
type = PlaySnd
trigger1 = AnimElem = 24
value = 190, 1
channel = 0

[State 181, 2]
type = PlaySnd
trigger1 = AnimElem = 53
value = 190, 6

[State 181, 2]
type = PlaySnd
trigger1 = AnimElem = 53
value = 8000, 10

[State 810, 1]
type = helper
trigger1 = animelem = 53
stateno = 199
pos = -20,0

[State 190, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0



[Statedef 199]
type = S
physics = N
movetype = I
anim = 8400
ctrl = 0
velset = 0,0
sprpriority = 5

[State 100, 2]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 10000, ChangeState]
type = ChangeState
trigger1 = root,stateno = 192 && root,animelem = 95
value = 8401

[State 810, StateChange]
type = DestroySelf
trigger1 = root,stateno != 192



[Statedef 193]
type = S
ctrl = 0
anim = 192
velset = 0,0

[State 190, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 181, 2]
type = PlaySnd
trigger1 = AnimElem = 46
value = 190, 0
channel = 0

[State 181, 2]
type = PlaySnd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 4
trigger3 = AnimElem = 6
value = 3300, 3

[State 181, 2]
type = PlaySnd
trigger1 = AnimElem = 8
value = 190, 4

[State 810, 1]
type = helper
trigger1 = animelem = 1
stateno = 7600
pos = 0,0
ownpal = 1

[State 9606, EnvColor]
type = palfx
trigger1 = animelemtime(2) >= 0
trigger1 = animelemtime(3) < 0
trigger2 = animelemtime(4) >= 0
trigger2 = animelemtime(5) < 0
trigger3 = animelemtime(6) >= 0
trigger3 = animelemtime(7) < 0
add = 255,0,0
mul = 192,0,0
time = 1
persistent = 1

[State 190, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0



[Statedef 7600]
type = U
physics = N
movetype = I
anim = 7600
ctrl = 0
sprpriority = 2

[State 10000, VelSet]
type = VelSet
trigger1 = animelem = 14
x = -5
y = -2

[State 10000, VelSet]
type = VelAdd
trigger1 = animelemtime(14) > 0
y = .3

[State 220, Position]
type = PosAdd
trigger1 = animelemtime(1) = 10
trigger2 = animelemtime(2) = 0
trigger3 = animelemtime(3) = 0
y = -1

[State 220, Position]
type = PosAdd
trigger1 = animelemtime(1) = 11
trigger2 = animelemtime(2) = 1
trigger3 = animelemtime(3) = 1
y = 1

[State 810, StateChange]
type = DestroySelf
trigger1 = roundstate = 2
trigger2 = animelemtime(14) >= 30
trigger3 = animelemtime(14) > 0
trigger3 = Pos Y >= 0 && Vel Y > 0



[Statedef 194]
type = S
ctrl = 0
anim = 0

[State 190, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State -2, 3]
type = ChangeAnim
trigger1 = time = 30
value = 21000

[State -2, 3]
type = ChangeAnim
triggerall = anim = 21000
trigger1 = NumHelper(194)
trigger1 = Helper(194),stateno = 198
value = 190

[State 191, Cloth]
type = Helper
trigger1 = time = 25
ID = 194
stateno = 197
postype = Back
pos = 100,0
name = "dummy_stand"

[State 181, 2]
type = PlaySnd
trigger1 = time = 20
value = 190, 3

[State 220, Voice]
type = PlaySnd
trigger1 = NumHelper(194)
trigger1 = Helper(194),stateno = 197
trigger1 = Helper(194),animelem = 12
value = 1000, 0
channel = 0

[State 220, Voice]
type = PlaySnd
trigger1 = NumHelper(194)
trigger1 = Helper(194),stateno = 197
trigger1 = Helper(194),animelem = 37
value = 1000, 1
channel = 0
loop = 1

[State 220, Voice]
type = PlaySnd
trigger1 = NumHelper(194)
trigger1 = Helper(194),stateno = 197
trigger1 = Helper(194),animelem = 61
value = 1000, 2
channel = 0

[State 181, 2]
type = PlaySnd
triggerall = anim = 190
trigger1 = AnimElem = 6
value = 190, 7

[State 810, 6]
type = NotHitBy
trigger1 = 1
value = SCA

[State 190, 4]
type = ChangeState
triggerall = anim = 190
trigger1 = AnimTime = 0
value = 0



[Statedef 197]
type = S
ctrl = 0
anim = 10193
velset = 0,0
sprpriority = 2

[State 190, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 198



[Statedef 198]
type = U
physics = N
velset = 0,0
ctrl = 0
anim = 11105
sprpriority = 2

[State 220, Effect]
type = PlaySnd
trigger1 = time = 1
value = 820, 1

[State 10000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 100, 2]
type = AssertSpecial
trigger1 = time%2=0
flag = invisible

[State 4900, 16]
type = AngleDraw
trigger1 = time < 12
scale = 1-(.075*Time),1+(.05*Time)
ignorehitpause = 1

[State 4900, 16]
type = AngleDraw
trigger1 = time >= 12
scale = 0,0
ignorehitpause = 1

[State 420, 3]
type = DestroySelf
trigger1 = time = 12



[Statedef 195]
type = S
ctrl = 0
anim = 195+var(49)
velset = 0,0
movetype = I
physics = S

[State 220, Position]
type = PosSet
trigger1 = Time = 0
y = 0

[State 181, 2]
type = PlaySnd
triggerall = var(0) != -1
triggerall = var(0) != 2
trigger1 = !var(49) && AnimElem = 1
value = 195, 0
channel = 0

[State 181, 2]
type = PlaySnd
triggerall = var(0) != -1
triggerall = var(0) != 2
trigger1 = var(49) && AnimElem = 1
value = 181, 0
channel = 0

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



[Statedef 196]
type = S
ctrl = 0
anim = 196
velset = 0,0
movetype = I
physics = S

[State 220, Position]
type = PosSet
trigger1 = Time = 0
y = 0

[State 220, Effect]
type = PlaySnd
triggerall = var(0) != -1
triggerall = var(0) != 2
trigger1 = AnimElem = 6
trigger2 = AnimElem = 10
value = 1200, 0

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1





 


[Statedef 811]
type    = U
movetype = I
physics = N

[State 811, 1]
type = velset
trigger1 = 1
x = 0

[State 811, 2]
type = ChangeAnim
triggerall = time >= 0
triggerall= numhelper(33333)
trigger1 = !var(59)
trigger1 = command != "holddown"
trigger2 = var(59) && helper(33333),var(30) = 0
value = 150+var(49)

[State 811, 3]
type = ChangeAnim
triggerall = time >= 0
triggerall= numhelper(33333)
trigger1 = !var(59)
trigger1 = command = "holddown"
trigger2 = var(59) && helper(33333),var(30) = 1
value = 151+var(49)

[State 811, 4]
type = statetypeset
triggerall= numhelper(33333)
trigger1 = !var(59)
trigger1 = command != "holddown"
trigger2 = var(59) && helper(33333),var(30) = 0
statetype = S
physics = S

[State 811, 5]
type = statetypeset
triggerall= numhelper(33333)
trigger1 = !var(59)
trigger1 = command = "holddown"
trigger2 = var(59) && helper(33333),var(30) = 1
statetype = C
physics = C

[State 811, 6]
type = ChangeState
triggerall = numhelper(815) = 1
triggerall= !var(59) || time > 0
trigger1 = !var(59)
trigger1 = command = "holdback"
trigger2 = var(59)
trigger2 = numhelper(33333)
trigger2 = helper(33333),var(30) = 1
value = 151+((!var(59)&&command="holddown")||(var(59)&&helper(33333),var(30)=1))*2

[State 811, 7]
type = ChangeState
triggerall= numhelper(33333)
triggerall= !var(59) || time > 0
trigger1 = !numhelper(815)
value = 130+((!var(59)&&command="holddown")||(var(59)&&helper(33333),var(30)=1))
ctrl = 1


[Statedef 815]
type = S
movetype = I
physics = N
velset = 0,0
anim = 815

[State 815, 1]
type = PlayerPush
trigger1 = 1
value = 1

[State 815, 2]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 815, 3]
type = velset
trigger1 = Time = 0
x = 20

[State 815, 4]
type = veladd
trigger1 = Time > 0
x = -1

[State 815, 6]
type = DestroySelf
trigger1 = Time = 15


[Statedef 8160]
type = S
movetype = I
physics = N
velset = 0,0
anim = 8160
sprpriority = 5

[State 2310, 1]
type = posset
trigger1 = 1
x = enemynear,pos x
y = 0

[State 9000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 2310, 2]
type = DestroySelf
trigger1 = animtime = 0



[Statedef 830]
type = S
physics = S
ctrl = (var(59)<=0)
anim = ifelse(statetype = S,830,831)
velset = 0,0

[State -1, 0]
type = CtrlSet
trigger1 = var(59) >= 0
trigger1 = Time >= 1
value = 1

[State 8500, 1]
type = varset
trigger1 = time = 0
var(49) = 0

[State 220, Position]
type = PosAdd
trigger1 = Time = 0
x = -12

[State 100, CtrlSet]
type = null
trigger1 = time = 1
value = 1

[State 101, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



[Statedef 835]
type = A
physics = N
ctrl = 0

[State 8500, anim]
type = ChangeAnim
trigger1 = time = 0
value = Helper(20000),anim
elem = Helper(20000),animelemno(0)

[State 8500, anim]
type = ChangeAnim
trigger1 = time = 0
trigger1 = anim != [41,46]
value = ifelse(!sysvar(1), 41, ifelse(sysvar(1)=1, 42, 43))

[State 50, 3]
type = ChangeAnim
triggerall = anim = [41,43]
trigger1 = Vel y > -2
trigger1 = SelfAnimExist(anim + 3)
persistent = 0
value = Anim + 3

[State 8500, 1]
type = varset
trigger1 = time = 0
var(49) = 0

[State 220, Position]
type = PosAdd
trigger1 = Time = 0
x = -12

[State 4030, Gravity]
type = VelAdd
trigger1 = var(0) != -1
trigger1 = var(0) != 2
y = ifelse(var(3)||var(4),.5,.6)

[State 1100, ChangeState]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 52





[Statedef 10850]
type = U
movetype = I
physics = N
ctrl = 0
anim = 6900

[State 220, Position]
type = PosSet
trigger1 = Time = 0
y = 0

[State 10850,0]
type = BindToParent
trigger1 = time = 0
pos = -10,0

[State 1100, VarSet]
type = ParentVarSet
trigger1 = root,stateno = 850
var(8) = 3

[State 10000, VarSet]
type = VarSet
trigger1 = time = 0
var(14) = 0

[State 1100, VarSet]
type = VarSet
trigger1 = time = 0
var(10) = 0

[State 1100, VarSet]
type = VarSet
trigger1 = time = 0
var(11) = 0

[State 1100, VarSet]
type = VarSet
trigger1 = time = 0
fvar(2) = 0

[State 810, 1]
type = helper
trigger1 = !numhelper(40000)
trigger1 = root,stateno = 850
stateno = 40000
id = 40000
pos = 0,0
pausemovetime = 99999999
supermovetime = 99999999

[State 810, 1]
type = helper
trigger1 = !numhelper(40001)
trigger1 = root,stateno = 850
stateno = 40001
id = 40001
pos = 0,0
pausemovetime = 99999999
supermovetime = 99999999

[State 10000, ChangeState]
type = ChangeState
trigger1 = root,movetype = H
value = 10000

[State 10000, ChangeState]
type = ChangeState
trigger1 = root,stateno = 851
trigger1 = root,time = 2
value = 10851




[Statedef 40000]
type = U
movetype = I
physics = N
ctrl = 0
anim = 6900

[State 1100, VarSet]
type = VarSet
trigger1 = root,var(38) = [1,60]
trigger1 = !var(root,var(38)-1)
var(root,var(38)-1) = root,var(37)

[State 1100, VarSet]
type = VarSet
trigger1 = root,var(38) = [61,100]
trigger1 = !var(root,var(38)-61)
fvar(root,var(38)-61) = root,var(37)

[State 1100, VarSet]
type = ParentVarSet
trigger1 = parent,var(4) = [0,59]
var(3) = var(parent,var(4))

[State 1100, VarSet]
type = ParentVarSet
trigger1 = parent,var(4) = [60,99]
var(3) = fvar(parent,var(4)-60)

[State 10000, ChangeState]
type = DestroySelf
triggerall = time > 1
trigger1 = parent,stateno = 10000
trigger2 = root,movetype = H
trigger3 = parent,movetype = H



[Statedef 40001]
type = U
movetype = I
physics = N
ctrl = 0
anim = 6900

[State 1100, VarSet]
type = VarSet
trigger1 = root,var(38) = [101,160]
trigger1 = !var(root,var(38)-101)
var(root,var(38)-101) = root,var(37)

[State 1100, VarSet]
type = ParentVarSet
trigger1 = parent,var(4) = [100,159]
var(3) = var(parent,var(4)-100)

[State 10000, ChangeState]
type = DestroySelf
triggerall = time > 1
trigger1 = parent,stateno = 10000
trigger2 = root,movetype = H
trigger3 = parent,movetype = H



[Statedef 8400]
type = S
physics = N
movetype = I
anim = 8400
ctrl = 0
velset = 0,0
sprpriority = 5

[State 100, 2]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 10000, ChangeState]
type = ChangeState
trigger1 = root,stateno = 851
value = 8401

[State 810, StateChange]
type = DestroySelf
trigger1 = root,stateno != 850



[Statedef 8401]
type = S
physics = N
movetype = I
anim = 8401
ctrl = 0
velset = 0,0
sprpriority = 5

[State 100, 2]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 810, StateChange]
type = DestroySelf
trigger1 = animtime = 0









[Statedef 905]
type    = A
movetype = H
physics = N
velset = 0,0
sprpriority = 3

[State 2500, ScreenBound]
type = screenbound
trigger1 = 1
value = 1
movecamera = 30,10

[State 902, 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 905

[State 903, 2]
type = SelfState
trigger1 = AnimElemTime(3) > 0
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100



[Statedef 906]
type = A
movetype = H
physics = N
velset = 0,0

[State 2500, ScreenBound]
type = screenbound
trigger1 = 1
value = 1
movecamera = 30,10

[State 2601, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
trigger1 = SelfAnimExist(5051)
value = 5051

[State 2601, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
trigger1 = (Anim != [5051, 5059]) && (Anim != [5061, 5069])
trigger1 = Anim != 5090
value = 5050
persistent = 0

[State 5050, 2]
type = ChangeAnim
trigger1 = anim = [5050,5059]
trigger1 = Vel Y >= ifelse(anim = 5050, 1, -2)
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0

[State 2601, EnvShake]
type = EnvShake
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
time = 10

[State 2601, Vel]
type = VelSet
trigger1 = time = 0
y = -10

[State 2601, Vel]
type = VelAdd
trigger1 = 1
y = .44

[State 2601, SelfState]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100



[Statedef 909]
type    = A
movetype = H
physics = N
velset = 0,0
ctrl = 0

[State 1205, ChangeState]
type = selfstate
trigger1 = Time > 5
value = 5000

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA



[Statedef 915]
type    = A
movetype = H
physics = N
anim = 0
velset = 0,0
sprpriority = -1

[State 903, 2]
type = null
trigger1 = 0
value = 0



[Statedef 916]
type    = A
movetype = H
physics = N
anim = 5012
velset = 0,0
sprpriority = 3

[State 902, 1]
type = ChangeAnim
trigger1 = 1
value = anim



[Statedef 917]
type = A
movetype = H
physics = N
velset = 0,0
sprpriority = -1

[State 2500, ScreenBound]
type = screenbound
trigger1 = 1
value = 1
movecamera = 30,10

[State 2601, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
trigger1 = SelfAnimExist(5051)
value = 5051

[State 2601, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
trigger1 = (Anim != [5051, 5059]) && (Anim != [5061, 5069])
trigger1 = Anim != 5090
value = 5050
persistent = 0

[State 5050, 2]
type = ChangeAnim
trigger1 = anim = [5050,5059]
trigger1 = Vel Y >= ifelse(anim = 5050, 1, -2)
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0

[State 2601, EnvShake]
type = EnvShake
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
time = 10

[State 2601, Vel]
type = VelSet
trigger1 = time = 0
x = -16
y = -5

[State 2601, Vel]
type = VelAdd
trigger1 = 1
y = .47

[State 5040, 5]
type = SelfState
triggerall = time >= 10
triggerall = Vel Y > 0
triggerall = Pos Y >= -20
triggerall = alive
trigger1 = Command = "recovery"
value = 5200

[State 5040, 6]
type = SelfState
triggerall = time >= 10
triggerall = Vel Y > -1
triggerall = alive
trigger1 = Command = "recovery"
value = 5210

[State 2601, SelfState]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100



[Statedef 950]
type    = A
movetype = I
physics = A
anim = 5210+var(49)
velset = -3,-6

[State 200, 7]
type = TargetBind
trigger1 = time = 0
pos = 50,0

[State 810, Bind 1]
type = Targetstate
trigger1 = time = 0
value = 955

[State 810, Bind 1]
type = nothitby
trigger1 = 1
value = SCA



[Statedef 20950]
type = U
physics = N
anim = 5210
velset = 0,0

[State 100, 2]
type = turn
trigger1 = facing != root,facing

[State 1505,0]
type = BindToParent
trigger1 = rootdist x <= 12
pos = -12,0

[State 2600, ChangeState]
type = changeanim
trigger1 = parent,var(35) = 1
value = anim
elem = AnimElemNo(0)-!AnimElemTime(AnimElemNo(0))
persistent = 1

[State 2600, ChangeState]
type = ParentVarSet
trigger1 = 1
var(35) = 1

[State 2600, ChangeState]
type = ChangeState
triggerall = time > 1
trigger1 = root,ctrl || root,stateno = 830 || root,stateno = 10820 || (root,stateno = [99900,99920])
trigger2 = root,movetype = H
value = 20001



[Statedef 955]
type    = A
movetype = I
physics = N
velset = -3,-6

[State 810, Bind 1]
type = posset
trigger1 = time = 0
y = 0

[State 810, Bind 1]
type = changeanim
trigger1 = time = 0
value = 5210

[State 810, Bind 1]
type = nothitby
trigger1 = 1
value = SCA

[State 810, Bind 1]
type = veladd
trigger1 = 1
y = .45

[State 810, Bind 1]
type = selfstate
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 52
ctrl = 1



[Statedef 10820]
type = S
physics = S
ctrl = (var(59)<=0)
anim = 10820
velset = 0,0

[State -1, 0]
type = CtrlSet
trigger1 = var(59) >= 0
trigger1 = Time >= 1
value = 1

[State 220, Position]
type = PosSet
trigger1 = Time = 0
y = 0

[State 100, Effect]
type = PlaySnd
triggerall = var(0) != -1
triggerall = var(0) != 2
triggerall = time = 0
trigger1 = !NumHelper(3211)
trigger2 = NumHelper(3211)
trigger2 = Helper(3211),time > 1
value = 820,0

[State 100, Effect]
type = PlaySnd
triggerall = var(0) != -1
triggerall = var(0) != 2
triggerall = time = 0
trigger1 = !NumHelper(3211)
trigger2 = NumHelper(3211)
trigger2 = Helper(3211),time > 1
value = 820,2
channel = 0

[State 1000, Spark]
type = Explod
triggerall = var(0) != -1
triggerall = var(0) != 2
trigger1 = time = 0
Anim = 8170
id = 8170
pos = 0, 0
postype = P1
ownpal = 1
sprpriority = 2
scale = const(size.xscale),const(size.yscale)
pausemovetime = 99999999*(var(0)>0)

[State 220, Position]
type = PosAdd
trigger1 = Time = 0
x = 12
persistent = 0

[State 8500, 1]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 8500, 1]
type = varset
trigger1 = time = 0
var(51) = 40

[State 100, 2]
type = AssertSpecial
triggerall = var(0) != -1
triggerall = var(0) != 2
trigger1 = time%2=0
flag = invisible


[State -1, Taunt]
type = ChangeState
value = 300
triggerall = !var(59)
triggerall = command = "x" || command = "a"
triggerall = command != "holddown"
triggerall = statetype != A
trigger1 = time = 0
ignorehitpause = 0


[State -1, Taunt]
type = ChangeState
value = 310
triggerall = !var(59)
triggerall = command = "y"
triggerall = command != "holddown"
triggerall = statetype != A
trigger1 = time = 0
ignorehitpause = 0


[State -1, Taunt]
type = ChangeState
value = 320
triggerall = !var(59)
triggerall = command = "z"
triggerall = command != "holddown"
triggerall = statetype != A
trigger1 = time = 0
ignorehitpause = 0


[State -1]
type = ChangeState
value = 500
triggerall = !var(59)
triggerall = command = "x" || command = "a"
triggerall = command = "holddown"
triggerall = statetype != A
trigger1 = time = 0
ignorehitpause = 0


[State -1]
type = ChangeState
value = 510
triggerall = !var(59)
triggerall = command = "y"
triggerall = command = "holddown"
triggerall = statetype != A
trigger1 = time = 0
ignorehitpause = 0


[State -1]
type = ChangeState
value = 520
triggerall = !var(59)
triggerall = command = "z"
triggerall = command = "holddown"
triggerall = statetype != A
trigger1 = time = 0
ignorehitpause = 0

[State 101, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



[Statedef 10825]
type = A
physics = N
ctrl = 0
anim = 10825

[State 100, Effect]
type = PlaySnd
triggerall = var(0) != -1
triggerall = var(0) != 2
triggerall = time = 0
trigger1 = !NumHelper(3211)
trigger2 = NumHelper(3211)
trigger2 = Helper(3211),time > 1
value = 820,0

[State 100, Effect]
type = PlaySnd
triggerall = var(0) != -1
triggerall = var(0) != 2
triggerall = time = 0
trigger1 = !NumHelper(3211)
trigger2 = NumHelper(3211)
trigger2 = Helper(3211),time > 1
value = 820,2
channel = 0

[State 220, Position]
type = PosAdd
trigger1 = Time = 0
x = 12
persistent = 0

[State 8500, 1]
type = varset
trigger1 = time = 0
var(49) = 10000

[State 8500, 1]
type = varset
trigger1 = time = 0
var(51) = 40

[State 4030, Gravity]
type = VelAdd
trigger1 = var(0) != -1
trigger1 = var(0) != 2
y = ifelse(var(4),.5,.6)

[State 1100, ChangeState]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 52




















[Statedef 10001]
type = S
physics = S
sprpriority = 0
anim = 6900

[State 1505,0]
type = BindToParent
trigger1 = 1
pos = 0,0

[State 100, 2]
type = turn
trigger1 = facing != root,facing

[State 2600, ChangeState]
type = ParentVarSet
trigger1 = IsHelper
trigger1 = parent,fvar(12) > 0 || parent,movetype != I
var(36) = 1

[State 420, VarSet]
type = VarSet
trigger1 = time = 0
fvar(2) = 0

[State 0, 4]
type = ChangeState
triggerall = root,movetype != H
trigger1 = root,stateno = 3252 && root,var(0)
value = 13204

[State 0, 4]
type = ChangeState
trigger1 = root,stateno = 4000
trigger2 = root,stateno = 4100 && root,statetype = A
value = 14000

[State 0, 4]
type = ChangeState
trigger1 = root,stateno = 4100 && root,statetype != A
value = 14100

[State 2600, ChangeState]
type = ChangeState
trigger1 = root,stateno = 5030 && roundstate = 3
value = 12300

[State 0, 4]
type = ChangeState
trigger1 = !root,var(49) && roundstate = 2
value = 10000

[State 420, VarSet]
type = VarSet
trigger1 = root,stateno != 3200 && root,stateno != 3201 && root,stateno != 3250
var(0) = root,var(0)


[State -2, DEBUG]
trigger1 = 1
type = DisplayToClipboard
ignorehitpause = 1
text = "MAX = %d Hit= %d Counter =%d Hit1 = %d Bit2 = %d \n "
params = var(2), var(3), var(4), numhelper(40000), numtarget
ignorehitpause = 1



[Statedef 125]
type = U
physics = U
sprpriority = 1

[State 1000, 0]
type = BindToParent
trigger1 = 1
pos = 0,0

[State 10000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 100, 2]
type = turn
trigger1 = facing != root,facing

[State 120, 1]
type = ChangeAnim
triggerall = anim != 125
trigger1 = root,anim = 120
trigger2 = root,anim = 130
trigger3 = root,anim = 132
value = 125

[State 120, 1]
type = ChangeAnim
triggerall = anim != 126
trigger1 = root,anim = 121
trigger2 = root,anim = 131
value = 126

[State 120, 1]
type = ChangeAnim
trigger1 = root,anim = 150 || root,anim = 152
value = 155
persistent = 0

[State 120, 1]
type = ChangeAnim
trigger1 = root,anim = 151
value = 156
persistent = 0

[State 2600, ChangeState]
type = changeanim
trigger1 = root,stateno = [150,155]
trigger1 = root,command = "holdback"
trigger1 = animelem = 4
value = anim
elem = 2
persistent = 1

[State 2600, ChangeState]
type = changeanim
triggerall = IsHelper
trigger1 = parent,var(36) = 1
trigger2 = parent,var(0) = -1
trigger3 = parent,var(0) = 2
value = anim
elem = AnimElemNo(0)-!AnimElemTime(AnimElemNo(0))
persistent = 1

[State 2600, posfreeze]
type = posfreeze
triggerall = IsHelper
trigger1 = parent,var(36) = 1
trigger2 = parent,var(0) = -1
trigger3 = parent,var(0) = 2

[State 2600, ChangeState]
type = ParentVarSet
trigger1 = IsHelper
trigger1 = parent,fvar(12) > 0 || parent,movetype != I
var(36) = 1

[State 1100, VarSet]
type = VarSet
trigger1 = IsHelper
trigger1 = root,stateno != 3200 && root,stateno != 3201 && root,stateno != 3250
var(0) = root,var(0)

[State 120, 5]
type = ChangeState
triggerall = time > 1
triggerall = root,time = 1
trigger1 = root,stateno = 150
trigger2 = root,stateno = 152
trigger3 = root,stateno = 154
value = 125

[State 120, 5]
type = ChangeState
trigger1 = root,stateno != 120
trigger1 = root,stateno != [130,132]
trigger1 = root,stateno != 140
trigger1 = root,stateno != [150,155]
trigger2 = anim = 145 || anim = 146 || anim = 155 || anim = 156
trigger2 = animtime = 0
value = 10000



[Statedef 12100]
type = U
physics = N
velset = 0,0
ctrl = 0
sprpriority = 2

[State 420, VarSet]
type = VarSet
triggerall = IsHelper
trigger1 = root,stateno != 3200 && root,stateno != 3201 && root,stateno != 3250
var(0) = root,var(0)

[State 220, Effect]
type = PlaySnd
trigger1 = time = 1
value = 820, 1
persistent = 0

[State 10000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 10000, 4]
type = NotHitBy
trigger1 = 1
value = SCA

[State 10000, 4]
type = PlayerPush
trigger1 = 1
value = 0

[State 1000, Anim]
type = changeanim
trigger1 = prevstateno = 11000
trigger1 = time = 0
value = 11005
ignorehitpause = 1

[State 1000, Anim]
type = changeanim
trigger1 = prevstateno = 11900
trigger1 = time = 0
value = 11005
ignorehitpause = 1

[State 1000, Anim]
type = changeanim
trigger1 = prevstateno = 11100
trigger1 = time = 0
value = 11105
ignorehitpause = 1

[State 1000, Anim]
type = changeanim
trigger1 = prevstateno = 11200
trigger1 = time = 0
value = 11205
ignorehitpause = 1

[State 1000, Anim]
type = changeanim
trigger1 = prevstateno = [170,182]
trigger1 = time = 0
value = 11180
ignorehitpause = 1

[State 1000, Anim]
type = changeanim
triggerall = time = 0
trigger1 = prevstateno = 10901
trigger2 = prevstateno = 10911
value = 11180
ignorehitpause = 1

[State 1000, Anim]
type = changeanim
trigger1 = prevstateno = 13200
trigger1 = time = 0
value = 13205
ignorehitpause = 1

[State 1000, Anim]
type = changeanim
trigger1 = prevstateno = 13302
trigger1 = time = 0
value = 11180
ignorehitpause = 1

[State 1000, Anim]
type = changeanim
trigger1 = prevstateno = 13500
trigger1 = time = 0
value = 13505
ignorehitpause = 1

[State 1000, Anim]
type = changeanim
trigger1 = prevstateno = 13602
trigger1 = time = 0
value = 13205
ignorehitpause = 1

[State 4900, 16]
type = SprPriority
trigger1 = prevstateno = 11000
trigger2 = prevstateno = [170,182]
trigger3 = prevstateno = 13200
trigger4 = prevstateno = 13302
value = -1
ignorehitpause = 1

[State 4900, 16]
type = AngleDraw
trigger1 = time < 12
scale = 1-(.075*Time),1+(.05*Time)
ignorehitpause = 1

[State 4900, 16]
type = AngleDraw
trigger1 = time >= 12
scale = 0,0
ignorehitpause = 1

[State 1100, VarSet]
type = ParentVarSet
trigger1 = IsHelper
trigger1 = time = 12
var(8) = 0

[State 420, 3]
type = ChangeState
trigger1 = IsHelper
trigger1 = time = 12
value = 10000



[Statedef 12200]
type = U
movetype = H
physics = N
velset = 0,0
anim = 12200

[State 12200, VarSet]
type = VarSet
trigger1 = time = 0
var(31) = GetHitVar(damage)

[State 12200, VarSet]
type = VarSet
trigger1 = time = 0
var(34) = GetHitVar(hittime)+1

[State 12200, VarSet]
type = ParentVarSet
trigger1 = time = 0
var(11) = gethitvar(slidetime)

[State 12200, VarSet]
type = ParentVarSet
trigger1 = time = 0
var(33) = gethitvar(hitshaketime)

[State 12200, VarSet]
type = ParentVarSet
trigger1 = time = 0
var(34) = gethitvar(hittime)+1

[State -1, Run Fwd]
type = ParentVarAdd
triggerall = root,var(54) = (0,80]
trigger1 = time = 0
var(54) = -2-ceil(var(31)*.25)
ignorehitpause = 1

[State 12200, ChangeAnim]
type = ChangeAnim
trigger1 = root,var(49)
value = 6900

[State 12200, AfterImage]
type = AfterImageTime
trigger1 = Time = 0
value = 0

[State 12200, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 12200, Position]
type = PosAdd
trigger1 = time = 0
y = -75

[State 12200, StopSound]
type = StopSnd
trigger1 = time = 1
channel = 0

[State 12200, ChangeAnim]
type = ChangeAnim
triggerall = anim != 6900
trigger1 = animelem = 4
value = anim
elem = 2

[State 12200, ChangeState]
type = ChangeState
trigger1 = HitShakeOver
value = 12201+(root,var(49)=10000)



[Statedef 12201]
type = U
movetype = H
physics = N
ctrl = 0

[State 12200, VarSet]
type = VarSet
trigger1 = time = 0
var(47) = 0

[State 12200, VarAdd]
type = VarAdd
trigger1 = !root,var(36)
trigger1 = root,var(0) != -1
trigger1 = root,var(0) != 2
var(47) = 1

[State 12200, VarAdd]
type = VarAdd
trigger1 = !root,var(36)
trigger1 = var(34) > 0
trigger1 = root,var(0) != -1
trigger1 = root,var(0) != 2
var(34) = -1

[State 5070, 2]
type = ChangeAnim
trigger1 = !root,var(36)
trigger1 = root,var(0) != -1
trigger1 = root,var(0) != 2
value = 12201
persistent = 0

[State 12201, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 12201, HitVel1]
type = VelAdd
trigger1 = var(47) <= 12
y = GetHitVar(yaccel)

[State 12201, HitVel2]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 12201, Position]
type = PosFreeze
trigger1 = time >= 4
trigger2 = root,var(0) = -1
trigger3 = root,var(0) = 2

[State 12201, Sound]
type = PlaySnd
trigger1 = var(47) = 1
value = 820, 1
persistent = 0

[State 12201, Angle]
type = AngleDraw
trigger1 = var(47) <= 12
scale = 1+(.05*var(47)),1-(.075*var(47))
ignorehitpause = 1

[State 12201, ChangeAnim]
type = ChangeAnim
trigger1 = var(47) = 12
value = 6900

[State 2600, ChangeState]
type = changeanim
triggerall = IsHelper
trigger1 = parent,var(36) = 1
trigger2 = parent,var(0) = -1
trigger3 = parent,var(0) = 2
value = anim
elem = AnimElemNo(0)-!AnimElemTime(AnimElemNo(0))
persistent = 1

[State 2600, posfreeze]
type = posfreeze
triggerall = IsHelper
trigger1 = parent,var(36) = 1
trigger2 = parent,var(0) = -1
trigger3 = parent,var(0) = 2

[State 2600, ChangeState]
type = ParentVarSet
trigger1 = IsHelper
trigger1 = parent,fvar(12) > 0 || parent,movetype != I
var(36) = 1

[State 12202, ChangeState]
type = DestroySelf
trigger1 = HitOver && !var(34)



[Statedef 12202]
type = U
movetype = H
physics = N
ctrl = 0
anim = 6900

[State 12200, VarAdd]
type = VarAdd
trigger1 = !root,var(36)
trigger1 = var(34) > 0
trigger1 = root,var(0) != -1
trigger1 = root,var(0) != 2
var(34) = -1

[State 12202, Position]
type = PosFreeze
trigger1 = 1

[State 12202, ChangeState]
type = DestroySelf
trigger1 = HitOver && !var(34)



[Statedef 12300]
type = U
movetype = I
physics = N
velset = 0,0
anim = 12200

[State 12300, AfterImage]
type = AfterImageTime
trigger1 = Time = 0
value = 0

[State 12300, Position]
type = BindToParent
triggerall = prevstateno = 10001
trigger1 = time = 0
pos = 12,-75

[State 12300, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 12300, Position]
type = PosAdd
trigger1 = time = 0
y = -75

[State 12300, StopSound]
type = StopSnd
trigger1 = time = 1
channel = 0

[State 12300, ChangeAnim]
type = ChangeAnim
trigger1 = animelem = 4
value = anim
elem = 2

[State 2600, ChangeState]
type = changeanim
triggerall = IsHelper
trigger1 = parent,var(36) = 1
trigger2 = parent,var(0) = -1
trigger3 = parent,var(0) = 2
value = anim
elem = AnimElemNo(0)-!AnimElemTime(AnimElemNo(0))
persistent = 1

[State 2600, posfreeze]
type = posfreeze
triggerall = IsHelper
trigger1 = parent,var(36) = 1
trigger2 = parent,var(0) = -1
trigger3 = parent,var(0) = 2

[State 123000, VarSet]
type = ParentVarSet
trigger1 = IsHelper
trigger1 = parent,fvar(12) > 0 || parent,movetype != I
var(36) = 1

[State 123000, 7]
type = ChangeState
triggerall = time > 1
trigger1 = root,HitShakeOver
value = 12301



[Statedef 12301]
type = U
movetype = I
physics = N
ctrl = 0

[State 12200, VarSet]
type = VarSet
trigger1 = time = 0
var(47) = 0

[State 12200, VarAdd]
type = VarAdd
trigger1 = !root,var(36)
trigger1 = root,var(0) != -1
trigger1 = root,var(0) != 2
var(47) = 1

[State 5070, 2]
type = ChangeAnim
trigger1 = !root,var(36)
trigger1 = root,var(0) != -1
trigger1 = root,var(0) != 2
value = 12201
persistent = 0

[State 12301, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 12301, HitVel1]
type = VelAdd
trigger1 = var(47) <= 12
y = root,GetHitVar(yaccel)

[State 12301, HitVel2]
type = VelSet
trigger1 = Time = 0
x = -4
y = -2

[State 12301, HitVel3]
type = VelSet
trigger1 = 1
y = .2

[State 12301, Position]
type = PosFreeze
trigger1 = time = [4,12]

[State 12301, Sound]
type = PlaySnd
trigger1 = var(47) = 1
value = 820, 1
persistent = 0

[State 12301, Angle]
type = AngleDraw
trigger1 = var(47) <= 12
scale = 1+(.05*var(47)),1-(.075*var(47))
ignorehitpause = 1

[State 12301, ChangeAnim]
type = ChangeAnim
trigger1 = var(47) = 12
value = 6900

[State 2600, ChangeState]
type = changeanim
triggerall = IsHelper
trigger1 = parent,var(36) = 1
trigger2 = parent,var(0) = -1
trigger3 = parent,var(0) = 2
value = anim
elem = AnimElemNo(0)-!AnimElemTime(AnimElemNo(0))
persistent = 1

[State 2600, posfreeze]
type = posfreeze
triggerall = IsHelper
trigger1 = parent,var(36) = 1
trigger2 = parent,var(0) = -1
trigger3 = parent,var(0) = 2

[State 2600, ChangeState]
type = ParentVarSet
trigger1 = IsHelper
trigger1 = parent,fvar(12) > 0 || parent,movetype != I
var(36) = 1

[State 12301, ChangeState] ;Fixed Stand Bug.
type = ChangeState
trigger1 = root,HitOver && root,var(34)
trigger2 = time > 12
value = 10000



[Statedef 14000]
type = U
movetype = I
anim = 14030
velset = 0,0

[State 1100, VarSet]
type = VarSet
trigger1 = IsHelper
trigger1 = root,stateno != 3200 && root,stateno != 3201 && root,stateno != 3250
var(0) = root,var(0)

[State 1000, 0]
type = BindToParent
trigger1 = time = 0
pos = 12,0

[State 10000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 10000, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 2600, ChangeState]
type = changeanim
triggerall = IsHelper
trigger1 = parent,var(36) = 1
trigger2 = parent,var(0) = -1
trigger3 = parent,var(0) = 2
value = anim
elem = AnimElemNo(0)-!AnimElemTime(AnimElemNo(0))
persistent = 1

[State 2600, posfreeze]
type = posfreeze
triggerall = IsHelper
trigger1 = parent,var(36) = 1
trigger2 = parent,var(0) = -1
trigger3 = parent,var(0) = 2

[State 2600, ChangeState]
type = ParentVarSet
trigger1 = IsHelper
trigger1 = parent,fvar(12) > 0 || parent,movetype != I
var(36) = 1

[State 4000, 7]
type = ChangeState
triggerall = time > 1
trigger1 = root,var(33)<20
trigger2 = root,stateno = 5000
trigger3 = root,stateno = 5001
trigger4 = root,stateno = 5010
trigger5 = root,stateno = 5011
trigger6 = root,stateno = 5020
trigger7 = root,stateno = 5030
trigger8 = root,stateno = 5035
trigger9 = root,stateno = 5040
trigger10 = root,stateno = 5050
trigger11 = root,stateno = 5070
trigger12 = root,stateno = 5071
value = 14300



[Statedef 14100]
type = U
movetype = I
anim = 14100
velset = 0,0
sprpriority = 2

[State 1100, VarSet]
type = VarSet
trigger1 = IsHelper
trigger1 = root,stateno != 3200 && root,stateno != 3201 && root,stateno != 3250
var(0) = root,var(0)

[State 1000, 0]
type = BindToParent
trigger1 = time = 0
pos = 12,0

[State 10000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 2600, ChangeState]
type = changeanim
triggerall = IsHelper
trigger1 = parent,var(36) = 1
trigger2 = parent,var(0) = -1
trigger3 = parent,var(0) = 2
value = anim
elem = AnimElemNo(0)-!AnimElemTime(AnimElemNo(0))
persistent = 1

[State 2600, posfreeze]
type = posfreeze
triggerall = IsHelper
trigger1 = parent,var(36) = 1
trigger2 = parent,var(0) = -1
trigger3 = parent,var(0) = 2

[State 2600, ChangeState]
type = ParentVarSet
trigger1 = IsHelper
trigger1 = parent,fvar(12) > 0 || parent,movetype != I
var(36) = 1

[State 4000, 7]
type = ChangeState
triggerall = time > 1
trigger1 = !root,var(33)
value = 14101

[State 4000, 7]
type = ChangeState
triggerall = time > 1
trigger1 = root,stateno = 5000
trigger2 = root,stateno = 5001
trigger3 = root,stateno = 5010
trigger4 = root,stateno = 5011
trigger5 = root,stateno = 5020
trigger6 = root,stateno = 5030
trigger7 = root,stateno = 5035
trigger8 = root,stateno = 5040
trigger9 = root,stateno = 5050
trigger10 = root,stateno = 5070
trigger11 = root,stateno = 5071
value = 10000



[Statedef 14101]
type = U
movetype = I
anim = 14101
velset = 0,0

[State 10000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 4000, 7]
type = sprpriority
trigger1 = animelem = 2
value = 1

[State 5030, 2]
type = VelSet
trigger1 = Time = 0
x = -4

[State 5030, 2]
type = VelMul
trigger1 = 1
x = .85

[State 2600, ChangeState]
type = changeanim
triggerall = IsHelper
trigger1 = parent,var(36) = 1
trigger2 = parent,var(0) = -1
trigger3 = parent,var(0) = 2
value = anim
elem = AnimElemNo(0)-!AnimElemTime(AnimElemNo(0))
persistent = 1

[State 2600, posfreeze]
type = posfreeze
triggerall = IsHelper
trigger1 = parent,var(36) = 1
trigger2 = parent,var(0) = -1
trigger3 = parent,var(0) = 2

[State 2600, ChangeState]
type = ParentVarSet
trigger1 = IsHelper
trigger1 = parent,fvar(12) > 0 || parent,movetype != I
var(36) = 1

[State 4000, 7]
type = ChangeState
trigger1 = time > 12
value = 10000

[State 4000, 7]
type = ChangeState
triggerall = time > 1
trigger1 = root,stateno = 5000
trigger2 = root,stateno = 5001
trigger3 = root,stateno = 5010
trigger4 = root,stateno = 5011
trigger5 = root,stateno = 5020
trigger6 = root,stateno = 5030
trigger7 = root,stateno = 5035
trigger8 = root,stateno = 5040
trigger9 = root,stateno = 5050
trigger10 = root,stateno = 5070
trigger11 = root,stateno = 5071
value = 10000



[Statedef 14300]
type = U
movetype = I
physics = N
velset = 0,0
anim = 14300

[State 10000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 220, Position]
type = PosAdd
trigger1 = time = 0
y = -75

[State 5030, 2]
type = VelSet
trigger1 = Time = 0
x = -3
y = -2

[State 5030, 2]
type = VelAdd
trigger1 = parent,var(0) != -1
trigger1 = parent,var(0) != 2
y = .2

[State 2600, ChangeState]
type = changeanim
triggerall = IsHelper
trigger1 = parent,var(36) = 1
trigger2 = parent,var(0) = -1
trigger3 = parent,var(0) = 2
value = anim
elem = AnimElemNo(0)-!AnimElemTime(AnimElemNo(0))
persistent = 1

[State 2600, posfreeze]
type = posfreeze
triggerall = IsHelper
trigger1 = parent,var(36) = 1
trigger2 = parent,var(0) = -1
trigger3 = parent,var(0) = 2

[State 2600, ChangeState]
type = ParentVarSet
trigger1 = IsHelper
trigger1 = parent,fvar(12) > 0 || parent,movetype != I
var(36) = 1

[State 5000, 7]
type = ChangeState
trigger1 = animtime = 0
value = 14301



[Statedef 14301]
type = U
movetype = I
physics = N
ctrl = 0
anim = 14301

[State 10000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State -2, Combo]
type = ParentVarSet
trigger1 = time = 12
var(8) = 0
ignorehitpause = 1

[State 5030, 2]
type = VelAdd
trigger1 = 1
y = .2

[State 220, Position]
type = PosFreeze
trigger1 = 1

[State 220, Effect]
type = PlaySnd
trigger1 = time = 1
value = 820, 1
persistent = 0

[State 4900, 16]
type = AngleDraw
trigger1 = 1
scale = 1+(.05*Time),1-(.075*Time)
ignorehitpause = 1

[State 420, 3]
type = ChangeState
trigger1 = time = 12
value = 10000
















[Statedef 17000]
type = U
movetype = I
ctrl = 0
anim = 17000
sprpriority = -1

[State 220, 3]
type = DestroySelf
trigger1 = root,movetype = H
trigger2 = parent,movetype = H

[State 1000, 0]
type = BindToParent
trigger1 = 1
pos = 0,0

[State 8500, 1]
type = varset
trigger1 = time = 0
var(1) = parent,stateno

[State 10000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 10000, Assert]
type = AssertSpecial
trigger1 = var(0)%7=[3,5]
flag = invisible

[State 0]
type = changeanim
triggerall = time > 0
trigger1 = parent,var(24)
trigger2 = var(0)%7=[3,6]
trigger3 = root,var(0) = -1
trigger4 = root,var(0) = 2
value = anim
elem = AnimElemNo(0)-!AnimElemTime(AnimElemNo(0))
persistent = 1

[State 10000, VarAdd]
type = VarAdd
triggerall = !parent,var(24)
trigger1 = root,var(0) != -1
trigger1 = root,var(0) != 2
var(0) = 1

[State 220, 3]
type = DestroySelf
trigger1 = var(1) != parent,stateno
trigger2 = parent,stateno = 12200 || parent,stateno = 12300
trigger3 = parent,stateno = 11000 && parent,animelem = 48
trigger4 = parent,stateno = 1050 && parent,animelem = 80
trigger5 = parent,stateno = 1060 && parent,animelem = 80
trigger6 = parent,stateno = 52 && parent,prevstateno = 1060 && parent,time = 1
trigger7 = parent,stateno = 1950 && parent,animelem = 12
trigger8 = parent,stateno = 11900 && parent,animelem = 12
trigger9 = parent,stateno = 1150 && parent,animelem = 1



[Statedef 17001]
type = U
movetype = I
ctrl = 0
anim = 17001
sprpriority = 2

[State 220, 3]
type = DestroySelf
trigger1 = root,movetype = H
trigger2 = parent,movetype = H

[State 1000, 0]
type = BindToParent
trigger1 = 1
pos = 0,0

[State 8500, 1]
type = varset
trigger1 = time = 0
var(1) = parent,stateno

[State 10000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 10000, VarAdd]
type = VarAdd
triggerall = !parent,var(24)
trigger1 = root,var(0) != -1
trigger1 = root,var(0) != 2
var(0) = 1

[State 10000, Assert]
type = AssertSpecial
trigger1 = var(0)%7=[0,2]
flag = invisible

[State 0]
type = changeanim
triggerall = time > 0
trigger1 = parent,var(24)
trigger2 = var(0)%7=[0,3]
trigger3 = root,var(0) = -1
trigger4 = root,var(0) = 2
value = anim
elem = AnimElemNo(0)-!AnimElemTime(AnimElemNo(0))
persistent = 1

[State 220, 3]
type = DestroySelf
trigger1 = var(1) != parent,stateno
trigger2 = parent,stateno = 12200 || parent,stateno = 12300
trigger3 = parent,stateno = 11000 && parent,animelem = 48
trigger4 = parent,stateno = 1050 && parent,animelem = 80
trigger5 = parent,stateno = 1060 && parent,animelem = 80
trigger6 = parent,stateno = 52 && parent,prevstateno = 1060 && parent,time = 1
trigger7 = parent,stateno = 1950 && parent,animelem = 12
trigger8 = parent,stateno = 11900 && parent,animelem = 12
trigger9 = parent,stateno = 1150 && parent,animelem = 1






















[Statedef 1404]
type = S
movetype = I
physics = S

[State 220, 3]
type = ChangeState
trigger1 = var(0) != -1
trigger1 = var(0) != 2
value = 1400

[State 220, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1







[Statedef 1405]
type    = U
movetype = H
physics = N
anim = 5012
velset = 0,0
ctrl = 0
sprpriority = -1

[State 5000, 4]
type = ChangeAnim
trigger1 = 1
value = anim



[Statedef 1406]
movetype = H
ctrl = 0
velset = 0,0

[State 105, 1]
type = Statetypeset
trigger1 = 1
movetype = H
ignorehitpause = 1
persistent = 1

[State 650, HitPause]
type = PosFreeze
trigger1 = 1
ignorehitpause = 1

[State 1033, End]
type = SelfState
trigger1 = time = 25
value = 5000














[Statedef 7501]
type = A
movetype = A
physics = N
ctrl = 0
velset = 0,0
sprpriority = 4

[State 9000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 1100, VarSet]
type = VarSet
trigger1 = 1
var(28) = root,var(28)

[State 1100, VarSet]
type = VarSet
trigger1 = 1
var(42) = root,var(42)

[State 1100, VarSet]
type = VarSet
trigger1 = 1
fvar(0) = root,fvar(0)

[State 1100, VarSet]
type = VarSet
trigger1 = 1
fvar(1) = root,fvar(1)

[State 1100, Velocity]
type = VelSet
trigger1 = time = 0
x = 7

[State 2600, posfreeze]
type = posfreeze
triggerall = root,var(0)
trigger1 = time > 8

[State 902, 1]
type = ChangeAnim
Trigger1 = Time = 0
value = 7500

[State 2500, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1100, VarSet]
type = VarSet
trigger1 = Time = 2
var(1) = ceil(21*fvar(1)*ifelse(parent,var(8) = 3,.25,1))

[State 220, 1]
type = Hitdef
triggerall = root,var(0) != 1
trigger1 = time >= 2
attr = S, HP
hitflag = MAF
guardflag = MA
animtype = heavy
air.animtype = back
fall.animtype = back
priority = 5,Hit
damage = ceil(ifelse(var(1)<7,7,var(1))), ceil(ifelse((var(1)*.25)<7,7,(var(1)*.25)))
pausetime = 0,11
guard.pausetime = 0,11
sparkno = S8305
guard.sparkno = S8100
sparkxy = 10-(random%20), 0
hitsound = -1,0
guardsound = -1,0
ground.type = Low
air.type = Low
ground.slidetime = 17
ground.hittime = 17
air.hittime = 17
guard.ctrltime = 17
ground.velocity = -1.8,-8.6
guard.velocity = -8
air.velocity = -1.8,-8.6
airguard.velocity = -4.2,-3.2
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
getpower = 0,0
givepower = 10*!root,var(0),0
persistent = 1
fall = 1
air.fall = 1
fall.recover = 1
yaccel = .35
guard.kill = 0
p2facing = 1

[State 220, 1]
type = Hitdef
triggerall = root,var(0) = 1
trigger1 = time >= 2
attr = S, HP
hitflag = MAFD
guardflag =
animtype = heavy
air.animtype = back
fall.animtype = back
priority = 5,Hit
damage = 0
pausetime = 0,11
guard.pausetime = 0,11
sparkno = S8305
guard.sparkno = S8100
sparkxy = 10-(random%20), 0
hitsound = -1,0
guardsound = -1,0
ground.type = Low
air.type = Low
ground.slidetime = 17
ground.hittime = 17
air.hittime = 17
guard.ctrltime = 17
ground.velocity = -1.8,-8.6
guard.velocity = -8
air.velocity = -1.8,-8.6
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
getpower = 0,0
givepower = 0,0
persistent = 1
fall = 1
air.fall = 1
fall.recover = 1
yaccel = .35
guard.kill = 0
p2facing = 1

[State 8500, 1]
type = parentvaradd
trigger1 = movehit
var(15) = ceil(ifelse((var(1)*.5)<7,7,(var(1)*.5)))
ignorehitpause = 1

[State 8500, 1]
type = parentvarset
trigger1 = movehit
fvar(38) = 1
ignorehitpause = 1


[State 10000, HitBy]
type = HitBy
trigger1 = root,var(0) != 1
value = SCA, NP, SP, HP

[State 5201, 4]
type = NotHitBy
trigger1 = root,var(0) = 1
value = SCA

[State 10000, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 10000, ParentVarAdd]
type = ParentVarAdd
trigger1 = movecontact
var(18) = 1
ignorehitpause = 1

[State 10000, ParentVarSet]
type = ParentVarSet
triggerall = !root,var(58)
trigger1 = movehit && p2movetype = H
trigger2 = projHit = 1 && p2movetype = H
var(58) = 1
ignorehitpause = 1

[State 10000, ParentVarAdd]
type = ParentVarAdd
trigger1 = movehit
var(42) = 1
ignorehitpause = 1

[State 10000, ParentVarAdd]
type = ParentVarAdd
triggerall = IsHelper
triggerall = parent,var(28) >= 1
trigger1 = movehit
var(28) = 1
ignorehitpause = 1

[State 10000, ParentVarAdd]
type = ParentVarSet
triggerall = IsHelper
triggerall = random = [0,800]
triggerall = !parent,var(28)
trigger1 = movehit
var(28) = 1
ignorehitpause = 1

[State 10000, VarAdd]
type = VarSet
trigger1 = movehit
var(41) = 1
ignorehitpause = 1

[State 10000, VarAdd]
type = VarSet
trigger1 = moveguarded
var(41) = 2
ignorehitpause = 1

[State 10000, VarAdd]
type = VarSet
trigger1 = time = 1
var(41) = 0
ignorehitpause = 1

[State 10000, Voice]
type = PlaySnd
trigger1 = moveguarded
trigger1 = parent,var(18) = 1
value = 4,0
channel = 2
ignorehitpause = 1

[State 10000, Voice]
type = PlaySnd
trigger1 = movehit
trigger1 = parent,var(18) = 1
value = 1,8
channel = 2
ignorehitpause = 1

[State 10000, HitOverRide]
type = HitOverRide
trigger1 = 1
slot = 0
stateno = 7520
attr = SCA, NP, SP, HP
time = -1

[State 900, 4]
type = ChangeState
triggerall = time > 1
trigger1 = movehit && numtarget && !root,var(17)
value = ifelse(root,var(0)=1,7512,7511)
ignorehitpause = 1

[State 900, 4]
type = ChangeState
triggerall = time > 1
trigger1 = movehit && numtarget && root,var(17) && root,var(0)=1
value = 7514
ignorehitpause = 1

[State 900, 4]
type = ChangeState
triggerall = time > 1
trigger1 = movehit && random%3!=0
value = 7510
ignorehitpause = 1

[State 900, 4]
type = ChangeState
triggerall = time > 1
trigger1 = movecontact
value = 7520
ignorehitpause = 1

[State 4110, DestroySelf]
type = ChangeState
triggerall = time > 1
trigger1 = FrontEdgeDist <= -40
trigger2 = Pos Y >= 0 && Vel Y > 0
value = 7514
ignorehitpause = 0





[Statedef 7510]
type    = A
movetype = I
physics = N
ctrl = 0
anim = anim+10
velset = 0,0

[State 9000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 5035, 1]
type = AngleDraw
trigger1 = 1

[State 5035, 1]
type = AngleSet
trigger1 = 1
value = var(2)

[State 4110, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0



[Statedef 7511]
type    = A
movetype = I
physics = N
ctrl = 0
anim = anim+10
velset = 0,0

[State 9000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 5035, 1]
type = AngleDraw
trigger1 = 1

[State 5035, 1]
type = AngleSet
trigger1 = 1
value = var(2)

[State 10000, ParentVarSet]
type = ParentVarSet
trigger1 = time = 0
var(17) = 1
ignorehitpause = 1

[State 10000, ParentVarSet]
type = ParentVarSet
trigger1 = time > 1
trigger1 = !numtarget
var(17) = 0
ignorehitpause = 1

[State 900, 4]
type = ChangeAnim
trigger1 = anim != 6900
value = 6900

[State 4110, DestroySelf]
type = DestroySelf
trigger1 = time > 1
trigger1 = !numtarget



[Statedef 7512]
type    = A
movetype = I
physics = N
anim = 6900
ctrl = 0
velset = 0,0

[State 10000, ParentVarSet]
type = ParentVarSet
trigger1 = time = 0
var(17) = 1
ignorehitpause = 1

[State 200, 7]
type = TargetState
trigger1 = numtarget && !root,numtarget
trigger1 = target,stateno != [2600,2601]
trigger1 = !root,var(0)
value = 2701
persistent = 0

[State 10000, ParentVarSet]
type = ParentVarSet
trigger1 = !numtarget
var(17) = 0
ignorehitpause = 1

[State 900, 4]
type = ChangeState
trigger1 = numtarget && !root,numtarget
trigger1 = !root,var(0)
value = 7513

[State 4110, DestroySelf]
type = DestroySelf
trigger1 = time > 1
trigger1 = !numtarget



[Statedef 7513]
type    = A
movetype = I
physics = N
ctrl = 0

[State 10000, ParentVarSet]
type = ParentVarSet
trigger1 = !numtarget
var(17) = 0
ignorehitpause = 1

[State 4110, DestroySelf]
type = DestroySelf
trigger1 = !numtarget



[Statedef 7514]
type    = A
movetype = I
physics = N
anim = 6900
ctrl = 0

[State 4110, DestroySelf]
type = DestroySelf
trigger1 = time = 2



[Statedef 7520]
type    = A
movetype = I
physics = N
ctrl = 0
anim = 7520
velset = -3,-3

[State 9000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 5035, 1]
type = AngleDraw
trigger1 = 1

[State 5035, 1]
type = AngleSet
trigger1 = 1
value = var(2)

[State 1100, Velocity]
type = VelAdd
trigger1 = 1
y = .4

[State 4110, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0






[Statedef 3800]
type    = S
movetype= H
physics = N
velset = 0,0

[State 1000, 0]
type = PosSet
trigger1 = time = 0
y = 0

[State 1000, 0]
type = HitFallSet
trigger1 = time = 0
value = 0

[State 5000, 1]
type = ChangeAnim
trigger1 = Time = 0
value = 5002

[State 5000, 4]
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 5000, 6]
type = ChangeState
trigger1 = HitShakeOver
value = 3801



[Statedef 3805]
type    = S
movetype= H
physics = N
velset = 0,0

[State 1000, 0]
type = PosSet
trigger1 = time = 0
y = 0

[State 1000, 0]
type = HitFallSet
trigger1 = time = 0
value = 0

[State 5000, 1]
type = ChangeAnim
trigger1 = Time = 0
value = 5012

[State 5000, 4]
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 5000, 6]
type = ChangeState
trigger1 = HitShakeOver
value = 3806



[Statedef 3801]
type    = S
movetype= H
physics = S

[State 5001, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 5001, 2]
type = ChangeAnim
trigger1 = AnimTime = 0
value = 5007

[State 5001, 3]
type = VelMul
trigger1 = Time >= GetHitVar(slidetime)
x = .6

[State 5001, 4]
type = VelSet
trigger1 = HitOver
x = 0

[State 5001, 5]
type = DefenceMulSet
trigger1 = HitOver
value = 1

[State 5001, 6]
type = SelfState
trigger1 = HitOver
value = 0
ctrl = 1



[Statedef 3806]
type    = S
movetype= H
physics = S

[State 5001, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 5001, 2]
type = ChangeAnim
trigger1 = AnimTime = 0
value = 5017

[State 5001, 3]
type = VelMul
trigger1 = Time >= GetHitVar(slidetime)
x = .6

[State 5001, 4]
type = VelSet
trigger1 = HitOver
x = 0

[State 5001, 5]
type = DefenceMulSet
trigger1 = HitOver
value = 1

[State 5001, 6]
type = SelfState
trigger1 = HitOver
value = 0
ctrl = 1



[Statedef 7700]
type = A
physics = N
ctrl = 0
anim = 7700
sprpriority = 2

[State 1505,0]
type = BindToParent
trigger1 = 1
pos = ceil(-84*root,const(size.xscale)),ceil(99*root,const(size.yscale))

[State 1100, DestroySelf]
type = changestate
trigger1 = root,stateno = 3101
value = 7701

[State 1100, DestroySelf]
type = DestroySelf
trigger1 = root,movetype = H
trigger2 = root,movetype != H
trigger2 = root,stateno != [3100,3199]

[State 1100, changestate]
type = changestate
trigger1 = root,stateno = 3102 && root,animelemtime(1) = 14
value = 7702

 
 


[Statedef 7713]
type = A
physics = N
ctrl = 0
anim = 7713
sprpriority = -1

[State 1100, VarSet]
type = VarRandom
trigger1 = Time = 0
v = 0
range = 1

[State 1100, VarSet]
type = VarRandom
trigger1 = Time = 0
v = 1
range = 31

[State 1100, VarSet]
type = VarRandom
trigger1 = Time = 0
v = 2
range = 3

[State 1100, VarSet]
type = VarRandom
trigger1 = Time = 0
v = 3
range = 3

[State 1100, VarSet]
type = VarRandom
trigger1 = Time = 0
v = 4
range = 1,10

[State 1100, VarSet]
type = VarRandom
trigger1 = Time = 0
v = 5
range = 1,10

[State 10000, Assert]
type = AssertSpecial
trigger1 = time > 2
trigger1 = time%2=var(0)
flag = invisible

[State 1100, Velocity]
type = VelSet
trigger1 = time = 0
x = var(2)*var(4)*.025
y = -var(3)*var(5)*.1

[State 1100, Velocity]
type = VelAdd
trigger1 = 1
y = .025

[State 10000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1100, DestroySelf]
type = DestroySelf
trigger1 = time = (65+var(1))


 


[Statedef 7702]
type = A
physics = N
anim = 7702
sprpriority = 2

[State 1100, VarAdd]
type = VarAdd
trigger1 = root,var(0) != -1
trigger1 = root,var(0) != 2
var(47) = 1

[State 1100, VarSet]
type = VarSet
trigger1 = Time = 0
var(47) = 0

[State 2600, ChangeState]
type = changeanim
trigger1 = parent,var(36) = 1
value = anim
elem = AnimElemNo(0)-!AnimElemTime(AnimElemNo(0))
persistent = 1

[State 2600, ChangeState]
type = changeanim
trigger1 = animelemtime(2) < 0
trigger1 = var(47) = 14
value = anim
elem = 2
persistent = 0

[State -2, BG]
type = Helper
trigger1 = animelem = 2
ID = 7720
stateno = 7720
postype = P1
pos = 0,8
pausemovetime = 99999999*(root,var(0)>0)
persistent = 0

[State -2, BG]
type = Helper
trigger1 = animelem = 2
ID = 7721
stateno = 7721
postype = P1
pos = 0,8
pausemovetime = 99999999*(root,var(0)>0)
persistent = 0

[State -2, BG]
type = Helper
trigger1 = animelem = 2
ID = 7722
stateno = 7722
postype = P1
pos = 0,8
pausemovetime = 99999999*(root,var(0)>0)
persistent = 0

[State -2, BG]
type = Helper
trigger1 = animelem = 2
ID = 7723
stateno = 7723
postype = P1
pos = 0,8
pausemovetime = 99999999*(root,var(0)>0)
persistent = 0

[State -2, BG]
type = Helper
trigger1 = animelem = 2
ID = 7724
stateno = 7724
postype = P1
pos = 0,8
pausemovetime = 99999999*(root,var(0)>0)
persistent = 0

[State -2, BG]
type = Helper
trigger1 = animelem = 2
ID = 7725
stateno = 7725
postype = P1
pos = 0,8
pausemovetime = 99999999*(root,var(0)>0)
persistent = 0

[State -2, BG]
type = Helper
trigger1 = animelem = 2
ID = 7726
stateno = 7726
postype = P1
pos = 0,8
pausemovetime = 99999999*(root,var(0)>0)
persistent = 0

[State 220, Voice]
type = PlaySnd
triggerall = root,var(0) != -1
triggerall = root,var(0) != 2
trigger1 = root,stateno = 3102 && root,animelem = 69
value = 3100, 3
persistent = 0

[State 2601, EnvShake]
type = EnvShake
triggerall = root,var(0) != -1
triggerall = root,var(0) != 2
trigger1 = root,stateno = 3102 && root,animelem = 69
time = 25
ampl = 8
persistent = 0

[State -2, BG]
type = Helper
triggerall = root,var(0) != -1
triggerall = root,var(0) != 2
trigger1 = root,stateno = 3102 && root,animelem = 69
stateno = 7790
pausemovetime = 99999999
persistent = 0

[State 9606, EnvColor]
type = palfx
trigger1 = root,stateno = 3102 && root,animelem = 69
add = 256,256,152
time = 1

[State 1100, DestroySelf]
type = DestroySelf
trigger1 = var(47) = 300
trigger2 = root,stateno = 3103
trigger3 = root,movetype = H



[Statedef 7740]
type = A
physics = N

[State 1100, VarSet]
type = VarRandom
trigger1 = Time = 0
v = 0
range = 1

[State 1100, VarSet]
type = VarRandom
trigger1 = Time = 0
v = 1
range = 31

[State 1100, VarSet]
type = VarRandom
trigger1 = Time = 0
v = 2
range = 3

[State 1100, VarSet]
type = VarRandom
trigger1 = Time = 0
v = 3
range = 3

[State 1100, VarSet]
type = VarRandom
trigger1 = Time = 0
v = 4
range = 1,10

[State 1100, VarSet]
type = VarRandom
trigger1 = Time = 0
v = 5
range = 1,10

[State 10000, Assert]
type = AssertSpecial
trigger1 = time > 2
trigger1 = time%2=var(0)
flag = invisible

[State 1100, Velocity]
type = VelSet
trigger1 = time = 0
x = var(2)*var(4)*.05
y = -var(3)*var(5)*.4

[State 1100, Velocity]
type = VelAdd
trigger1 = 1
y = .035

[State 10000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1100, DestroySelf]
type = DestroySelf
trigger1 = time = (65+var(1))




[Statedef 7790]
type = A
physics = N
ctrl = 0
anim = 6900
sprpriority = 2

[State 1100, VarAdd]
type = VarAdd
trigger1 = root,var(0) != -1
trigger1 = root,var(0) != 2
var(47) = 1

[State 1100, VarSet]
type = VarRandom
trigger1 = Time = 0
v = 0
range = 1,16

[State 1100, VarSet]
type = VarRandom
trigger1 = Time = 0
v = 1
range = 9,24

[State 1100, VarSet]
type = VarRandom
trigger1 = Time = 0
v = 2
range = 17,32

[State 1100, VarSet]
type = VarRandom
trigger1 = Time = 0
v = 3
range = 25,40

[State 1100, VarSet]
type = VarRandom
trigger1 = Time = 0
v = 4
range = 33,48

[State 1100, VarSet]
type = VarRandom
trigger1 = Time = 0
v = 5
range = 41,56

[State 1100, VarSet]
type = VarRandom
trigger1 = Time = 0
v = 6
range = 49,64

[State 1000, Spark]
type = Explod
triggerall = root,var(0) != -1
triggerall = root,var(0) != 2
trigger1 = time = 0
Anim = 8501
id = 8501
pos = 0, 0
postype = P1
ownpal = 1
sprpriority = 5
scale = const(size.xscale)*1.5,const(size.yscale)*1.5
pausemovetime = 99999999
persistent = 0

[State 4900, 16]
type = modifyExplod
trigger1 = time = [1,14]
Id = 8501
scale = (1+(0.06*(time-2)))*const(size.xscale),(1+(0.06*(time-2)))*const(size.yscale)
ignorehitpause = 1

[State 220, Voice]
type = PlaySnd
triggerall = root,var(0) != -1
triggerall = root,var(0) != 2
trigger1 = time = var(0)
trigger2 = time = var(1)
trigger3 = time = var(2)
trigger4 = time = var(3)
trigger5 = time = var(4)
trigger6 = time = var(5)
trigger7 = time = var(6)
value = 3100, 4
channel = 2+(gametime%3)

[State 1000, Spark]
type = Explod
triggerall = root,var(0) != -1
triggerall = root,var(0) != 2
trigger1 = time = var(0)
trigger2 = time = var(1)
trigger3 = time = var(2)
trigger4 = time = var(3)
trigger5 = time = var(4)
trigger6 = time = var(5)
trigger7 = time = var(6)
Anim = 8510
id = 8510
pos = 0, -120
random = 640,320
postype = P1
ownpal = 1
sprpriority = 3
scale = const(size.xscale),const(size.yscale)
pausemovetime = 99999999

[State 1100, ChangeState]
type = DestroySelf
trigger1 = time = var(6)+1



[Statedef 3190]
type = A
physics = N
ctrl = 0
anim = 6900

[State 1505,0]
type = BindtoRoot
trigger1 = root,Pos Y > -160
pos = 0,0

[State 1100, VarSet]
type = VarSet
trigger1 = Time = 0
var(0) = ceil(pos Y)

[State 1201, screenbound]
type = screenbound
trigger1 = 1
value = 1
movecamera = 0,-24

[State 6000, DestroySelf]
type = DestroySelf
triggerall = time > 1
trigger1 = root,stateno != 3100
trigger2 = root,movetype = H






[Statedef 3203]
type = U
movetype = I
physics = N
ctrl = 0
velset = 0,0

[State 220, Position]
type = PosSet
trigger1 = Time = 0
y = 0

[State 10000, ChangeAnim]
type = changeanim
trigger1 = Time = 0
trigger1 = statetype = C
value = 12

[State 10000, StateTypeSet]
type = StateTypeSet
trigger1 = anim = 12 && animtime = 0
statetype = S
ignorehitpause = 1

[State 10000, ChangeAnim]
type = changeanim
trigger1 = anim = 5 && animtime = 0
trigger2 = anim = 6 && animtime = 0
trigger3 = anim = 12 && animtime = 0
trigger4 = anim != 5 || anim != 6 || anim != 12 || anim != 0
value = 0
persistent = 0

[State 2500, NotHitBy]
type = NotHitBy
trigger1 = var(0) = 1
value = SCA

[State 220, 3]
type = ChangeState
trigger1 = !NumHelper(10000)
trigger2 = !Helper(10000),var(0)
trigger3 = Helper(10000),stateno = 10000
value = 3202





[Statedef 3204]
type = S
movetype = I
physics = N
ctrl = 0
anim = 3203
velset = 0,0

[State 200, 7]
type = screenbound
trigger1 = 1
value = 0

[State 2500, NotHitBy]
type = NotHitBy
trigger1 = var(0) = 1
value = SCA

[State 200, 7]
type = ChangeState
triggerall = backedgebodydist < 0 || frontedgebodydist < 0
trigger1 = !numtarget && !var(42)
trigger2 = numtarget
trigger2 = target,statetype = L
trigger3 = var(42)
trigger3 = numenemy
trigger3 = enemynear,statetype = L
value = 2500

[State 200, 7]
type = ChangeState
triggerall = time > 3
trigger1 = !numtarget && !var(42)
trigger2 = numtarget
trigger2 = target,statetype = L
trigger3 = var(42)
trigger3 = numenemy
trigger3 = enemynear,statetype = L
value = 0
ctrl = 1





[Statedef 13204]
type = S
physics = S
sprpriority = 0
anim = 6900

[State 1505,0]
type = BindToParent
trigger1 = 1
pos = 0,0

[State 100, 2]
type = turn
trigger1 = facing != root,facing

[State 420, VarSet]
type = VarSet
trigger1 = time = 1
var(0) = 0

[State 200, 7]
type = TargetState
trigger1 = numtarget && !root,numtarget
trigger1 = target,stateno != [2600,2601]
trigger1 = !root,var(0)
value = 2701
persistent = 0

[State 2500, NotHitBy]
type = NotHitBy
trigger1 = var(0) = 1
value = SCA

[State 420, ChangeState]
type = ChangeState
trigger1 = !root,var(0)
value = ifelse(root,var(49),10001,10000)






[Statedef 3253]
type = S
movetype = I
physics = N
ctrl = 0
velset = 0,0

[State 200, 7]
type = screenbound
trigger1 = 1
value = 0

[State 5120, 3]
type = NotHitBy
trigger1 = var(0) = 1
value = SCA

[State 200, 7]
type = ChangeState
triggerall = backedgebodydist < 0 || frontedgebodydist < 0
trigger1 = !numtarget && !var(42)
trigger2 = numtarget
trigger2 = target,statetype = L
trigger3 = var(42)
trigger3 = numenemy
trigger3 = enemynear,statetype = L
value = 2500

[State 200, 7]
type = ChangeState
triggerall = time > 3
trigger1 = !numtarget && !var(42)
trigger2 = numtarget
trigger2 = target,statetype = L
trigger3 = var(42)
trigger3 = numenemy
trigger3 = enemynear,statetype = L
value = 0
ctrl = 1



[Statedef 3255]
type = S
movetype = I
physics = N
ctrl = 0
anim = 10000
velset = 0,0

[State 220, Position]
type = PosSet
trigger1 = Time = 0
y = 0

[State 10000, VarAdd]
type = VarSet
trigger1 = time = 0
var(0) = 0

[State 200, 7]
type = ChangeState
trigger1 = time = 2
value = 0
ctrl = 1







[Statedef 3301]
type = U
physics = N
anim = 3301
velset = 0,0
ctrl = 0

[State 12200, VarSet]
type = VarSet
trigger1 = time = 0
var(47) = 0

[State 12200, VarAdd]
type = VarAdd
trigger1 = var(0) != -1
trigger1 = var(0) != 2
var(47) = 1

[State 220, Effect]
type = PlaySnd
trigger1 = time = 1
value = 820, 1

[State 1000, Spark]
type = Explod
trigger1 = time = 0
Anim = 13305
id = 12100
pos = 0, 0
postype = P1
ownpal = 1
sprpriority = 2
removeongethit = 1
ignorehitpause = 1
scale = const(size.xscale),const(size.yscale)

[State 4900, 16]
type = modifyExplod
trigger1 = 1
ID = 12100
scale = (1-(.075*var(47)))*const(size.xscale),(1+(.05*var(47)))*const(size.yscale)
ignorehitpause = 1

[State 6170, RemoveExplod]
type = RemoveExplod
trigger1 = var(47) = 12
ID = 12100

[State 220, Position]
type = PosAdd
trigger1 = Time = 1
x = -12

[State 420, 3]
type = ChangeState
trigger1 = helper(20000),stateno = 23300 && helper(20000),animelemtime(17) = 1
value = 0
ctrl = 1





[Statedef 3305]
type    = S
movetype = H
physics = N
velset = 0,0
ctrl = 0

[State 5000, 4]
type = ChangeAnim2
trigger1 = time = 0
value = 3305

[State 10000, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0



[Statedef 3306]
type    = A
movetype = H
physics = N
velset = 3,-4
ctrl = 0

[State 5000, 4]
type = ChangeAnim2
trigger1 = time = 0
value = 3306

[State 1100, Velocity]
type = VelAdd
trigger1 = 1
y = .47

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 10000, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 10,0

[State 2601, EnvShake]
type = EnvShake
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
time = 10

[State 903, 2]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100



[Statedef 3309]
type    = S
movetype = H
physics = N
anim = 5002
velset = 0,0
ctrl = 0
sprpriority = -1

[State 5000, 4]
type = ChangeAnim
trigger1 = 1
value = anim

[State 10000, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1205, ChangeState]
type = selfstate
trigger1 = time > 20
value = 5100



[Statedef 13302]
type = U
physics = U
anim = 11180
sprpriority = -1

[State 1000, 0]
type = BindToParent
trigger1 = 1
pos = 0,0

[State 10000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 120, 5]
type = ChangeState
trigger1 = root,stateno = 3302 && root,time = 310
value = 12100





















[Statedef 3505]
type    = U
movetype = H
physics = N
velset = 0,0

[State 5000, 4]
type = ChangeAnim
trigger1 = 1
value = anim

[State 2500, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 5000, 6]
type = ChangeState
trigger1 = time = 96
value = 3506



[Statedef 3506]
type    = U
movetype = H
physics = N

[State 5001, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 5001, 2]
type = ChangeAnim
trigger1 = AnimTime = 0
value = 5015

[State 5001, 3]
type = VelMul
trigger1 = Time >= GetHitVar(slidetime)
x = .6

[State 5001, 4]
type = VelSet
trigger1 = HitOver
x = 0

[State 2500, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 5001, 6]
type = SelfState
trigger1 = HitOver
value = 0
ctrl = 1



[Statedef 3507]
type = A
movetype = H
physics = N
velset = 0,0

[State 52, 1]
type = Turn
trigger1 = Time = 0
trigger1 = Pos x*facing>=0

[State 2601, ChangeAnim]
type = ChangeAnim
trigger1 = time < 32
value = anim

[State 2601, ChangeAnim]
type = ChangeAnim
trigger1 = time = 32
trigger1 = SelfAnimExist(5051)
value = 5051

[State 2601, ChangeAnim]
type = ChangeAnim
trigger1 = time = 32
trigger1 = (Anim != [5051, 5059]) && (Anim != [5061, 5069])
trigger1 = Anim != 5090
value = 5050
persistent = 0

[State 5050, 2]
type = ChangeAnim
trigger1 = time >= 32
trigger1 = anim = [5050,5059]
trigger1 = Vel Y >= ifelse(anim = 5050, 1, -2)
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0

[State 2601, EnvShake]
type = EnvShake
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
time = 10

[State 2601, Vel]
type = VelSet
trigger1 = time = 32
x = -2.5
y = -4.5

[State 2601, Vel]
type = VelAdd
trigger1 = time > 32
y = .47

[State 2500, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 2601, SelfState]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100



[Statedef 3509]
type    = U
movetype = H
physics = N
velset = 0,0

[State 5000, 1]
type = ChangeAnim
trigger1 = Time = 0
value = 5010

[State 5000, 4]
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 2500, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 2601, SelfState]
type = SelfState
trigger1 = time = 24
value = ifelse(statetype = A,5030,0)
ctrl = ifelse(statetype = A,0,1)







[Statedef 3610]
type = U
physics = N
anim = 6900
velset = 0,0
ctrl = 0

[State 181, EnvColor]
type = Bgpalfx
trigger1 = 1
time = 2
invertall = 1
color = 0
ignorehitpause = 1

[State 10000, Assert]
type = AssertSpecial
trigger1 = 1
flag = nomusic
flag2 = timerfreeze
ignorehitpause = 1

[State 420, 3]
type = DestroySelf
trigger1 = root,stateno = 3602 && root,animelem = 39



[Statedef 3605]
type    = S
movetype = H
physics = N
velset = 0,0
ctrl = 0
sprpriority = -1

[State 5000, 4]
type = ChangeAnim2
trigger1 = time = 0
value = 3605

[State 10000, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0



[Statedef 3609]
type    = U
movetype = H
physics = N
velset = 0,0
ctrl = 0
sprpriority = -1

[State 5000, 4]
type = null
trigger1 = 0



[Statedef 13602]
type = S
movetype = A
physics = N
anim = 13602
velset = 0,0
sprpriority = 2

[State 1505,0]
type = BindToParent
trigger1 = 1
pos = 50,0

[State 6000, Helper]
type = Helper
trigger1 = animelem = 6
id = 13605
pos = 0,0
postype = P1
stateno = 13605
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 999999


[State 10000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 10000, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1

[State 10000, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 10000, StateTypeSet]
type = StateTypeSet
trigger1 = root,statetype = S
statetype = S
ignorehitpause = 1

[State 10000, StateTypeSet]
type = StateTypeSet
trigger1 = root,statetype = C
statetype = C
ignorehitpause = 1

[State 10000, StateTypeSet]
type = StateTypeSet
trigger1 = root,statetype = A
statetype = A
ignorehitpause = 1

[State 10000, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 12100



[Statedef 13605]
type = S
movetype = A
physics = N
anim = 13605
velset = 0,0
sprpriority = -2

[State 10000, DestroySelf]
type = DestroySelf
trigger1 = AnimTime = 0




[Statedef 3690]
type = U
physics = N
anim = 6900
velset = 0,0
ctrl = 0

[State 181, EnvColor]
type = Bgpalfx
trigger1 = 1
time = 1
invertall = 1
color = 0
ignorehitpause = 1

[State 10000, Assert]
type = AssertSpecial
trigger1 = 1
flag = nomusic
flag2 = timerfreeze
ignorehitpause = 1

[State 420, 3]
type = DestroySelf
trigger1 = parent,stateno = 23653 && parent,animelemtime(56) = 15



[Statedef 3655]
type    = S
movetype= H
physics = N
velset = 0,0

[State 1000, 0]
type = HitFallSet
trigger1 = time = 0
value = 0

[State 5000, 1]
type = ChangeAnim
trigger1 = Time = 0
value = 5012

[State 5000, 4]
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 5000, 6]
type = ChangeState
trigger1 = HitShakeOver
value = 3666



[Statedef 3666]
type    = S
movetype= H
physics = S

[State 5001, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 5001, 2]
type = ChangeAnim
trigger1 = AnimTime = 0
value = 5017

[State 5001, 3]
type = VelMul
trigger1 = Time >= GetHitVar(slidetime)
x = .6

[State 5001, 4]
type = VelSet
trigger1 = HitOver
x = 0

[State 5001, 5]
type = DefenceMulSet
trigger1 = HitOver
value = 1

[State 5001, 6]
type = SelfState
trigger1 = HitOver
value = 0
ctrl = 1



[Statedef 3660]
type = A
movetype = H
physics = N
velset = -12,0
anim = 5012

[State 220, Position]
type = PosSet
trigger1 = Time = 0
trigger1 = Pos Y > 0
y = 0

[State 3450,1]
type = ChangeAnim
triggerall = SelfAnimExist(5900) = 1
triggerall = time = 0
trigger1 = AuthorName = "Tin" || AuthorName = "Mouser" || AuthorName = "Hh" || AuthorName = "adamskie"
trigger2 = AuthorName = "M.M.R." || AuthorName = "ryokucha" || AuthorName = "Bad Darkness" || AuthorName = "Third"
trigger3 = AuthorName = "CAMRAT Type KOF" || AuthorName = "keyu" || AuthorName = "Warusaki3" || AuthorName = "Mr.Giang + Warusaki3"
trigger4 = AuthorName = "NHK" || AuthorName = "Nyankoro" || AuthorName = "Nyan™Kiryu"
trigger5 = AuthorName = "aoao" || AuthorName = "SUMI" || AuthorName = "Mr.X-file"
trigger6 = AuthorName = "laiso_7" || AuthorName = "yu-go" || AuthorName = "MEKA"
trigger7 = AuthorName = "CROSSõCAT" || AuthorName = "CrossCat" || AuthorName = "y.y"
value = 5900

[State 2600, ChangeAnim]
type = ChangeAnim
trigger1 = anim != 5900
value = anim

[State 2601, Push]
type = PlayerPush
trigger1 = 1
value = 0

[State 3001, Width]
type = Width
trigger1 = time < 150
edge = 0,15

[State 2500, ScreenBound]
type = screenbound
trigger1 = time >= 150
value = 0

[State 2600, ChangeState]
type = ChangeState
trigger1 = backedgedist <= -5
trigger2 = time >= 180
value = 2601



[Statedef 2500]
type = S
physics = N
velset = 0,0
ctrl = 0

[State 220, Position]
type = PosSet
trigger1 = Time = 0
y = 0

[State 3000, AfterImage]
type = AfterImageTime
trigger1 = time = 0
value = 0

[State 2500, ChangeAnim]
type = ChangeAnim
trigger1 = frontedgebodydist < 0
trigger1 = time = 0
value = 5+var(49)

[State 2500, ChangeAnim]
type = ChangeAnim
trigger1 = frontedgebodydist >= 0
trigger1 = time = 0
trigger2 = anim = 5+var(49) && animtime = 0
value = 100+var(49)

[State 100, 2]
type = turn
trigger1 = anim = 5+var(49) && animelem = 1

[State 2500, ChangeAnim]
type = ChangeAnim
triggerall = anim = 100+var(49)
trigger1 = numtarget
trigger1 = target,stateno = [2600,2603]
trigger2 = var(42)
trigger2 = numenemy
trigger2 = enemynear,stateno = [2600,2603]
value = anim

[State 2500, ChangeAnim]
type = ChangeAnim
triggerall = anim = 100+var(49)
triggerall = animelem = 4
trigger1 = backedgebodydist < -50
trigger2 = frontedgebodydist < -50
value = anim
elem = 2

[State 2500, ScreenBound]
type = screenbound
trigger1 = backedgebodydist < 25 || frontedgebodydist < 25
value = 0

[State 2500, VelSet]
type = VelSet
triggerall = anim = 100+var(49)
trigger1 = animelem = 3
x = 10
persistent = 0

[State 2500, VelSet]
type = VelMul
triggerall = anim = 100+var(49)
trigger1 = animelemtime(4) > 0
x = .9

[State 2500, VelSet]
type = VelSet
triggerall = anim = 100+var(49)
trigger1 = !var(49) && AnimElem = 8
trigger2 = var(49) && AnimElemTime(11) = 1
x = 0

[State 2500, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 2500, ChangeState]
type = ChangeState
trigger1 = anim = 100+var(49)
trigger1 = animtime = 0
value = 0
ctrl = 1



[Statedef 2501]
type = S
movetype = I
physics = N
ctrl = 0
anim = var(49)
velset = 0,0

[State 200, 7]
type = screenbound
trigger1 = 1
value = 0

[State 2500, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = anim

[State 2500, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 200, 7]
type = ChangeState
triggerall = backedgebodydist < 0 || frontedgebodydist < 0
trigger1 = numtarget
trigger1 = target,stateno != [2600,2603]
trigger2 = !numtarget
value = 2500

[State 200, 7]
type = ChangeState
triggerall = time > 3
trigger1 = numtarget
trigger1 = target,stateno != [2600,2603]
trigger2 = !numtarget
value = 0
ctrl = 1



[Statedef 2600]
type = A
movetype = H
physics = N
velset = -12,0
anim = 5012

[State 220, Position]
type = PosSet
triggerall = Time = 0
trigger1 = prevstateno = 3106
trigger2 = prevstateno = 3605
y = -10

[State 3450,1]
type = ChangeAnim
triggerall = SelfAnimExist(5900) = 1
triggerall = time = 0
trigger1 = AuthorName = "Tin" || AuthorName = "Mouser" || AuthorName = "Hh" || AuthorName = "adamskie"
trigger2 = AuthorName = "M.M.R." || AuthorName = "ryokucha" || AuthorName = "Bad Darkness" || AuthorName = "Third"
trigger3 = AuthorName = "CAMRAT Type KOF" || AuthorName = "keyu" || AuthorName = "Warusaki3" || AuthorName = "Mr.Giang + Warusaki3"
trigger4 = AuthorName = "NHK" || AuthorName = "Nyankoro" || AuthorName = "Nyan™Kiryu"
trigger5 = AuthorName = "aoao" || AuthorName = "SUMI" || AuthorName = "Mr.X-file"
trigger6 = AuthorName = "laiso_7" || AuthorName = "yu-go" || AuthorName = "MEKA"
trigger7 = AuthorName = "CROSSõCAT" || AuthorName = "CrossCat" || AuthorName = "y.y"
value = 5900

[State 2600, ChangeAnim]
type = ChangeAnim
trigger1 = anim != 5900
value = anim

[State 2601, Push]
type = PlayerPush
trigger1 = 1
value = 0

[State 2500, ScreenBound]
type = null;screenbound
trigger1 = time >= 30
value = 0

[State 9606, EnvColor]
type = palfx
trigger1 = prevstateno = 3106
trigger1 = time%2=1
add = 256,-64,-64
time = 1
persistent = 1
ignorehitpause = 1

[State 2600, ChangeState]
type = ChangeState
trigger1 = backedgebodydist <= 0 
value = 2601



[Statedef 2601]
type = A
movetype = H
physics = N
velset = 0,0
 

[State 2601, Position]
type = PosAdd
trigger1 = Time < 12
x = ceil((12-ifelse(time%2=0,time,time-1))/4)*ifelse(time%2=1,1,-1)

[State 2600, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0
value = 5012

[State 2600, ChangeAnim]
type = ChangeAnim
trigger1 = Time < 12
value = anim

[State 2601, ChangeAnim]
type = ChangeAnim
trigger1 = time = 12
trigger1 = SelfAnimExist(5051)
value = 5051

[State 2601, ChangeAnim]
type = ChangeAnim
trigger1 = time = 12
trigger1 = (Anim != [5051, 5059]) && (Anim != [5061, 5069])
trigger1 = Anim != 5090
value = 5050
persistent = 0

[State 5050, 2]
type = ChangeAnim
trigger1 = time >= 12
trigger1 = anim = [5050,5059]
trigger1 = Vel Y >= ifelse(anim = 5050, 1, -2)
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0

[State 2601, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 20

[State 2601, EnvShake]
type = EnvShake
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
time = 10

[State 100, 2]
type = turn
trigger1 = backedgebodydist <= 0
trigger1 = time = 12

[State 2601, Vel]
type = VelSet
trigger1 = time = 12
x = -3.5
y = -4.3

[State 2601, Vel]
type = VelAdd
trigger1 = time > 12
y = .47

[State 2601, SelfState]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100



[Statedef 2602]
type = A
movetype = H
physics = N
velset = 0,0
anim = 5012

[State 3001, Width]
type = Width
trigger1 = time < 36
edge = 0,15

[State 220, Velocity]
type = VelSet
trigger1= Time = 36
x = -12

[State 3450,1]
type = ChangeAnim
triggerall = SelfAnimExist(5900) = 1
triggerall = time = 0
trigger1 = AuthorName = "Tin" || AuthorName = "Mouser" || AuthorName = "Hh" || AuthorName = "adamskie"
trigger2 = AuthorName = "M.M.R." || AuthorName = "ryokucha" || AuthorName = "Bad Darkness" || AuthorName = "Third"
trigger3 = AuthorName = "CAMRAT Type KOF" || AuthorName = "keyu" || AuthorName = "Warusaki3" || AuthorName = "Mr.Giang + Warusaki3"
trigger4 = AuthorName = "NHK" || AuthorName = "Nyankoro" || AuthorName = "Nyan™Kiryu"
trigger5 = AuthorName = "aoao" || AuthorName = "SUMI" || AuthorName = "Mr.X-file"
trigger6 = AuthorName = "laiso_7" || AuthorName = "yu-go" || AuthorName = "MEKA"
trigger7 = AuthorName = "CROSSõCAT" || AuthorName = "CrossCat" || AuthorName = "y.y"
value = 5900

[State 2600, ChangeAnim]
type = ChangeAnim
trigger1 = anim != 5900
value = anim

[State 2601, Push]
type = PlayerPush
trigger1 = 1
value = 0

[State 2500, ScreenBound]
type = screenbound
trigger1 = time >= 70
value = 0

[State 9606, EnvColor]
type = palfx
trigger1 = prevstateno = 3106
trigger1 = time%2=1
add = 256,-64,-64
time = 1
persistent = 1
ignorehitpause = 1

[State 2600, ChangeState]
type = ChangeState
trigger1 = time > 40
trigger1 = backedgebodydist <= 0
trigger2 = time >= 100
value = 2601



[Statedef 2603]
type = A
movetype = H
physics = N
velset = 0,0
anim = 5012

[State 3001, Width]
type = Width
trigger1 = time < 30
edge = 0,15

[State 220, Velocity]
type = VelSet
trigger1= time = 24
x = -12
persistent = 0

[State 3450,1]
type = ChangeAnim
triggerall = SelfAnimExist(5900) = 1
triggerall = time = 0
trigger1 = AuthorName = "Tin" || AuthorName = "Mouser" || AuthorName = "Hh" || AuthorName = "adamskie"
trigger2 = AuthorName = "M.M.R." || AuthorName = "ryokucha" || AuthorName = "Bad Darkness" || AuthorName = "Third"
trigger3 = AuthorName = "CAMRAT Type KOF" || AuthorName = "keyu" || AuthorName = "Warusaki3" || AuthorName = "Mr.Giang + Warusaki3"
trigger4 = AuthorName = "NHK" || AuthorName = "Nyankoro" || AuthorName = "Nyan™Kiryu"
trigger5 = AuthorName = "aoao" || AuthorName = "SUMI" || AuthorName = "Mr.X-file"
trigger6 = AuthorName = "laiso_7" || AuthorName = "yu-go" || AuthorName = "MEKA"
trigger7 = AuthorName = "CROSSõCAT" || AuthorName = "CrossCat" || AuthorName = "y.y"
value = 5900

[State 2600, ChangeAnim]
type = ChangeAnim
trigger1 = anim != 5900
value = anim

[State 2601, Push]
type = PlayerPush
trigger1 = 1
value = 0

[State 2500, ScreenBound]
type = screenbound
trigger1 = time >= 60
value = 0

[State 9606, EnvColor]
type = palfx
trigger1 = prevstateno = 3106
trigger1 = time%2=1
add = 256,-64,-64
time = 1
persistent = 1
ignorehitpause = 1

[State 2600, ChangeState]
type = ChangeState
trigger1 = time > 30
trigger1 = backedgebodydist <= 0
trigger2 = time >= 90
value = 2601



[Statedef 6800]
type = U
physics = N
ctrl = 0
anim = 6900

[State 2500, ScreenBound]
type = screenbound
trigger1 = 1
value = 1
movecamera = -160,0

[State 10000, ChangeState]
type = DestroySelf
triggerall = roundstate = 2
trigger1 = root,movetype = H



[Statedef 4000]
type    = U
movetype = H
physics = N
velset = 0,0

[State 4000, Position]
type = PosAdd
trigger1 = Time = 0
x = -12

[State 4000, VarAdd]
type = VarAdd
trigger1 = time = 0
var(33) = 27
ignorehitpause = 1

[State 4000, Pause]
type = Pause
trigger1 = Time = 1
time = 6
movetime = 6

[State 4000, Effect]
type = PlaySnd
trigger1 = time = 0
value = 5100, 2

[State 4000, Effect]
type = PlaySnd
trigger1 = time = 0
value = 4000, 0

[State 4000, Explod]
type = Explod
trigger1 = time = 0
anim = 8720
id = 8720
postype = Left
pos = 160,104
ownpal = 1
bindtime = -1
ignorehitpause = 1
sprpriority = -105
pausemovetime = 99999999
supermovetime = 99999999
removetime = 7
scale = const(size.xscale),const(size.yscale)

[State 4000, Effect]
type = AssertSpecial
trigger1 = NumExplod(8720)
flag = NoFG
flag2 = NoBG

[State 4000, 1]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = ifelse((GetHitVar(groundtype) = 1),4002,4012)

[State 4000, 2]
type = ChangeAnim
trigger1 = 1
trigger1 = GetHitVar(animtype) = [3,5]
value = 4030

[State 4000, 5]
type = StateTypeSet
trigger1 = Time = 0
trigger1 = GetHitVar(yvel) != 0 || GetHitVar(fall)
trigger2 = Pos Y != 0
statetype = a

[State 4000, 6]
type = ChangeState
triggerall = time > 1
trigger1 = !var(33)
trigger1 = GetHitVar(yvel) = 0 && !GetHitVar(fall)
value = 4001

[State 4000, 7]
type = ChangeState
triggerall = time > 1
trigger1 = !var(33)
value = 4030



[Statedef 4001]
type    = S
movetype = H
physics = S

[State 5001, 1]
type = VelSet
trigger1 = !var(33)
x = -8
persistent = 0

[State 5001, 2]
type = ChangeAnim
triggerall = prevstateno = 4000
trigger1 = !var(33)
value = 5007 + (GetHitVar(groundtype)=2)*10

[State 5001, 2]
type = ChangeAnim
triggerall = prevstateno = 4100
trigger1 = var(33)
value = anim

[State 5001, 3]
type = VelMul
trigger1 = !var(33)
x = .9

[State 5001, 4]
type = VelSet
trigger1 = !var(34)
x = 0

[State 5001, 5]
type = DefenceMulSet
trigger1 = !var(34)
value = 1

[State 1000, Spark]
type = Explod
trigger1 = !var(33)
Anim = 8160
id = 8160
pos = 0, 0
ownpal = 1
sprpriority = 2
scale = const(size.xscale),const(size.yscale)
persistent = 0
pausemovetime = 99999999*(var(0)>0)

[State 5001, 6]
type = ChangeState
trigger1 = !var(34)
value = 0
ctrl = 1



[Statedef 4030]
type    = A
movetype = H
physics = N
ctrl = 0

[State 5030, 1]
type = Gravity
trigger1 = 1

[State 5030, 2]
type = HitVelSet
triggerall = prevstateno = 4000
trigger1 = Time = 0
x = 1
y = 1

[State 5030, 2]
type = VelMul
triggerall = prevstateno = 4000
trigger1 = Time = 0
y = 1.1

[State 5030, 2]
type = VelSet
triggerall = prevstateno = 4100
trigger1 = Time = 0
x = -2.5
y = -2.5

[State 5030, 3]
type = ChangeState
triggerall = !HitFall
trigger1 = !var(34)
trigger2 = Vel Y > 0
trigger2 = Pos Y >= 10
value = 5040

[State 5030, 4]
type = ChangeState
triggerall = HitFall
trigger1 = !var(34)
trigger2 = Vel Y > 0
trigger2 = Pos Y >= 10
value = 5050

[State 5030, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 4035



[Statedef 4035]
type    = A
movetype = H
physics = N

[State 5035, 1]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5035)
trigger1 = Anim != [5051,5059]
trigger1 = Anim != 5090
value = 5035

[State 5035, 1]
type = Gravity
trigger1 = 1

[State 5035, 3]
type = ChangeState
triggerall = !HitFall
trigger1 = !var(34)
trigger2 = AnimTime = 0
trigger3 = Vel Y > 0
trigger3 = Pos Y >= 10
trigger4 = Time = 0
trigger4 = Anim != 5035
value = 5040

[State 5035, 4]
type = ChangeState
triggerall = HitFall
trigger1 = !var(34)
trigger2 = AnimTime = 0
trigger3 = Vel Y > 0
trigger3 = Pos Y >= 10
trigger4 = Time = 0
trigger4 = Anim != 5035
value = 5050



[Statedef 4100]
type    = S
movetype = H
physics = N
velset = 0,0

[State 4000, Position]
type = PosAdd
trigger1 = Time = 0
x = -12

[State -1, VarAdd]
type = VarAdd
trigger1 = time = 0
var(33) = 27
ignorehitpause = 1

[State -1, VarAdd]
type = VarAdd
trigger1 = time = 0
var(34) = 50
ignorehitpause = 1

[State 4000, Pause]
type = Pause
trigger1 = Time = 1
time = 6
movetime = 6

[State 220, Effect]
type = PlaySnd
trigger1 = time = 0
value = 5100, 2

[State 4000, Effect]
type = PlaySnd
trigger1 = time = 0
value = 4000, 0

[State 6000, Explod]
type = Explod
trigger1 = time = 0
anim = 8720
id = 8720
postype = Left
pos = 160,104
ownpal = 1
bindtime = -1
ignorehitpause = 1
sprpriority = -105
pausemovetime = 99999999
supermovetime = 99999999
removetime = 7
scale = const(size.xscale),const(size.yscale)

[State 4000, 1]
type = ChangeAnim
trigger1 = time = 0
trigger1 = statetype != A
value = 4101

[State 4000, 2]
type = ChangeAnim
trigger1 = time = 0
trigger1 = statetype = A
value = 4030

[State 4000, 2]
type = ChangeAnim
trigger1 = 1
value = anim

[State 4000, 5]
type = StateTypeSet
trigger1 = Time = 0
trigger1 = GetHitVar(yvel) != 0 || GetHitVar(fall)
trigger2 = Pos Y != 0
statetype = a

[State 4000, 6]
type = ChangeState
triggerall = time > 1
trigger1 = !var(33)
trigger1 = GetHitVar(yvel) = 0 && !GetHitVar(fall)
value = 4001

[State 4000, 7]
type = ChangeState
triggerall = time > 1
trigger1 = !var(33)
value = 4030








[Statedef 20830]
type = U
physics = N
anim = root,anim
velset = 0,0

[State 1505,0]
type = BindToParent
trigger1 = 1
pos = 0,0

[State 1201, screenbound]
type = screenbound
trigger1 = 1
value = 1

[State 5120, 3]
type = NotHitBy
trigger1 = 1
value = SCA

[State 2600, ChangeState]
type = changeanim
trigger1 = time = 0
value = anim
elem = root,AnimElemNo(0)

[State 2600, ChangeState]
type = changeanim
trigger1 = parent,var(35) = 1
trigger2 = parent,var(0) = -1
trigger3 = parent,var(0) = 2
value = anim
elem = AnimElemNo(0)-!AnimElemTime(AnimElemNo(0))
persistent = 1

[State 2600, posfreeze]
type = posfreeze
trigger1 = parent,var(35) = 1
trigger2 = parent,var(0) = -1
trigger3 = parent,var(0) = 2

[State 2600, ChangeState]
type = ParentVarSet
trigger1 = 1
var(35) = 1

[State 2600, ChangeState]
type = ChangeState
trigger1 = time = 1
value = 20000



[Statedef 25030]
type = U
physics = N
anim = root,anim
velset = 0,0

[State 1505,0]
type = BindToParent
trigger1 = 1
pos = 0,0

[State 1201, screenbound]
type = screenbound
trigger1 = 1
value = 1

[State 5120, 3]
type = NotHitBy
trigger1 = 1
value = SCA

[State 2600, ChangeState]
type = changeanim
trigger1 = parent,var(35) = 1
trigger2 = parent,var(0) = -1
trigger3 = parent,var(0) = 2
value = anim
elem = AnimElemNo(0)-!AnimElemTime(AnimElemNo(0))
persistent = 1

[State 2600, posfreeze]
type = posfreeze
trigger1 = parent,var(35) = 1
trigger2 = parent,var(0) = -1
trigger3 = parent,var(0) = 2

[State 2600, ChangeState]
type = ParentVarSet
trigger1 = 1
var(35) = 1

[State 2600, ChangeState]
type = ChangeState
trigger1 = time = 1
value = 20000



[Statedef 20901]
type = U
physics = N
anim = 901
velset = 0,0
sprpriority = 2

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 0, 4]
type = ChangeState
trigger1 = root,stateno = 950 && root,time = 1
value = 20950

[State 100, 2]
type = turn
trigger1 = facing != root,facing

[State 1505,0]
type = BindToParent
trigger1 = rootdist x <= 12
pos = -12,0

[State 820, sprpriority]
type = sprpriority
trigger1 = animelem = 9
value = 0

[State 2600, ChangeState]
type = changeanim
trigger1 = parent,var(35) = 1
trigger2 = parent,var(0) = -1
trigger3 = parent,var(0) = 2
value = anim
elem = AnimElemNo(0)-!AnimElemTime(AnimElemNo(0))
persistent = 1

[State 2600, posfreeze]
type = posfreeze
trigger1 = parent,var(35) = 1
trigger2 = parent,var(0) = -1
trigger3 = parent,var(0) = 2

[State 2600, ChangeState]
type = ParentVarSet
trigger1 = 1
var(35) = 1

[State 2600, ChangeState]
type = ChangeState
triggerall = time > 1
trigger1 = root,ctrl || root,stateno = 830 || root,stateno = 10820 || (root,stateno = [99900,99920])
trigger2 = root,movetype = H
value = 20001



[Statedef 20911]
type = U
physics = N
anim = 911
velset = 0,0
sprpriority = -1

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 0, 4]
type = ChangeState
trigger1 = root,stateno = 950 && root,time = 1
value = 20950

[State 100, 2]
type = turn
trigger1 = facing != root,facing

[State 1505,0]
type = BindToParent
trigger1 = rootdist x <= 12
pos = -12,0

[State 2600, ChangeState]
type = changeanim
trigger1 = parent,var(35) = 1
trigger2 = parent,var(0) = -1
trigger3 = parent,var(0) = 2
value = anim
elem = AnimElemNo(0)-!AnimElemTime(AnimElemNo(0))
persistent = 1

[State 2600, posfreeze]
type = posfreeze
trigger1 = parent,var(35) = 1
trigger2 = parent,var(0) = -1
trigger3 = parent,var(0) = 2

[State 2600, ChangeState]
type = ParentVarSet
trigger1 = 1
var(35) = 1

[State 2600, ChangeState]
type = ChangeState
triggerall = time > 1
trigger1 = root,ctrl || root,stateno = 830 || root,stateno = 10820 || (root,stateno = [99900,99920])
trigger2 = root,movetype = H
value = 20001





[Statedef 21010]
type = U
physics = N
anim = 21010
velset = 0,0

[State 1505,0]
type = BindToParent
trigger1 = 1
pos = -12,0

[State 1201, screenbound]
type = screenbound
trigger1 = !root,var(50)
value = 1

[State 2600, ChangeState]
type = changeanim
trigger1 = parent,var(35) = 1
trigger2 = parent,var(0) = -1
trigger3 = parent,var(0) = 2
value = anim
elem = AnimElemNo(0)-!AnimElemTime(AnimElemNo(0))
persistent = 1

[State 2600, posfreeze]
type = posfreeze
trigger1 = parent,var(35) = 1
trigger2 = parent,var(0) = -1
trigger3 = parent,var(0) = 2

[State 2600, ChangeState]
type = ParentVarSet
trigger1 = 1
var(35) = 1

[State 2600, ChangeState]
type = ChangeState
triggerall = time > 1
trigger1 = root,stateno = 1060 && root,time = 1
trigger2 = root,stateno = 3060 && root,time = 1
value = 21011

[State 2600, ChangeState]
type = ChangeState
triggerall = time > 1
trigger1 = root,statetype != A
trigger2 = root,movetype = H
value = 20001



[Statedef 21011]
type = U
physics = N
anim = 825
velset = 0,0

[State 52, 1]
type = Turn
trigger1 = facing != root,facing

[State 1505,0]
type = BindToParent
trigger1 = 1
pos = -12,0

[State 1201, screenbound]
type = screenbound
trigger1 = !root,var(50)
value = 1

[State 2600, ChangeState]
type = changeanim
trigger1 = parent,var(35) = 1
trigger2 = parent,var(0) = -1
trigger3 = parent,var(0) = 2
value = anim
elem = AnimElemNo(0)-!AnimElemTime(AnimElemNo(0))
persistent = 1

[State 2600, posfreeze]
type = posfreeze
trigger1 = parent,var(35) = 1
trigger2 = parent,var(0) = -1
trigger3 = parent,var(0) = 2

[State 2600, ChangeState]
type = ParentVarSet
trigger1 = 1
var(35) = 1

[State 2600, ChangeState]
type = ChangeState
triggerall = time > 1
trigger1 = root,statetype != A
trigger2 = root,movetype = H
value = 20001




[Statedef 23201]
type = U
physics = N
anim = 23201
velset = 0,0

[State 10000, VarAdd]
type = VarSet
trigger1 = Time = 0
var(0) = root,var(0)

[State 220, 3]
type = ChangeAnim
trigger1 = time = 60
value = 3201

[State 1505,0]
type = BindToParent
trigger1 = 1
pos = -12,0

[State 5120, 3]
type = NotHitBy
trigger1 = 1
value = SCA

[State 2600, ChangeState]
type = changeanim
trigger1 = parent,var(35) = 1
trigger2 = parent,var(0) = -1
trigger3 = parent,var(0) = 2
value = anim
elem = AnimElemNo(0)-!AnimElemTime(AnimElemNo(0))
persistent = 1

[State 2600, posfreeze]
type = posfreeze
trigger1 = parent,var(35) = 1
trigger2 = parent,var(0) = -1
trigger3 = parent,var(0) = 2

[State 2600, ChangeState]
type = ParentVarSet
trigger1 = 1
var(35) = 1

[State 2600, ChangeState]
type = ChangeState
trigger1 = anim = 3201 && animtime = 0
trigger2 = root,movetype = H
value = 20001



[Statedef 23202]
type = U
physics = N
anim = 3202
velset = 0,0

[State 1505,0]
type = BindToParent
trigger1 = 1
pos = -12,0

[State 5120, 3]
type = NotHitBy
trigger1 = 1
value = SCA

[State 220, Voice]
type = PlaySnd
trigger1 = animelemtime(7) = 20
value = 3200, 2
channel = 0

[State 2600, ChangeState]
type = changeanim
trigger1 = parent,var(35) = 1
trigger2 = parent,var(0) = -1
trigger3 = parent,var(0) = 2
value = anim
elem = AnimElemNo(0)-!AnimElemTime(AnimElemNo(0))
persistent = 1

[State 2600, posfreeze]
type = posfreeze
trigger1 = parent,var(35) = 1
trigger2 = parent,var(0) = -1
trigger3 = parent,var(0) = 2

[State 2600, ChangeState]
type = ParentVarSet
trigger1 = 1
var(35) = 1

[State 2600, ChangeState]
type = ChangeState
trigger1 = root,stateno = 3253
value = 23203

[State 2600, ChangeState]
type = ChangeState
triggerall = time > 1
trigger1 = animtime = 0
trigger2 = root,movetype = H
value = 20001



[Statedef 23203]
type = U
physics = N
anim = 3203
velset = 0,0

[State 1505,0]
type = BindToParent
trigger1 = 1
pos = -12,0

[State 5120, 3]
type = NotHitBy
trigger1 = 1
value = SCA

[State 2600, ChangeState]
type = changeanim
trigger1 = parent,var(35) = 1
trigger2 = parent,var(0) = -1
trigger3 = parent,var(0) = 2
value = anim
elem = AnimElemNo(0)-!AnimElemTime(AnimElemNo(0))
persistent = 1

[State 2600, posfreeze]
type = posfreeze
trigger1 = parent,var(35) = 1
trigger2 = parent,var(0) = -1
trigger3 = parent,var(0) = 2

[State 2600, ChangeState]
type = ParentVarSet
trigger1 = 1
var(35) = 1

[State 2600, ChangeState]
type = ChangeState
triggerall = time > 1
trigger1 = root,stateno = 2500 && root,time = 1
value = 22500

[State 2600, ChangeState]
type = ChangeState
triggerall = time > 1
trigger1 = root,ctrl || root,stateno = 830 || root,stateno = 10820 || (root,stateno = [99900,99920])
trigger2 = root,movetype = H
value = 20001



[Statedef 23300]
type = U
physics = N
anim = 23300
velset = 0,0

[State 100, 2]
type = turn
trigger1 = facing != root,facing

[State 1505,0]
type = BindToParent
triggerall = root,stateno = 3300
trigger1 = rootdist x <= 12
pos = -12,0

[State 1100, Velocity]
type = VelSet
trigger1 = rootdist x > 12
x = ifelse((rootdist x-12)>7,7,(rootdist x-12))

[State 1100, Velocity]
type = VelSet
trigger1 = rootdist x <= 12
trigger2 = root,stateno != 3300
x = 0

[State 1201, screenbound]
type = screenbound
trigger1 = 1
value = 1

[State 2600, ChangeState]
type = changeanim
trigger1 = parent,var(35) = 1
trigger2 = parent,var(0) = -1
trigger3 = parent,var(0) = 2
value = anim
elem = AnimElemNo(0)-!AnimElemTime(AnimElemNo(0))
persistent = 1

[State 2600, posfreeze]
type = posfreeze
trigger1 = parent,var(35) = 1
trigger2 = parent,var(0) = -1
trigger3 = parent,var(0) = 2

[State 2600, ChangeState]
type = ParentVarSet
trigger1 = 1
var(35) = 1

[State 2600, ChangeState]
type = ChangeState
triggerall = time > 1
trigger1 = root,stateno = 3302
value = 23301

[State 2600, ChangeState]
type = ChangeState
triggerall = time > 1
trigger1 = animtime = 0
trigger2 = root,movetype = H
value = 20000



[Statedef 23301]
type = U
physics = N
anim = 23301
velset = 0,0

[State 100, 2]
type = turn
trigger1 = facing != root,facing

[State 1201, screenbound]
type = screenbound
trigger1 = 1
value = 1

[State 2600, ChangeState]
type = changeanim
trigger1 = parent,var(35) = 1
trigger2 = parent,var(0) = -1
trigger3 = parent,var(0) = 2
value = anim
elem = AnimElemNo(0)-!AnimElemTime(AnimElemNo(0))
persistent = 1

[State 2600, posfreeze]
type = posfreeze
trigger1 = parent,var(35) = 1
trigger2 = parent,var(0) = -1
trigger3 = parent,var(0) = 2

[State 2600, ChangeState]
type = ParentVarSet
trigger1 = 1
var(35) = 1

[State 2600, ChangeState]
type = ChangeState
triggerall = time > 1
trigger1 = animtime = 0
trigger2 = root,movetype = H
value = 20000



[Statedef 23350]
type = U
physics = N
anim = 23300
velset = 0,0

[State 100, 2]
type = turn
trigger1 = facing != root,facing

[State 1505,0]
type = BindToParent
triggerall = root,stateno = 3350
trigger1 = rootdist x <= 12
pos = -12,0

[State 1100, Velocity]
type = VelSet
trigger1 = rootdist x > 12
x = ifelse((rootdist x-12)>7,7,(rootdist x-12))

[State 1100, Velocity]
type = VelSet
trigger1 = rootdist x <= 12
trigger2 = root,stateno != 3350
x = 0

[State 1201, screenbound]
type = screenbound
trigger1 = 1
value = 1

[State 2600, ChangeState]
type = ChangeState
triggerall = time > 1
trigger1 = root,stateno = 3351
value = 23351

[State 2600, ChangeState]
type = changeanim
trigger1 = parent,var(35) = 1
trigger2 = parent,var(0) = -1
trigger3 = parent,var(0) = 2
value = anim
elem = AnimElemNo(0)-!AnimElemTime(AnimElemNo(0))
persistent = 1

[State 2600, posfreeze]
type = posfreeze
trigger1 = parent,var(35) = 1
trigger2 = parent,var(0) = -1
trigger3 = parent,var(0) = 2

[State 2600, ChangeState]
type = ParentVarSet
trigger1 = 1
var(35) = 1

[State 2600, ChangeState]
type = ChangeState
triggerall = time > 1
trigger1 = root,stateno != 3350
trigger2 = root,movetype = H
value = 20001



[Statedef 23351]
type = U
physics = N
anim = 23301
velset = 0,0

[State 100, 2]
type = turn
trigger1 = facing != root,facing

[State 1201, screenbound]
type = screenbound
trigger1 = 1
value = 1

[State 2600, ChangeState]
type = changeanim
trigger1 = parent,var(35) = 1
trigger2 = parent,var(0) = -1
trigger3 = parent,var(0) = 2
value = anim
elem = AnimElemNo(0)-!AnimElemTime(AnimElemNo(0))
persistent = 1

[State 2600, posfreeze]
type = posfreeze
trigger1 = parent,var(35) = 1
trigger2 = parent,var(0) = -1
trigger3 = parent,var(0) = 2

[State 2600, ChangeState]
type = ParentVarSet
trigger1 = 1
var(35) = 1

[State 2600, ChangeState]
type = ChangeState
triggerall = time > 1
trigger1 = animtime = 0
trigger2 = root,movetype = H
value = 20000



[Statedef 23500]
type = U
physics = N
anim = 23500
velset = 0,0

[State 100, 2]
type = turn
trigger1 = facing != root,facing

[State 100, 2]
type = changeanim
trigger1 = (root,stateno = 3550 && root,var(42) = 1) || root,stateno = 3551
trigger1 = animelem = 8
value = anim
elem = 7

[State 1505,0]
type = BindToParent
trigger1 = (root,stateno = 3550 && root,animelemtime(4) > 0) || (root,stateno = 3551 && root,animelemtime(5) < 0)
trigger1 = rootdist x <= 12
trigger2 = root,stateno = 3551 && root,animelemtime(5) >= 0
pos = -12,0

[State 1100, Velocity]
type = VelSet
trigger1 = rootdist x > 12
x = ifelse((rootdist x-12)>7,7,(rootdist x-12))

[State 1100, Velocity]
type = VelSet
trigger1 = rootdist x <= 12
x = 0

[State 1201, screenbound]
type = screenbound
trigger1 = 1
value = 1

[State 10000, Assert]
type = AssertSpecial
trigger1 = root,stateno = 3551 && root,animelemtime(5) >= 0
flag = invisible
ignorehitpause = 1

[State 2600, ChangeState]
type = changeanim
trigger1 = parent,var(35) = 1
trigger2 = parent,var(0) = -1
trigger3 = parent,var(0) = 2
value = anim
elem = AnimElemNo(0)-!AnimElemTime(AnimElemNo(0))
persistent = 1

[State 2600, posfreeze]
type = posfreeze
trigger1 = parent,var(35) = 1
trigger2 = parent,var(0) = -1
trigger3 = parent,var(0) = 2

[State 2600, ChangeState]
type = ParentVarSet
trigger1 = 1
var(35) = 1

[State 2600, ChangeState]
type = ChangeState
triggerall = time > 1
trigger1 = root,stateno = 3552
value = 23501

[State 2600, ChangeState]
type = ChangeState
triggerall = time > 1
trigger1 = root,ctrl || root,stateno = 830 || root,stateno = 10820 || (root,stateno = [99900,99920])
trigger2 = root,movetype = H
value = 20001



[Statedef 23501]
type = U
physics = N
anim = 23501
velset = 0,0

[State 52, 1]
type = Turn
trigger1 = time = 0
trigger1 = P2Dist X < 0

[State 220, Voice]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3100, 1
channel = 0

[State 1201, screenbound]
type = screenbound
trigger1 = 1
value = 1

[State 2600, ChangeState]
type = changeanim
trigger1 = parent,var(35) = 1
trigger2 = parent,var(0) = -1
trigger3 = parent,var(0) = 2
value = anim
elem = AnimElemNo(0)-!AnimElemTime(AnimElemNo(0))
persistent = 1

[State 2600, posfreeze]
type = posfreeze
trigger1 = parent,var(35) = 1
trigger2 = parent,var(0) = -1
trigger3 = parent,var(0) = 2

[State 2600, ChangeState]
type = ParentVarSet
trigger1 = 1
var(35) = 1

[State 2600, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 20001



[Statedef 23600]
type = U
physics = N
anim = 23600
velset = 0,0

[State 100, 2]
type = turn
trigger1 = facing != root,facing

[State 1505,0]
type = BindToParent
triggerall = root,stateno = 3600
trigger1 = rootdist x <= 12
pos = -12,0

[State 1100, Velocity]
type = VelSet
trigger1 = rootdist x > 12
x = ifelse((rootdist x-12)>7,7,(rootdist x-12))

[State 1100, Velocity]
type = VelSet
trigger1 = rootdist x <= 12
trigger2 = root,stateno != 3600
x = 0

[State 1201, screenbound]
type = screenbound
trigger1 = 1
value = 1

[State 2600, ChangeState]
type = changeanim
trigger1 = parent,var(35) = 1
trigger2 = parent,var(0) = -1
trigger3 = parent,var(0) = 2
value = anim
elem = AnimElemNo(0)-!AnimElemTime(AnimElemNo(0))
persistent = 1

[State 2600, posfreeze]
type = posfreeze
trigger1 = parent,var(35) = 1
trigger2 = parent,var(0) = -1
trigger3 = parent,var(0) = 2

[State 2600, ChangeState]
type = ParentVarSet
trigger1 = 1
var(35) = 1

[State 2600, ChangeState]
type = ChangeState
triggerall = time > 1
trigger1 = root,stateno = 3602
value = 23601

[State 2600, ChangeState]
type = ChangeState
triggerall = time > 1
trigger1 = animtime = 0
trigger2 = root,movetype = H
value = 20000



[Statedef 23601]
type = U
physics = N
anim = 23601
velset = 0,0

[State 100, 2]
type = turn
trigger1 = facing != root,facing

[State 1201, screenbound]
type = screenbound
trigger1 = 1
value = 1

[State 2600, ChangeState]
type = changeanim
trigger1 = parent,var(35) = 1
trigger2 = parent,var(0) = -1
trigger3 = parent,var(0) = 2
value = anim
elem = AnimElemNo(0)-!AnimElemTime(AnimElemNo(0))
persistent = 1

[State 2600, posfreeze]
type = posfreeze
trigger1 = parent,var(35) = 1
trigger2 = parent,var(0) = -1
trigger3 = parent,var(0) = 2

[State 2600, ChangeState]
type = ParentVarSet
trigger1 = 1
var(35) = 1

[State 2600, ChangeState]
type = ChangeState
triggerall = time > 1
trigger1 = animtime = 0
trigger2 = root,movetype = H
value = 20000



[Statedef 23650]
type = U
physics = N
anim = 23650
velset = 0,0

[State 100, 2]
type = turn
trigger1 = facing != root,facing

[State 1505,0]
type = BindToParent
trigger1 = rootdist x <= 12
pos = -12,0

[State 1100, Velocity]
type = VelSet
trigger1 = rootdist x > 12
x = ifelse((rootdist x-12)>7,7,(rootdist x-12))

[State 1100, Velocity]
type = VelSet
trigger1 = rootdist x <= 12
x = 0

[State 1201, screenbound]
type = screenbound
trigger1 = 1
value = 1

[State 2600, ChangeState]
type = changeanim
trigger1 = parent,var(35) = 1
trigger2 = parent,var(0) = -1
trigger3 = parent,var(0) = 2
value = anim
elem = AnimElemNo(0)-!AnimElemTime(AnimElemNo(0))
persistent = 1

[State 2600, posfreeze]
type = posfreeze
trigger1 = parent,var(35) = 1
trigger2 = parent,var(0) = -1
trigger3 = parent,var(0) = 2

[State 2600, ChangeState]
type = ParentVarSet
trigger1 = 1
var(35) = 1

[State 2600, ChangeState]
type = ChangeState
triggerall = time > 1
trigger1 = root,stateno = 3651
value = 23651

[State 2600, ChangeState]
type = ChangeState
trigger1 = root,stateno = 1250
trigger2 = root,stateno = 3250 && root,time = 1
trigger3 = root,stateno = 850 && root,time = 1
value = 20000

[State 2600, ChangeState]
type = ChangeState
trigger1 = root,stateno = 3350 && root,time = 1
value = 23350

[State 2600, ChangeState]
type = ChangeState
trigger1 = root,stateno = 3550 && root,time = 1
value = 23500

[State 2600, ChangeState]
type = ChangeState
triggerall = time > 1
trigger1 = (root,stateno = [300,599]) && root,statetype = S && root,time = 1
trigger2 = root,stateno = 1050 && root,time = 1
trigger3 = root,stateno = 1150 && root,time = 1
trigger4 = root,stateno = 1151 && root,time = 1
trigger5 = root,stateno = 1550 && root,time = 1
value = 21000

[State 2600, ChangeState]
type = ChangeState
triggerall = time > 1
trigger1 = (root,stateno = [300,599]) && root,statetype = C && root,time = 1
value = 21005

[State 2600, ChangeState]
type = ChangeState
triggerall = time > 1
trigger1 = root,stateno = 2500 && root,time = 1
value = 22500

[State 2600, ChangeState]
type = ChangeState
triggerall = time > 1
trigger1 = root,stateno = 2501 && root,time = 1
value = 22501

[State 0, 1]
type = ChangeAnim
triggerall = time > 1
trigger1 = (root,stateno = [0,159]) && root,time = 1
value = root,anim-10000

[State 0, 1]
type = ChangeAnim
triggerall = time > 1
trigger1 = (root,stateno = [99900,99920]) && root,time = 1
value = root,anim-10000

[State 2600, ChangeState]
type = ChangeState
triggerall = time > 1
trigger1 = root,ctrl || root,stateno = 830 || root,stateno = 10820
trigger2 = root,movetype = H
value = 20001

[State 2600, ChangeState]
type = ChangeState
triggerall = time > 1
trigger1 = !var(0) && root,stateno = 3200
value = 20000



[Statedef 23651]
type = U
physics = N
anim = 21005
velset = 0,0

[State 100, 2]
type = turn
trigger1 = facing != root,facing

[State 1505,0]
type = BindToParent
trigger1 = rootdist x <= 12
pos = -12,0

[State 1100, Velocity]
type = VelSet
trigger1 = rootdist x > 12
x = ifelse((rootdist x-12)>7,7,(rootdist x-12))

[State 1100, Velocity]
type = VelSet
trigger1 = rootdist x <= 12
x = 0

[State 1201, screenbound]
type = screenbound
trigger1 = 1
value = 1

[State 2600, ChangeState]
type = changeanim
trigger1 = parent,var(35) = 1
trigger2 = parent,var(0) = -1
trigger3 = parent,var(0) = 2
value = anim
elem = AnimElemNo(0)-!AnimElemTime(AnimElemNo(0))
persistent = 1

[State 2600, posfreeze]
type = posfreeze
trigger1 = parent,var(35) = 1
trigger2 = parent,var(0) = -1
trigger3 = parent,var(0) = 2

[State 2600, ChangeState]
type = ParentVarSet
trigger1 = 1
var(35) = 1

[State 2600, ChangeState]
type = ChangeState
triggerall = time > 1
trigger1 = root,stateno = 3652
value = 23652

[State 2600, ChangeState]
type = ChangeState
trigger1 = root,stateno = 1250
trigger2 = root,stateno = 3250 && root,time = 1
trigger3 = root,stateno = 850 && root,time = 1
value = 20000

[State 2600, ChangeState]
type = ChangeState
trigger1 = root,stateno = 3350 && root,time = 1
value = 23350

[State 2600, ChangeState]
type = ChangeState
trigger1 = root,stateno = 3550 && root,time = 1
value = 23500

[State 2600, ChangeState]
type = ChangeState
triggerall = time > 1
trigger1 = (root,stateno = [300,599]) && root,statetype = S && root,time = 1
trigger2 = root,stateno = 1050 && root,time = 1
trigger3 = root,stateno = 1150 && root,time = 1
trigger4 = root,stateno = 1151 && root,time = 1
trigger5 = root,stateno = 1550 && root,time = 1
value = 21000

[State 2600, ChangeState]
type = ChangeState
triggerall = time > 1
trigger1 = (root,stateno = [300,599]) && root,statetype = C && root,time = 1
value = 21005

[State 2600, ChangeState]
type = ChangeState
triggerall = time > 1
trigger1 = root,stateno = 2500 && root,time = 1
value = 22500

[State 2600, ChangeState]
type = ChangeState
triggerall = time > 1
trigger1 = root,stateno = 2501 && root,time = 1
value = 22501

[State 0, 1]
type = ChangeAnim
triggerall = time > 1
trigger1 = (root,stateno = [0,159]) && root,time = 1
value = root,anim-10000

[State 0, 1]
type = ChangeAnim
triggerall = time > 1
trigger1 = (root,stateno = [99900,99920]) && root,time = 1
value = root,anim-10000

[State 2600, ChangeState]
type = ChangeState
triggerall = time > 1
trigger1 = root,ctrl || root,stateno = 830 || root,stateno = 10820
trigger2 = root,movetype = H
value = 20001

[State 2600, ChangeState]
type = ChangeState
triggerall = time > 1
trigger1 = !var(0) && root,stateno = 3200
value = 20000



[Statedef 23652]
type = U
physics = N
anim = 23652
velset = 0,0
sprpriority = 2

[State 100, 2]
type = turn
trigger1 = facing != root,facing

[State 100, 2]
type = sprpriority
trigger1 = AnimElem = 21
value = 1

[State 1505,0]
type = BindToParent
trigger1 = 1
pos = -12,0

[State 1201, screenbound]
type = screenbound
trigger1 = 1
value = 1

[State 2600, ChangeState]
type = changeanim
trigger1 = parent,var(35) = 1
trigger2 = parent,var(0) = -1
trigger3 = parent,var(0) = 2
value = anim
elem = AnimElemNo(0)-!AnimElemTime(AnimElemNo(0))
persistent = 1

[State 2600, posfreeze]
type = posfreeze
trigger1 = parent,var(35) = 1
trigger2 = parent,var(0) = -1
trigger3 = parent,var(0) = 2

[State 2600, ChangeState]
type = ParentVarSet
trigger1 = 1
var(35) = 1

[State -2]
type = helper
trigger1 = !NumHelper(3690)
trigger1 = animelem = 9
ID = 3690
stateno = 3690
pos = 0,0
pausemovetime = 99999999
supermovetime = 99999999

[State 2600, ChangeState]
type = ChangeState
triggerall = time > 1
trigger1 = root,stateno = 3653
value = 23653

[State 2600, ChangeState]
type = ChangeState
trigger1 = root,stateno = 1250
trigger2 = root,stateno = 3250 && root,time = 1
trigger3 = root,stateno = 850 && root,time = 1
value = 20000

[State 2600, ChangeState]
type = ChangeState
trigger1 = root,stateno = 3350 && root,time = 1
value = 23350

[State 2600, ChangeState]
type = ChangeState
trigger1 = root,stateno = 3550 && root,time = 1
value = 23500

[State 2600, ChangeState]
type = ChangeState
triggerall = time > 1
trigger1 = (root,stateno = [300,599]) && root,statetype = S && root,time = 1
trigger2 = root,stateno = 1050 && root,time = 1
trigger3 = root,stateno = 1150 && root,time = 1
trigger4 = root,stateno = 1151 && root,time = 1
trigger5 = root,stateno = 1550 && root,time = 1
value = 21000

[State 2600, ChangeState]
type = ChangeState
triggerall = time > 1
trigger1 = (root,stateno = [300,599]) && root,statetype = C && root,time = 1
value = 21005

[State 2600, ChangeState]
type = ChangeState
triggerall = time > 1
trigger1 = root,stateno = 2500 && root,time = 1
value = 22500

[State 2600, ChangeState]
type = ChangeState
triggerall = time > 1
trigger1 = root,stateno = 2501 && root,time = 1
value = 22501

[State 0, 1]
type = ChangeAnim
triggerall = time > 1
trigger1 = (root,stateno = [0,159]) && root,time = 1
value = root,anim-10000

[State 0, 1]
type = ChangeAnim
triggerall = time > 1
trigger1 = (root,stateno = [99900,99920]) && root,time = 1
value = root,anim-10000

[State 2600, ChangeState]
type = ChangeState
triggerall = time > 1
trigger1 = root,ctrl || root,stateno = 830 || root,stateno = 10820
trigger2 = root,movetype = H
value = 20001

[State 2600, ChangeState]
type = ChangeState
triggerall = time > 1
trigger1 = !var(0) && root,stateno = 3200
value = 20000



[Statedef 23653]
type = U
physics = N
anim = 23653
velset = 0,0

[State 100, 2]
type = turn
trigger1 = facing != root,facing

[State 100, 2]
type = sprpriority
trigger1 = AnimElem = 1
value = 2

[State 1505,0]
type = BindToParent
trigger1 = time = 0
pos = -12,0

[State 1201, screenbound]
type = screenbound
trigger1 = 1
value = 0

[State 2600, ChangeState]
type = changeanim
trigger1 = parent,var(35) = 1
trigger2 = parent,var(0) = -1
trigger3 = parent,var(0) = 2
value = anim
elem = AnimElemNo(0)-!AnimElemTime(AnimElemNo(0))
persistent = 1

[State 2600, posfreeze]
type = posfreeze
trigger1 = parent,var(35) = 1
trigger2 = parent,var(0) = -1
trigger3 = parent,var(0) = 2

[State 2600, ChangeState]
type = ParentVarSet
trigger1 = 1
var(35) = 1

[State 220, Voice]
type = PlaySnd
trigger1 = AnimElem = 11
trigger2 = AnimElem = 15
trigger3 = AnimElem = 18
trigger4 = AnimElem = 22
trigger5 = AnimElem = 62
value = 3000, 2

[State 220, Voice]
type = PlaySnd
trigger1 = AnimElem = 35
value = 3200, 2
channel = 0

[State 220, Voice]
type = PlaySnd
trigger1 = AnimElem = 60
value = 3650, 0
channel = 0

[State 2600, ChangeState]
type = ChangeState
trigger1 = root,stateno = 1250
trigger2 = root,stateno = 3250 && root,time = 1
trigger3 = root,stateno = 850 && root,time = 1
value = 20000

[State 2600, ChangeState]
type = ChangeState
trigger1 = root,stateno = 3350 && root,time = 1
value = 23350

[State 2600, ChangeState]
type = ChangeState
trigger1 = root,stateno = 3550 && root,time = 1
value = 23500

[State 2600, ChangeState]
type = ChangeState
triggerall = time > 1
trigger1 = (root,stateno = [300,599]) && root,statetype = S && root,time = 1
trigger2 = root,stateno = 1050 && root,time = 1
trigger3 = root,stateno = 1150 && root,time = 1
trigger4 = root,stateno = 1151 && root,time = 1
trigger5 = root,stateno = 1550 && root,time = 1
value = 21000

[State 2600, ChangeState]
type = ChangeState
triggerall = time > 1
trigger1 = (root,stateno = [300,599]) && root,statetype = C && root,time = 1
value = 21005

[State 2600, ChangeState]
type = ChangeState
triggerall = time > 1
trigger1 = root,stateno = 2500 && root,time = 1
value = 22500

[State 2600, ChangeState]
type = ChangeState
triggerall = time > 1
trigger1 = root,stateno = 2501 && root,time = 1
value = 22501

[State 0, 1]
type = ChangeAnim
triggerall = time > 1
trigger1 = (root,stateno = [0,159]) && root,time = 1
value = root,anim-10000

[State 0, 1]
type = ChangeAnim
triggerall = time > 1
trigger1 = (root,stateno = [99900,99920]) && root,time = 1
value = root,anim-10000

[State 2600, ChangeState]
type = ChangeState
triggerall = time > 1
trigger1 = root,ctrl || root,stateno = 830 || root,stateno = 10820
trigger2 = root,movetype = H
value = 20001

[State 2600, ChangeState]
type = ChangeState
triggerall = time > 1
trigger1 = !var(0) && root,stateno = 3200
value = 20000



[Statedef 22500]
type = S
physics = N
velset = 0,0
ctrl = 0

[State 100, 2]
type = turn
trigger1 = facing != root,facing

[State 1505,0]
type = BindToParent
trigger1 = 1
pos = -12,0

[State 2500, ChangeAnim]
type = ChangeAnim
trigger1 = anim != 5 && root,anim = 10005
value = 5

[State 2500, ChangeAnim]
type = ChangeAnim
trigger1 = anim != 100 && root,anim = 10100
value = 100

[State 2500, ChangeAnim]
type = ChangeAnim
trigger1 = root,anim = 10100 && root,animelemtime(2) <= 0
value = anim

[State 2500, ChangeAnim]
type = ChangeAnim
trigger1 = root,anim = 10100 && animelem = 3
trigger1 = backedgebodydist < -50 || frontedgebodydist < -50
value = anim
elem = 2

[State 2500, ScreenBound]
type = screenbound
trigger1 = 1
value = 0

[State 2500, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 2600, ChangeState]
type = changeanim
trigger1 = parent,var(35) = 1
trigger2 = parent,var(0) = -1
trigger3 = parent,var(0) = 2
value = anim
elem = AnimElemNo(0)-!AnimElemTime(AnimElemNo(0))
persistent = 1

[State 2600, posfreeze]
type = posfreeze
trigger1 = parent,var(35) = 1
trigger2 = parent,var(0) = -1
trigger3 = parent,var(0) = 2

[State 2600, ChangeState]
type = ParentVarSet
trigger1 = 1
var(35) = 1

[State 2500, ChangeState]
type = ChangeState
trigger1 = root,stateno != 2500
value = 20001



[Statedef 22501]
type = S
movetype = I
physics = N
ctrl = 0
anim = 0
velset = 0,0

[State 100, 2]
type = turn
trigger1 = facing != root,facing

[State 1505,0]
type = BindToParent
trigger1 = 1
pos = -12,0

[State 200, 7]
type = screenbound
trigger1 = 1
value = 0

[State 2500, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = anim

[State 2500, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 2600, ChangeState]
type = changeanim
trigger1 = parent,var(35) = 1
trigger2 = parent,var(0) = -1
trigger3 = parent,var(0) = 2
value = anim
elem = AnimElemNo(0)-!AnimElemTime(AnimElemNo(0))
persistent = 1

[State 2600, posfreeze]
type = posfreeze
trigger1 = parent,var(35) = 1
trigger2 = parent,var(0) = -1
trigger3 = parent,var(0) = 2

[State 2600, ChangeState]
type = ParentVarSet
trigger1 = 1
var(35) = 1

[State 2500, ChangeState]
type = ChangeState
trigger1 = root,stateno = 2500
value = 22500

[State 2500, ChangeState]
type = ChangeState
trigger1 = root,stateno != 2501
value = 20001



[Statedef 890]
type    = A
movetype= H
physics = N

[State 1000, 0]
type = HitFallSet
trigger1 = time = 0
value = 0

[State 5040, 1]
type = SelfState
trigger1 = time = 0
value = 5040



[Statedef 895]
type    = L
movetype= H
physics = N
anim = 5070
velset = 0,0

[State 5071, 1]
type = VelSet
trigger1 = Time = 0
x = -10

[State 5071, 2]
type = VelMul
trigger1 = 1
x = .88

[State 5071, 1]
type = VelSet
trigger1 = Time = 16
x = 0

[State 5071, 4]
type = SelfState
trigger1 = Time = 16
value = 5110



[Statedef 8501]
ctrl = 0
anim = 6900

[State 8500, 1]
type = VarSet
triggerall = !var(2)
triggerall = var(1)
trigger1 = !enemynear(var(0)),IsHelper
var(2) = enemynear(var(0)),ID

[State 8500, 1]
type = VarSet
triggerall = !var(1)
trigger1 = !enemynear(var(0)),IsHelper
var(1) = enemynear(var(0)),ID

[State 8501, VarAdd]
type = VarAdd
trigger1 = 1
var(0) = 1

[State 8501, End]
type = ChangeState
trigger1 = var(0) = numenemy
trigger1 = time = 0
value = 8502

[State 8501, Loop]
type = ChangeState
trigger1 = time = 0
value = 8501



[Statedef 8502]
anim = 6900


[State -2, DEBUG]
trigger1 = 1
type = DisplayToClipboard
ignorehitpause = 1
text = "Count = %d ID1 = %d ID2 =%d  = %d  = %d \n "
params = var(0), var(1), var(2), 0, 0
ignorehitpause = 1


[Statedef -2]

[State -2, Vans' Command Buffer]
Type = Helper
triggerall = stateno != [1251112,1251114]
trigger1 = !AIlevel
Trigger1 = !NumHelper(10371)
name = "Tiny Buffering"
ID = 10371
pos = 0,0
posType = p1
facing = 1
StateNo = 10371
keyctrl = 1
ownpal = 1
supermoveTime = 65535
pausemoveTime = 65535


[State -2, Custom Fall]
type = TargetState
triggerall = NumTarget
trigger1 = target,stateno = 5050
value = 5573

[State -2, Reset var when the opponent recovers]
type = Varset
trigger1 = numenemy = 1
trigger1 = (enemynear,movetype!=H)
trigger2 = !numenemy
trigger3 = numenemy = 2
trigger3 = enemy(0),movetype != H
trigger3 = enemy(1),movetype != H
var(46) = 1

[State -3]
type = helper
trigger1 = numhelper(160000) = 0
name = "kansi"
stateno = 160000
id = 160000
sprpriority = 1
pos = 0,255
postype = p1
supermovetime = 99999999999
pausemovetime = 99999999999
persistent = 0

[State 220, Voice]
type = PlaySnd
triggerall = Anim = [20,21]
trigger1 = animelemtime(4) = 0
trigger2 = animelemtime(12) = 0
value = 20, 0
Volume = 500

[State 20000]
type = Helper
triggerall = Anim = [20,21]
trigger1 = animelemtime(4) = 0
trigger2 = animelemtime(12) = 0
helpertype = normal
name = "zaxtu"
ID = 200000
pos = 0, 5
postype = p1
facing = facing
stateno = 200000
keyctrl = 0
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 220, Voice]
type = PlaySnd
triggerall = Anim = 100
trigger1 = animelemtime(2) = 0
trigger2 = animelemtime(4) = 0
value = 20, 0
Volume = 500

[State 20000]
type = Helper
triggerall = Anim = 100
trigger1 = animelemtime(2) = 0
trigger2 = animelemtime(4) = 0
helpertype = normal
name = "zaxtu"
ID = 200000
pos = 0, 5
postype = p1
facing = facing
stateno = 200000
keyctrl = 0
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 220, Voice]
type = PlaySnd
triggerall = Anim = 101
trigger1 = animelemtime(2) = 0
trigger2 = animelemtime(4) = 0
value = 20, 0
Volume = 500

[State 20000]
type = Helper
triggerall = Anim = 101
trigger1 = animelemtime(2) = 0
trigger2 = animelemtime(4) = 0
helpertype = normal
name = "zaxtu"
ID = 200000
pos = 0, 5
postype = p1
facing = facing
stateno = 200000
keyctrl = 0
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 220, Voice]
type = PlaySnd
triggerall = Anim = 3410
trigger1 = animelemtime(2) = 0
trigger2 = animelemtime(4) = 0
value = 20, 0
Volume = 500

[State 20000]
type = Helper
triggerall = Anim = 3410
trigger1 = animelemtime(2) = 0
trigger2 = animelemtime(4) = 0
helpertype = normal
name = "zaxtu"
ID = 200000
pos = 0, 5
postype = p1
facing = facing
stateno = 200000
keyctrl = 0
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 220, Voice]
type = PlaySnd
triggerall = Anim = 23300
trigger1 = animelemtime(11) = 0
trigger2 = animelemtime(14) = 0
value = 20, 0
Volume = 500

[State 20000]
type = Helper
triggerall = Anim = 23300
trigger1 = animelemtime(11) = 0
trigger2 = animelemtime(14) = 0
helpertype = normal
name = "zaxtu"
ID = 200000
pos = 0, 5
postype = p1
facing = facing
stateno = 200000
keyctrl = 0
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 220, Voice]
type = PlaySnd
triggerall = numhelper(20000)
triggerall = Helper(20000),Anim = [20,21]
trigger1 = Helper(20000),animelemtime(4) = 0
trigger2 = Helper(20000),animelemtime(12) = 0
value = 20, 0
Volume = 500

[State 20000]
type = Helper
triggerall = numhelper(20000)
triggerall = Helper(20000),Anim = [20,21]
trigger1 = Helper(20000),animelemtime(4) = 0
trigger2 = Helper(20000),animelemtime(12) = 0
helpertype = normal
name = "zaxtu"
ID = 200000
pos = 0, 5
postype = p1
facing = facing
stateno = 200000
keyctrl = 0
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 220, Voice]
type = PlaySnd
triggerall = numhelper(20000)
triggerall = Helper(20000),Anim = 100
trigger1 = Helper(20000),animelemtime(2) = 0
trigger2 = Helper(20000),animelemtime(4) = 0
value = 20, 0
Volume = 500

[State 20000]
type = Helper
triggerall = numhelper(20000)
triggerall = Helper(20000),Anim = 100
trigger1 = Helper(20000),animelemtime(2) = 0
trigger2 = Helper(20000),animelemtime(4) = 0
helpertype = normal
name = "zaxtu"
ID = 200000
pos = 0, 5
postype = p1
facing = facing
stateno = 200000
keyctrl = 0
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 220, Voice]
type = PlaySnd
triggerall = numhelper(20000)
triggerall = Helper(20000),Anim = 101
trigger1 = Helper(20000),animelemtime(2) = 0
trigger2 = Helper(20000),animelemtime(4) = 0
value = 20, 0
Volume = 500

[State 20000]
type = Helper
triggerall = numhelper(20000)
triggerall = Helper(20000),Anim = 101
trigger1 = Helper(20000),animelemtime(2) = 0
trigger2 = Helper(20000),animelemtime(4) = 0
helpertype = normal
name = "zaxtu"
ID = 200000
pos = 0, 5
postype = p1
facing = facing
stateno = 200000
keyctrl = 0
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 220, Voice]
type = PlaySnd
triggerall = numhelper(20000)
triggerall = Helper(20000),Anim = 23300
trigger1 = Helper(20000),animelemtime(11) = 0
trigger2 = Helper(20000),animelemtime(14) = 0
value = 20, 0
Volume = 500

[State 20000]
type = Helper
triggerall = numhelper(20000)
triggerall = Helper(20000),Anim = 23300
trigger1 = Helper(20000),animelemtime(11) = 0
trigger2 = Helper(20000),animelemtime(14) = 0
helpertype = normal
name = "zaxtu"
ID = 200000
pos = 0, 5
postype = p1
facing = facing
stateno = 200000
keyctrl = 0
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 220, Voice]
type = PlaySnd
triggerall = numhelper(20000)
triggerall = Helper(20000),Anim = 23650
trigger1 = Helper(20000),animelemtime(5) = 0
trigger2 = Helper(20000),animelemtime(7) = 0
value = 20, 0
Volume = 500

[State 20000]
type = Helper
triggerall = numhelper(20000)
triggerall = Helper(20000),Anim = 23650
trigger1 = Helper(20000),animelemtime(5) = 0
trigger2 = Helper(20000),animelemtime(7) = 0
helpertype = normal
name = "zaxtu"
ID = 200000
pos = 0, 5
postype = p1
facing = facing
stateno = 200000
keyctrl = 0
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State -2, Reset var when the opponent recovers]
type = Varset
trigger1 = numenemy = 1
trigger1 = (enemynear,movetype!=H)
trigger2 = !numenemy
trigger3 = numenemy = 2
trigger3 = enemy(0),movetype != H
trigger3 = enemy(1),movetype != H
fvar(10) = 1

[State -2, Final Dampen]
type = null
trigger1 = (fvar(11) := cond(fvar(10)>0.1,fvar(10),0.1)) || 1
ignorehitpause = 1

[State -2, Dampener itself]
type = Attackmulset
trigger1 = 1
value = fvar(11)
ignorehitpause = 1

[State -1, DTCB]
type = displaytoclipboard
trigger1 = 1
text = "Damage Dampener: %f"
params = fvar(11)
ignorehitpause = 1

;Damage dampen system has been reworked in order to work well in Simul mode as well as compatible with other works of mine.
;Not source accurate but I'm not a fan of JJHFTF's damage scaling anyway.

[State -2, Damage Dampen]
type = varset
trigger1 = stateno = 200 || stateno = 400 || stateno = 600
trigger1 = movehit
fvar(10) = fvar(10)*0.95
ignorehitpause = 1
persistent = 0

[State -2, Damage Dampen]
type = varset
trigger1 = stateno = 210 || stateno = 410 || stateno = 610
trigger1 = movehit
fvar(10) = fvar(10)*0.925
ignorehitpause = 1
persistent = 0

[State -2, Damage Dampen]
type = varset
trigger1 = stateno = 220 || stateno = 420 || stateno = 620
trigger1 = movehit
fvar(10) = fvar(10)*0.9
ignorehitpause = 1
persistent = 0

[State -2, Damage Dampen]
type = varset
trigger1 = stateno = 901
trigger1 = movehit
fvar(10) = fvar(10)*0.5
ignorehitpause = 1
persistent = 0

[State -2, Damage Dampen]
type = varset
trigger1 = stateno = 300 || stateno = 301 || stateno = 500 || stateno = 501 || stateno = 700
trigger1 = movehit
fvar(10) = fvar(10)*0.95
ignorehitpause = 1
persistent = 0

[State -2, Damage Dampen]
type = varset
trigger1 = stateno = 310 || stateno = 311 || stateno = 510 || stateno = 511 || stateno = 710 || stateno = 330
trigger1 = movehit
fvar(10) = fvar(10)*0.925
ignorehitpause = 1
persistent = 0

[State -2, Damage Dampen]
type = varset
trigger1 = stateno = 320 || stateno = 321 || stateno = 520 || stateno = 521 || stateno = 720
trigger1 = movehit
fvar(10) = fvar(10)*0.9
ignorehitpause = 1
persistent = 0

[State -2, Damage Dampen]
type = varset
trigger1 = stateno = 300 || stateno = 301 || stateno = 500 || stateno = 501 || stateno = 700
trigger1 = movehit
fvar(10) = fvar(10)*0.95
ignorehitpause = 1
persistent = 0

[State -2, Damage Dampen]
type = varset
trigger1 = stateno = 310 || stateno = 311 || stateno = 330 || stateno = 510 || stateno = 511 || stateno = 312 || stateno = 710
trigger1 = movehit
fvar(10) = fvar(10)*0.925
ignorehitpause = 1
persistent = 0

[State -2, Damage Dampen]
type = varset
trigger1 = stateno = 320 || stateno = 321 || stateno = 520 || stateno = 521 || stateno = 720
trigger1 = movehit
fvar(10) = fvar(10)*0.85
ignorehitpause = 1
persistent = 0

[State -2, Damage Dampen]
type = varset
trigger1 = stateno = 1050 || stateno = 1060 || stateno = 1950
trigger1 = movehit
fvar(10) = fvar(10)*0.95
ignorehitpause = 1
persistent = 0

[State -2, Damage Dampen]
type = varset
trigger1 = stateno = 1150 || stateno = 1151 || stateno = 1550
trigger1 = movehit
fvar(10) = fvar(10)*0.875
ignorehitpause = 1
persistent = 0

[State -2, Damage Dampen]
type = varset
trigger1 = stateno = 3401 || stateno = 3411
trigger1 = movehit
fvar(10) = fvar(10)*0.75
ignorehitpause = 1
persistent = 0

;  --- Uno Tag System v3.2.1 STATEDEF -2 ---

[State -2, deactivate tag]
type = VarSet
triggerall = sysvar(4) > 0
triggerall = sysvar(4) != 6
trigger1 = roundstate > 2
trigger1 = Win || Lose
trigger2 = NumPartner
trigger2 = Roundstate < 1
trigger2 = teammode = Simul
trigger2 = !Partner, sysvar(4)
trigger2 = Time = [1,2]
trigger3 = Partner, sysvar(4)
trigger3 = !Life
sysvar(4) = 0

[State -2, def]
type = VarSet
triggerall = NumPartner
triggerall = Partner, StateNo != [1251110,1251114]
trigger1 = sysvar(4) = 10
trigger2 = sysvar(4) != 2 && PrevStateNo = 1251131
sysvar(4) = 15

[State -2, Uno]
type = null ;ParentVarSet
trigger1 = PrevStateNo = 1251106
sysvar(4) = 7

[State -2, Eksena]
type = ScreenBound
trigger1 = NumPartner 
trigger1 = Partner, sysvar(4) = 4
trigger1 = StateNo = 1251131 || prevStateNo = 1251131
value = 1
movecamera = 1,1

[State -2, no_throw]
type = NotHitBy
trigger1 = NumPartner
trigger1 = sysvar(4) = [8,9]
trigger1 = StateNo != 1251112
value = , AT

[State -2, def]
type = VarSet
triggerall = NumPartner && sysvar(4) != 15
triggerall = Partner, Time = [0,1]
trigger1 = Partner, StateNo = 1251104
trigger2 = Partner, StateNo = 1251110
trigger2 = StateNo != [1251101,1251133]
sysvar(4) = 1

[State -2, GTG]
type = ChangeState
trigger1 = NumPartner
trigger1 = Life && Partner, Life
trigger1 = PrevStateNo = 1251126
trigger1 = StateNo != 1251111
value = 1251111
ignorehitpause = 1

[State -2, Oh No!]
type = SelfState
triggerall = sysvar(4) != [8,9]
triggerall = sysvar(4) != [12,15]
trigger1 = prevStateNo = 1251112
trigger1 = !(StateNo = [1251101,1251133])
value = 1251112
ctrl = 0

[State -2, PowerReset]
type = poweradd
trigger1 = sysvar(4) = 5
trigger1 = RoundNo < 2
trigger1 = RoundState < 2
trigger1 = Time = 0
value = -Power
persistent = 0

[State -2, PowerAdd]
type = poweradd
trigger1 = sysvar(4) = 5 && power < 900
trigger1 = RoundNo < 2
trigger1 = RoundState < 2
trigger1 = Time = 1
value = 1000
persistent = 0

[State -2, prior]
type = SprPriority
trigger1 = NumPartner
trigger1 = Partner, sysvar(4) = 2
trigger2 = (sysvar(4) = [8,9]) && StateNo != [1251110,1251111]
value = 5

[State -2, err]
type = ChangeState
trigger1 = NumPartner
trigger1 = ID > Partner, ID
trigger1 = roundstate = 2 && sysvar(4)
trigger1 = StateNo = 0 && pos Y < 0
value = 1251112

; Tag active ctrl
[State -2, ctrl]
type = SelfState
trigger1 = TeamMode = Simul
trigger1 = NumPartner
trigger1 = Partner, sysvar(4)
trigger1 = !sysvar(4)
trigger1 = sysvar(4) != 8 && Partner,sysvar(4) != 8 && Partner,sysvar(4) != 12
trigger1 = StateNo != 5900
trigger1 = Partner, sysvar(4) != [2,15]
trigger1 = RoundState = 2
trigger1 = Life && Partner, Life
trigger1 = StateNo != [1000,1251199]
value = 1251112
ctrl = 0

[State -2, 1]
type = SelfState
value = 1251106
trigger1 = NumPartner
trigger1 = StateNo != 1251106 && Partner, StateNo = [1251128,1251129]

[State -2, 1]
type = SelfState
value = 1251131
triggerall = NumPartner
triggerall = Partner, Time = [0,1]
triggerall = (StateNo = 1251112 || StateNo = 1251114) && MoveType != A
trigger1 = Partner, StateNo = 1251132 || Partner, prevStateNo = 1251132
trigger2 = Partner, StateNo = 1251127 && !NumHelper(1251101)

[State -2, cancelfx]
type = PalFx
triggerall = RoundState = 2
triggerall = Time = [0,1]
trigger1 = StateNo = 1251123
trigger2 = StateNo = 1251125 && NumTarget
Time = 6
add = (110 + Time*15), (110 + Time*15), (190 + Time*15)
sinadd =-245, -245, -250, (40 + Time*5)

[State -2, TargetVelAdd]
type = TargetVelAdd
trigger1 = NumTarget
trigger1 = numPartner
trigger1 = !(Target, StateNo = [1251117,1251119]) && !(Target, PrevStateNo = [1251117,1251119])
trigger1 = Roundstate = 2
trigger1 = prevStateNo = 1251126
trigger1 = Partner, StateNo = 1251102 && !(Partner, MoveContact)
trigger1 = Target, statetype != A && Target, GetHitVar(xvel) < 0
x = 0.12

[State -2, drop]
type = TargetDrop
triggerall = NumTarget
triggerall = Time = [0,1]
trigger1 = !Life
trigger2 = StateNo = [1251101,1251105]
trigger3 = StateNo = [1251115,1251116]  
trigger4 = StateNo = 1251106 || StateNo = 1251123

[State -2, Buwelo]
type = PosFreeze
trigger1 = PrevStateNo = 1251102 && StateNo != 1251123
trigger1 = sysvar(4) = 15
trigger1 = Anim != [42,45]
trigger1 = Time <= 5
trigger1 = NumTarget
trigger1 = Target, Statetype != A
trigger1 = MoveType = A

[State -2, aircombo]
type = VelMul
trigger1 = NumTarget || p2BodyDist x < 0
trigger1 = PrevStateNo = 1251102
trigger1 = StateNo != [1251100, 1251190]
trigger1 = MoveType = A && StateNo < 1000
x = ifelse(p2BodyDist x < 0,0.7,0.9)
y = ifelse(vel y < 2,2,0.9)

[State -2, velfollow]
type = VelAdd
trigger1 = numtarget
trigger1 = PrevStateNo = 1251123 && (Target, vel y < -0.6)
trigger1 = MoveType = A && (Time = [0,3])
y = -1.2

[State -2, Target]
type = TargetState
trigger1 = NumTarget
trigger1 = StateNo = 1251102 || PrevStateNo = 1251102 || StateNo = 1251123 || PrevStateNo = 1251123 || StateNo = 1251126 || PrevStateNo = 1251126
trigger1 = (Target, Pos Y < 0) && !(Target, StateNo = [120,152]) && (Target, StateNo != [1251109,1251119]) && MoveContact  && (Target, Anim = [5100,5170])  && (Target, Anim != [5110,5120])  && Target, PrevStateNo != 1251119 
trigger1 = (Target, Statetype != A) ; && (Target, Statetype != S)  && (Target, Statetype != C)
trigger1 = !Target, HitOver
value = 1251119
ignorehitpause = 1

[State -2, Ov]
type = TargetState
triggerall = NumTarget
triggerall = numPartner
triggerall = !(Target, StateNo = [120,152]) && !(Target, Anim = [120,152]) && Partner, StateNo = [1251101,1251133]
triggerall = Time = [0,2]
trigger1 = StateNo = 1251125 && Target, StateType != A
trigger2 = (StateNo = 1251126 || PrevStateNo = 1251126) && Target, Pos Y >= -10 && (Target, StateNo != [1251109,1251119]) && (Target, StateNo != [5000,5500])
value = 1251117
ignorehitpause = 1

[State -2, Ov2]
type = TargetState
triggerall = NumTarget = 1
trigger1 = (Target, StateNo != [1251109,1251119]) && !(Target, StateNo = [120,152]) && !(Target, Anim = [120,152]) && ((Target, StateNo != [5000,5500]) || (Target, PrevStateNo != 1251119 && Target, StateNo = [5030,5100])) && !Target, HitOver
trigger1 = (StateNo = 1251125 && Time = [0,2]) || StateNo = 1251126 || PrevStateNo = 1251126
value = 1251119
ignorehitpause = 1

[State -2, T_T]
type = TargetVelSet
triggerall = NumTarget = 1
triggerall = Target, Movetype = H && Target, vel x != 0
trigger1 = StateNo = 1251126 || sysvar(4) = 3
x = ifelse((Target, vel x > 0),0.55,-0.55)

[State -2, UM]
type = SelfState
trigger1 = Numpartner
trigger1 = Partner, StateNo = 1251106
trigger1 = StateNo = [1000,4500]
value = 1251129


; ------ Uno Tag System v3.2 END LINE ------

;


[State 3001, Super]
type = Helper
trigger1 = roundsexisted <= 0
trigger1 = roundstate = 0
id = 30000
name = "config"
pos = -999,-999
postype = Left
stateno = 30000
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999


[State -2, 3]
type = VarSet
trigger1 = PalNo = [7,12]
var(12) = 10


[State -3, Turns Mode Intro]
type = ChangeState
triggerall = time = 0
triggerall = roundstate = 0
trigger1 = roundsexisted <= 0
value = 190


[State -3, Turns Mode Intro]
type = ChangeState
triggerall = roundstate = 0
triggerall = numenemy
triggerall = enemynear,roundsexisted <= 0
triggerall = time = 0
trigger1 = (P2Name = "Jotaro Kujo" || P4Name = "Jotaro Kujo") && EnemyNear,AuthorName = "warusaki3"
value = 190


[State -2]
type = helper
trigger1 = !NumHelper(8500)
ID = 8500
stateno = 8500
pos = -999,-999
pausemovetime = 99999999
supermovetime = 99999999


[State -2]
type = helper
trigger1 = roundstate >= 2
trigger1 = !NumHelper(20000)
ID = 20000
stateno = 20000
pos = 0,0
pausemovetime = 99999999


[State -2]
type = helper
trigger1 = roundstate >= 2
trigger1 = !NumHelper(10000)
ID = 10000
stateno = 10000
pos = 0,0
pausemovetime = 99999999


[State -2, BG]
type = Helper
trigger1 = roundstate = 3
trigger1 = alive
trigger1 = !NumHelper(6800)
ID = 6800
stateno = 6800
postype = front
pos = 0,0
ignorehitpause = 1
facing = -facing

[State -2, BG]
type = Helper
trigger1 = roundstate = 3
trigger1 = alive
trigger1 = !NumHelper(6801)
ID = 6801
stateno = 6800
postype = back
pos = 0,0
ignorehitpause = 1
facing = facing


[State 5201, 4]
type = NotHitBy
trigger1 = NumHelper(8000)
trigger2 = NumHelper(8001)
trigger3 = NumHelper(10000)
trigger3 = Helper(10000),NumHelper(8000)
trigger4 = NumHelper(10000)
trigger4 = Helper(10000),NumHelper(8001)
value = SCA
ignorehitpause = 1


[State -2, Combo]
type = VarSet
trigger1 = 1
fvar(13) = 0
ignorehitpause = 1


[State -2, VarSet]
type = VarSet
triggerall = var(0)
trigger1 = roundstate != 2
trigger2 = !alive
var(0) = 0
ignorehitpause = 1

[State -2, VarSet]
type = VarSet
triggerall = var(13)
trigger1 = roundstate != 2
trigger2 = !alive
var(13) = 0
ignorehitpause = 1

[State -2, VarSet]
type = VarSet
triggerall = var(0) = 2
triggerall = numenemy
triggerall = enemy(0),authorname="warusaki3" && enemy(0),fvar(39) = 5
triggerall = enemy(0),var(0) = -1 || !enemy(0),var(0) || enemy(0),var(0) = 2
trigger1 = numenemy = 1
trigger1 = !numpartner
trigger2 = numenemy = 2
trigger2 = !(enemy(1),authorname="warusaki3" && enemy(1),fvar(39) = 5)
trigger2 = !numpartner
trigger3 = numenemy = 1
trigger3 = numpartner
trigger3 = !(partner,authorname="warusaki3" && partner,fvar(39) = 5)
trigger4 = numenemy = 2
trigger4 = !(enemy(1),authorname="warusaki3" && enemy(1),fvar(39) = 5)
trigger4 = numpartner
trigger4 = !(partner,authorname="warusaki3" && partner,fvar(39) = 5)
var(0) = 0
ignorehitpause = 1

[State -2, VarSet]
type = VarSet
triggerall = var(0) = 2
triggerall = numenemy = 2
triggerall = enemy(1),authorname="warusaki3" && enemy(1),fvar(39) = 5
triggerall = enemy(1),var(0) = -1 || !enemy(1),var(0) || enemy(1),var(0) = 2
trigger1 = !(enemy(0),authorname="warusaki3" && enemy(0),fvar(39) = 5)
trigger1 = !numpartner
trigger2 = !(enemy(0),authorname="warusaki3" && enemy(0),fvar(39) = 5)
trigger2 = numpartner
trigger2 = !(partner,authorname="warusaki3" && partner,fvar(39) = 5)
var(0) = 0
ignorehitpause = 1

[State -2, VarSet]
type = VarSet
triggerall = var(0) = 2
triggerall = numpartner
triggerall = partner,authorname="warusaki3" && partner,fvar(39) = 5
triggerall = partner,var(0) = -1 || !partner,var(0) || partner,var(0) = 2
trigger1 = numenemy = 1
trigger1 = !(enemy(0),authorname="warusaki3" && enemy(0),fvar(39) = 5)
trigger1 = !numpartner
trigger2 = numenemy = 2
trigger2 = !(enemy(0),authorname="warusaki3" && enemy(0),fvar(39) = 5)
trigger2 = !(enemy(1),authorname="warusaki3" && enemy(1),fvar(39) = 5)
var(0) = 0
ignorehitpause = 1

[State -2, VarSet]
type = VarSet
triggerall = var(0) = 2
triggerall = numenemy
triggerall = enemy(0),authorname="warusaki3" && enemy(0),fvar(39) = 5
triggerall = enemy(0),var(0) = -1 || !enemy(0),var(0) || enemy(0),var(0) = 2
triggerall = numpartner
triggerall = partner,authorname="warusaki3" && partner,fvar(39) = 5
triggerall = partner,var(0) = -1 || !partner,var(0) || partner,var(0) = 2
trigger1 = numenemy = 1
trigger2 = numenemy = 2
trigger2 = !(enemy(1),authorname="warusaki3" && enemy(1),fvar(39) = 5)
var(0) = 0
ignorehitpause = 1

[State -2, VarSet]
type = VarSet
triggerall = var(0) = 2
triggerall = numenemy = 2
triggerall = enemy(0),authorname="warusaki3" && enemy(0),fvar(39) = 5
triggerall = enemy(0),var(0) = -1 || !enemy(0),var(0) || enemy(0),var(0) = 2
triggerall = enemy(1),authorname="warusaki3" && enemy(1),fvar(39) = 5
triggerall = enemy(1),var(0) = -1 || !enemy(1),var(0) || enemy(1),var(0) = 2
trigger1 = !numpartner
trigger2 = numpartner
trigger2 = !(partner,authorname="warusaki3" && partner,fvar(39) = 5)
var(0) = 0
ignorehitpause = 1

[State -2, VarSet]
type = VarSet
triggerall = var(0) = 2
triggerall = numenemy = 2
triggerall = enemy(1),authorname="warusaki3" && enemy(1),fvar(39) = 5
triggerall = enemy(1),var(0) = -1 || !enemy(1),var(0) || enemy(1),var(0) = 2
triggerall = numpartner
triggerall = partner,authorname="warusaki3" && partner,fvar(39) = 5
triggerall = partner,var(0) = -1 || !partner,var(0) || partner,var(0) = 2
trigger1 = !(enemy(0),authorname="warusaki3" && enemy(0),fvar(39) = 5)
var(0) = 0
ignorehitpause = 1

[State -2, VarSet]
type = VarSet
triggerall = var(0) = 2
triggerall = numenemy = 2
triggerall = numpartner
trigger1 = enemy(0),authorname="warusaki3" && enemy(0),fvar(39) = 5
trigger1 = enemy(0),var(0) = -1 || !enemy(0),var(0) || enemy(0),var(0) = 2
trigger1 = enemy(1),authorname="warusaki3" && enemy(1),fvar(39) = 5
trigger1 = enemy(1),var(0) = -1 || !enemy(1),var(0) || enemy(1),var(0) = 2
trigger1 = partner,authorname="warusaki3" && partner,fvar(39) = 5
trigger1 = partner,var(0) = -1 || !partner,var(0) || partner,var(0) = 2
var(0) = 0
ignorehitpause = 1

[State -2, VarSet]
type = VarSet
triggerall = numenemy
triggerall = teamside = 1
triggerall = !var(0)
triggerall = enemy(0),authorname="warusaki3"
triggerall = enemy(0),var(0) = 1
triggerall = !numpartner
trigger1 = enemy(0),name="Jotaro Kujo"
trigger1 = enemy(0),stateno = 3201 || enemy(0),stateno = 3250
trigger2 = enemy(0),name="DIO"
trigger2 = enemy(0),stateno = 3201 || enemy(0),stateno = 3250
trigger3 = enemy(0),name="Final DIO"
trigger3 = enemy(0),stateno = 3201 || enemy(0),stateno = 3250
trigger4 = enemy(0),name="Shadow DIO"
trigger4 = enemy(0),stateno = 3200
var(0) = 2
ignorehitpause = 1

[State -2, VarSet]
type = VarSet
triggerall = numenemy
triggerall = teamside = 1
triggerall = !var(0)
triggerall = enemy(0),authorname="warusaki3"
triggerall = enemy(0),var(0) = 1
triggerall = numpartner
triggerall = ID < partner,ID
trigger1 = enemy(0),name="Jotaro Kujo"
trigger1 = enemy(0),stateno = 3201 || enemy(0),stateno = 3250
trigger2 = enemy(0),name="DIO"
trigger2 = enemy(0),stateno = 3201 || enemy(0),stateno = 3250
trigger3 = enemy(0),name="Final DIO"
trigger3 = enemy(0),stateno = 3201 || enemy(0),stateno = 3250
trigger4 = enemy(0),name="Shadow DIO"
trigger4 = enemy(0),stateno = 3200
var(0) = 2
ignorehitpause = 1

[State -2, VarSet]
type = VarSet
triggerall = numenemy = 2
triggerall = teamside = 1
triggerall = !var(0)
triggerall = enemy(1),authorname="warusaki3"
triggerall = enemy(1),var(0) = 1
trigger1 = enemy(1),name="Jotaro Kujo"
trigger1 = enemy(1),stateno = 3201 || enemy(1),stateno = 3250
trigger2 = enemy(1),name="DIO"
trigger2 = enemy(1),stateno = 3201 || enemy(1),stateno = 3250
trigger3 = enemy(1),name="Final DIO"
trigger3 = enemy(1),stateno = 3201 || enemy(1),stateno = 3250
trigger4 = enemy(1),name="Shadow DIO"
trigger4 = enemy(1),stateno = 3200
var(0) = 2
ignorehitpause = 1

[State -2, VarSet]
type = VarSet
triggerall = numenemy = 2
triggerall = teamside = 1
triggerall = !var(0)
triggerall = enemy(1),authorname="warusaki3"
triggerall = enemy(1),var(0) = 1
triggerall = !numpartner
trigger1 = enemy(1),name="Jotaro Kujo"
trigger1 = enemy(1),stateno = 3201 || enemy(1),stateno = 3250
trigger2 = enemy(1),name="DIO"
trigger2 = enemy(1),stateno = 3201 || enemy(1),stateno = 3250
trigger3 = enemy(1),name="Final DIO"
trigger3 = enemy(1),stateno = 3201 || enemy(1),stateno = 3250
trigger4 = enemy(1),name="Shadow DIO"
trigger4 = enemy(1),stateno = 3200
var(0) = 2
ignorehitpause = 1

[State -2, VarSet]
type = VarSet
triggerall = numenemy = 2
triggerall = teamside = 1
triggerall = !var(0)
triggerall = enemy(1),authorname="warusaki3"
triggerall = enemy(1),var(0) = 1
triggerall = numpartner
triggerall = ID < partner,ID
trigger1 = enemy(1),name="Jotaro Kujo"
trigger1 = enemy(1),stateno = 3201 || enemy(1),stateno = 3250
trigger2 = enemy(1),name="DIO"
trigger2 = enemy(1),stateno = 3201 || enemy(1),stateno = 3250
trigger3 = enemy(1),name="Final DIO"
trigger3 = enemy(1),stateno = 3201 || enemy(1),stateno = 3250
trigger4 = enemy(1),name="Shadow DIO"
trigger4 = enemy(1),stateno = 3200
var(0) = 2
ignorehitpause = 1

[State -2, VarSet]
type = VarSet
triggerall = numpartner
triggerall = ID < partner,ID
triggerall = !var(0)
triggerall = partner,authorname="warusaki3"
triggerall = partner,var(0) = 1
trigger1 = partner,name="Jotaro Kujo"
trigger1 = partner,stateno = 3201 || partner,stateno = 3250
trigger2 = partner,name="DIO"
trigger2 = partner,stateno = 3201 || partner,stateno = 3250
trigger3 = partner,name="Final DIO"
trigger3 = partner,stateno = 3201 || partner,stateno = 3250
trigger4 = partner,name="Shadow DIO"
trigger4 = partner,stateno = 3200
var(0) = 2
ignorehitpause = 1

[State -2, CtrlSet]
type = CtrlSet
triggerall = var(13)
triggerall = var(0) = 2
triggerall = numenemy
triggerall = enemy(0),authorname="warusaki3" && enemy(0),fvar(39) = 5
triggerall = !enemy(0),var(2)
triggerall = alive
trigger1 = numenemy = 1
trigger2 = numenemy = 2
trigger2 = !(enemy(1),authorname="warusaki3" && enemy(1),fvar(39) = 5)
value = 1
ignorehitpause = 1

[State -2, CtrlSet]
type = CtrlSet
triggerall = var(13)
triggerall = var(0) = 2
triggerall = numenemy = 2
triggerall = enemy(1),authorname="warusaki3" && enemy(1),fvar(39) = 5
triggerall = !enemy(1),var(2)
triggerall = alive
trigger1 = !(enemy(0),authorname="warusaki3" && enemy(0),fvar(39) = 5)
value = 1
ignorehitpause = 1

[State -2, CtrlSet]
type = CtrlSet
triggerall = var(13)
triggerall = var(0) = 2
triggerall = numenemy = 2
triggerall = alive
trigger1 = enemy(0),authorname="warusaki3" && enemy(0),fvar(39) = 5
trigger1 = !enemy(0),var(2)
trigger1 = enemy(1),authorname="warusaki3" && enemy(1),fvar(39) = 5
trigger1 = !enemy(1),var(2)
value = 1
ignorehitpause = 1

[State -2, VarSet]
type = VarSet
triggerall = var(0) = 3
triggerall = numenemy
triggerall = enemy(0),authorname="warusaki3" && enemy(0),fvar(39) = 5
triggerall = !enemy(0),var(2)
trigger1 = numenemy = 1
trigger2 = numenemy = 2
trigger2 = !(enemy(1),authorname="warusaki3" && enemy(1),fvar(39) = 5)
var(0) = 1
ignorehitpause = 1

[State -2, VarSet]
type = VarSet
triggerall = var(0) = 3
triggerall = numenemy = 2
triggerall = enemy(1),authorname="warusaki3" && enemy(1),fvar(39) = 5
triggerall = !enemy(1),var(2)
trigger1 = !(enemy(0),authorname="warusaki3" && enemy(0),fvar(39) = 5)
var(0) = 1
ignorehitpause = 1

[State -2, VarSet]
type = VarSet
triggerall = var(0) = 3
triggerall = numenemy = 2
trigger1 = enemy(0),authorname="warusaki3" && enemy(0),fvar(39) = 5
trigger1 = !enemy(0),var(2)
trigger1 = enemy(1),authorname="warusaki3" && enemy(1),fvar(39) = 5
trigger1 = !enemy(1),var(2)
var(0) = 1
ignorehitpause = 1

[State -2, VarSet]
type = VarSet
triggerall = var(0) = 2
triggerall = numenemy
triggerall = enemy(0),authorname="warusaki3" && enemy(0),fvar(39) = 5
triggerall = !enemy(0),var(2)
trigger1 = numenemy = 1
trigger2 = numenemy = 2
trigger2 = !(enemy(1),authorname="warusaki3" && enemy(1),fvar(39) = 5)
var(13) = 0
ignorehitpause = 1

[State -2, VarSet]
type = VarSet
triggerall = var(0) = 2
triggerall = numenemy = 2
triggerall = enemy(1),authorname="warusaki3" && enemy(1),fvar(39) = 5
triggerall = !enemy(1),var(2)
trigger1 = !(enemy(0),authorname="warusaki3" && enemy(0),fvar(39) = 5)
var(13) = 0
ignorehitpause = 1

[State -2, VarSet]
type = VarSet
triggerall = var(0) = 2
triggerall = numenemy = 2
trigger1 = enemy(0),authorname="warusaki3" && enemy(0),fvar(39) = 5
trigger1 = !enemy(0),var(2)
trigger1 = enemy(1),authorname="warusaki3" && enemy(1),fvar(39) = 5
trigger1 = !enemy(1),var(2)
var(13) = 0
ignorehitpause = 1

[State -2, ChangeAnim]
type = ChangeAnim
triggerall = !var(33)
triggerall = var(30) = gametime+1
trigger1 = var(0) = -1
trigger2 = var(0) = 2
value = anim
elem = AnimElemNo(0)-!AnimElemTime(AnimElemNo(0))
ignorehitpause = 1

[State -2, posision]
type = PosFreeze
trigger1 = var(0) = -1
trigger2 = var(0) = 2
ignorehitpause = 1

[State -2, VarSet]
type = VarSet
triggerall = var(0) = 2
triggerall = var(13) = 1
trigger1 = movetype = H
var(13) = 0
ignorehitpause = 1

[State -2, VarSet]
type = VarSet
triggerall = ctrl
trigger1 = var(0) = -1
trigger2 = var(0) = 2
var(13) = 1
ignorehitpause = 1

[State -2, ctrl]
type = ctrlset
trigger1 = var(0) = -1
trigger2 = var(0) = 2
value = 0
ignorehitpause = 1

[State -2, ctrl]
type = ctrlset
triggerall = alive
triggerall = var(13) = 1
trigger1 = !var(0)
trigger2 = var(0) = 3
value = 1
ignorehitpause = 1

[State -2, VarSet]
type = VarSet
triggerall = var(13) = 1
trigger1 = !var(0)
trigger2 = var(0) = 3
var(13) = 0
ignorehitpause = 1


[State 3000, pause]
type = Pause
triggerall = roundstate = 2
triggerall = alive
trigger1 = var(0)
time = 2
movetime = 2
ignorehitpause = 1

[State -2, VarSet]
type = VarSet
triggerall = numenemy
triggerall = teamside = 2
triggerall = !var(0)
triggerall = enemy(0),authorname="warusaki3"
triggerall = enemy(0),var(0) = 1
trigger1 = enemy(0),name="Jotaro Kujo"
trigger1 = enemy(0),stateno = 3201 || enemy(0),stateno = 3250
trigger2 = enemy(0),name="DIO"
trigger2 = enemy(0),stateno = 3201 || enemy(0),stateno = 3250
trigger3 = enemy(0),name="Final DIO"
trigger3 = enemy(0),stateno = 3201 || enemy(0),stateno = 3250
trigger4 = enemy(0),name="Shadow DIO"
trigger4 = enemy(0),stateno = 3200
var(0) = 2
ignorehitpause = 1

[State -2, VarSet]
type = VarSet
triggerall = numenemy
triggerall = teamside = 1
triggerall = !var(0)
triggerall = enemy(0),authorname="warusaki3"
triggerall = enemy(0),var(0) = 1
triggerall = numpartner
triggerall = ID > partner,ID
trigger1 = enemy(0),name="Jotaro Kujo"
trigger1 = enemy(0),stateno = 3201 || enemy(0),stateno = 3250
trigger2 = enemy(0),name="DIO"
trigger2 = enemy(0),stateno = 3201 || enemy(0),stateno = 3250
trigger3 = enemy(0),name="Final DIO"
trigger3 = enemy(0),stateno = 3201 || enemy(0),stateno = 3250
trigger4 = enemy(0),name="Shadow DIO"
trigger4 = enemy(0),stateno = 3200
var(0) = 2
ignorehitpause = 1

[State -2, VarSet]
type = VarSet
triggerall = numenemy = 2
triggerall = teamside = 2
triggerall = !var(0)
triggerall = enemy(1),authorname="warusaki3"
triggerall = enemy(1),var(0) = 1
trigger1 = enemy(1),name="Jotaro Kujo"
trigger1 = enemy(1),stateno = 3201 || enemy(1),stateno = 3250
trigger2 = enemy(1),name="DIO"
trigger2 = enemy(1),stateno = 3201 || enemy(1),stateno = 3250
trigger3 = enemy(1),name="Final DIO"
trigger3 = enemy(1),stateno = 3201 || enemy(1),stateno = 3250
trigger4 = enemy(1),name="Shadow DIO"
trigger4 = enemy(1),stateno = 3200
var(0) = 2
ignorehitpause = 1

[State -2, VarSet]
type = VarSet
triggerall = numpartner
triggerall = ID > partner,ID
triggerall = !var(0)
triggerall = partner,authorname="warusaki3"
triggerall = partner,var(0) = 1
trigger1 = partner,name="Jotaro Kujo"
trigger1 = partner,stateno = 3201 || partner,stateno = 3250
trigger2 = partner,name="DIO"
trigger2 = partner,stateno = 3201 || partner,stateno = 3250
trigger3 = partner,name="Final DIO"
trigger3 = partner,stateno = 3201 || partner,stateno = 3250
trigger4 = partner,name="Shadow DIO"
trigger4 = partner,stateno = 3200
var(0) = 2
ignorehitpause = 1

[State 5110, 11]
type = ChangeState
triggerall = alive
triggerall = stateno = 5110
trigger1 = var(0) = 2
value = 5120

[State 3000, pause]
type = Pause
triggerall = roundstate = 2
triggerall = alive
triggerall = var(0)
trigger1 = movetype = A
time = 2
movetime = 2
ignorehitpause = 1

[State 1100, VarSet]
type = VarAdd
triggerall = var(2)
trigger1 = numenemy
trigger1 = !NumHelper(8000)
trigger1 = !NumHelper(8001)
trigger1 = !(enemy(0),authorname="warusaki3" && (enemy(0),NumHelper(8000) || enemy(0),NumHelper(8001)) && enemy(0),fvar(39) = 5)
trigger2 = numenemy = 2
trigger2 = !(enemy(1),authorname="warusaki3" && (enemy(1),NumHelper(8000) || enemy(1),NumHelper(8001)) && enemy(1),fvar(39) = 5)
trigger3 = numpartner
trigger3 = !(partner,authorname="warusaki3" && (partner,NumHelper(8000) || partner,NumHelper(8001)) && partner,fvar(39) = 5)
var(2) = -1
ignorehitpause = 1

[State 1100, VarSet]
type = VarSet
trigger1 = var(2) < 0
var(2) = 0
ignorehitpause = 1

[State 1100, PowerSet]
type = null;PowerSet
trigger1 = var(2) > 0
value = ceil(var(2)*19.23)
ignorehitpause = 1

[State -2, Power]
type = PowerSet
triggerall = var(0) = 1 || (var(0) = 3 && stateno != 3200 && stateno != 3201 && stateno != 3250)
trigger1 = !var(2)
value = 0
ignorehitpause = 1

[State -2]
type = helper
trigger1 = var(0) = [1,3]
trigger1 = !NumHelper(3210)
ID = 3210
stateno = 3210
pos = 0,0
pausemovetime = 99999999
supermovetime = 99999999

[State 5201, 4]
type = NotHitBy
trigger1 = var(0) = 1
value = SCA
ignorehitpause = 1

[State 1100, VarSet]
type = VarAdd
triggerall = var(0) = 1
trigger1 = movehit
trigger2 = projhit = 1
var(15) = var(14)
ignorehitpause = 1

[State -2, VarSet]
type = VarSet
triggerall = !var(2)
triggerall = stateno != 3200
triggerall = stateno != 3201
triggerall = stateno != 3250
trigger1 = var(0) = 3
trigger2 = var(0) = 1
trigger2 = numpartner
trigger2 = partner,authorname="warusaki3" && partner,fvar(39) = 5
trigger2 = partner,var(0) = 1 && !partner,var(2)
var(0) = -1
ignorehitpause = 1

[State -3, Turns Mode Intro]
type = ChangeState
triggerall = stateno != 3252 && stateno != 3203
trigger1 = var(0) = 1
trigger1 = !var(2)
trigger1 = ctrl && statetype != A
value = ifelse(var(49),3252,3203)

[State -2, VarSet]
type = VarSet
triggerall = var(0) = -1
triggerall = numenemy
triggerall = enemy(0),authorname="warusaki3" && enemy(0),fvar(39) = 5
triggerall = enemy(0),var(0) = -1 || !enemy(0),var(0) || enemy(0),var(0) = 2
trigger1 = numenemy = 1
trigger1 = !numpartner
trigger2 = numenemy = 2
trigger2 = !(enemy(1),authorname="warusaki3" && enemy(1),fvar(39) = 5)
trigger2 = !numpartner
trigger3 = numenemy = 1
trigger3 = numpartner
trigger3 = !(partner,authorname="warusaki3" && partner,fvar(39) = 5)
trigger4 = numenemy = 2
trigger4 = !(enemy(1),authorname="warusaki3" && enemy(1),fvar(39) = 5)
trigger4 = numpartner
trigger4 = !(partner,authorname="warusaki3" && partner,fvar(39) = 5)
var(0) = 0
ignorehitpause = 1

[State -2, VarSet]
type = VarSet
triggerall = var(0) = -1
triggerall = numenemy = 2
triggerall = enemy(1),authorname="warusaki3" && enemy(1),fvar(39) = 5
triggerall = enemy(1),var(0) = -1 || !enemy(1),var(0) || enemy(1),var(0) = 2
trigger1 = !(enemy(0),authorname="warusaki3" && enemy(0),fvar(39) = 5)
trigger1 = !numpartner
trigger2 = !(enemy(0),authorname="warusaki3" && enemy(0),fvar(39) = 5)
trigger2 = numpartner
trigger2 = !(partner,authorname="warusaki3" && partner,fvar(39) = 5)
var(0) = 0
ignorehitpause = 1

[State -2, VarSet]
type = VarSet
triggerall = var(0) = -1
triggerall = numpartner
triggerall = partner,authorname="warusaki3" && partner,fvar(39) = 5
triggerall = partner,var(0) = -1 || !partner,var(0) || partner,var(0) = 2
trigger1 = numenemy = 1
trigger1 = !(enemy(0),authorname="warusaki3" && enemy(0),fvar(39) = 5)
trigger1 = !numpartner
trigger2 = numenemy = 2
trigger2 = !(enemy(0),authorname="warusaki3" && enemy(0),fvar(39) = 5)
trigger2 = !(enemy(1),authorname="warusaki3" && enemy(1),fvar(39) = 5)
var(0) = 0
ignorehitpause = 1

[State -2, VarSet]
type = VarSet
triggerall = var(0) = -1
triggerall = numenemy
triggerall = enemy(0),authorname="warusaki3" && enemy(0),fvar(39) = 5
triggerall = enemy(0),var(0) = -1 || !enemy(0),var(0) || enemy(0),var(0) = 2
triggerall = numpartner
triggerall = partner,authorname="warusaki3" && partner,fvar(39) = 5
triggerall = partner,var(0) = -1 || !partner,var(0) || partner,var(0) = 2
trigger1 = numenemy = 1
trigger2 = numenemy = 2
trigger2 = !(enemy(1),authorname="warusaki3" && enemy(1),fvar(39) = 5)
var(0) = 0
ignorehitpause = 1

[State -2, VarSet]
type = VarSet
triggerall = var(0) = -1
triggerall = numenemy = 2
triggerall = enemy(0),authorname="warusaki3" && enemy(0),fvar(39) = 5
triggerall = enemy(0),var(0) = -1 || !enemy(0),var(0) || enemy(0),var(0) = 2
triggerall = enemy(1),authorname="warusaki3" && enemy(1),fvar(39) = 5
triggerall = enemy(1),var(0) = -1 || !enemy(1),var(0) || enemy(1),var(0) = 2
trigger1 = !numpartner
trigger2 = numpartner
trigger2 = !(partner,authorname="warusaki3" && partner,fvar(39) = 5)
var(0) = 0
ignorehitpause = 1

[State -2, VarSet]
type = VarSet
triggerall = var(0) = -1
triggerall = numenemy = 2
triggerall = enemy(1),authorname="warusaki3" && enemy(1),fvar(39) = 5
triggerall = enemy(1),var(0) = -1 || !enemy(1),var(0) || enemy(1),var(0) = 2
triggerall = numpartner
triggerall = partner,authorname="warusaki3" && partner,fvar(39) = 5
triggerall = partner,var(0) = -1 || !partner,var(0) || partner,var(0) = 2
trigger1 = !(enemy(0),authorname="warusaki3" && enemy(0),fvar(39) = 5)
var(0) = 0
ignorehitpause = 1

[State -2, VarSet]
type = VarSet
triggerall = var(0) = -1
triggerall = numenemy = 2
triggerall = numpartner
trigger1 = enemy(0),authorname="warusaki3" && enemy(0),fvar(39) = 5
trigger1 = enemy(0),var(0) = -1 || !enemy(0),var(0) || enemy(0),var(0) = 2
trigger1 = enemy(1),authorname="warusaki3" && enemy(1),fvar(39) = 5
trigger1 = enemy(1),var(0) = -1 || !enemy(1),var(0) || enemy(1),var(0) = 2
trigger1 = partner,authorname="warusaki3" && partner,fvar(39) = 5
trigger1 = partner,var(0) = -1 || !partner,var(0) || partner,var(0) = 2
var(0) = 0
ignorehitpause = 1


[State -2, VarSet]
type = VarSet
triggerall = !var(59)
triggerall = power
triggerall = var(0) = 2
triggerall = !(movetype = H && gethitvar(hitshaketime))
triggerall = command = "ZaWarudo!"
triggerall = stateno != 3200
triggerall = stateno != 3201
triggerall = stateno != 3250
trigger1 = !numpartner
trigger2 = numpartner
trigger2 = partner,authorname="warusaki3" && partner,fvar(39) = 5
trigger2 = (partner,var(0) = [1,3]) || partner,var(2)
var(2) = 300
ignorehitpause = 1

[State -2, VarSet]
type = VarSet
triggerall = var(59)
triggerall = power
triggerall = var(0) = 2
triggerall = !(movetype = H && gethitvar(hitshaketime))
triggerall = numhelper(33333)
triggerall = helper(33333),var(1) <= 1*(1+(life<500)+(life<333))
triggerall = stateno != 3200
triggerall = stateno != 3201
triggerall = stateno != 3250
trigger1 = !numpartner
trigger2 = numpartner
trigger2 = partner,authorname="warusaki3" && partner,fvar(39) = 5
trigger2 = (partner,var(0) = [1,3]) || partner,var(2)
var(2) = 300
ignorehitpause = 1

[State -2, Helper]
type = helper
triggerall = !var(59)
triggerall = power
triggerall = var(0) = 2
triggerall = !(movetype = H && gethitvar(hitshaketime))
triggerall = !NumHelper(3211)
triggerall = command = "ZaWarudo!"
trigger1 = !numpartner
trigger2 = numpartner
trigger2 = partner,authorname="warusaki3" && partner,fvar(39) = 5
trigger2 = (partner,var(0) = [1,3]) || partner,var(2)
ID = 3211
stateno = 3211
pos = 0,0
pausemovetime = 99999999
supermovetime = 99999999

[State -2, Helper]
type = helper
triggerall = var(59)
triggerall = power
triggerall = var(0) = 2
triggerall = !(movetype = H && gethitvar(hitshaketime))
triggerall = !NumHelper(3211)
triggerall = numhelper(33333)
triggerall = helper(33333),var(1) <= 1*(1+(life<500)+(life<333))
trigger1 = !numpartner
trigger2 = numpartner
trigger2 = partner,authorname="warusaki3" && partner,fvar(39) = 5
trigger2 = (partner,var(0) = [1,3]) || partner,var(2)
ID = 3211
stateno = 3211
pos = 0,0
pausemovetime = 99999999
supermovetime = 99999999

[State 200, 7]
type = LifeAdd
triggerall = !var(59)
triggerall = power
triggerall = var(0) = 2
triggerall = !(movetype = H && gethitvar(hitshaketime))
triggerall = command = "ZaWarudo!"
trigger1 = numenemy
trigger1 = enemy(0),authorname="warusaki3" && enemy(0),fvar(39) = 5
trigger1 = enemy(0),var(15)
value = -enemy(0),var(15)
kill = 0

[State 200, 7]
type = LifeAdd
triggerall = var(59)
triggerall = power
triggerall = var(0) = 2
triggerall = !(movetype = H && gethitvar(hitshaketime))
triggerall = numhelper(33333)
triggerall = helper(33333),var(1) <= 1*(1+(life<500)+(life<333))
trigger1 = numenemy
trigger1 = enemy(0),authorname="warusaki3" && enemy(0),fvar(39) = 5
trigger1 = enemy(0),var(15)
value = -enemy(0),var(15)
kill = 0

[State 200, 7]
type = LifeAdd
triggerall = !var(59)
triggerall = power
triggerall = var(0) = 2
triggerall = !(movetype = H && gethitvar(hitshaketime))
triggerall = command = "ZaWarudo!"
trigger1 = numenemy = 2
trigger1 = enemy(1),authorname="warusaki3" && enemy(1),fvar(39) = 5
trigger1 = enemy(1),var(15)
value = -enemy(1),var(15)
kill = 0

[State 200, 7]
type = LifeAdd
triggerall = var(59)
triggerall = power
triggerall = var(0) = 2
triggerall = !(movetype = H && gethitvar(hitshaketime))
triggerall = numhelper(33333)
triggerall = helper(33333),var(1) <= 1*(1+(life<500)+(life<333))
trigger1 = numenemy = 2
trigger1 = enemy(1),authorname="warusaki3" && enemy(1),fvar(39) = 5
trigger1 = enemy(1),var(15)
value = -enemy(1),var(15)
kill = 0

[State -2, VarSet]
type = VarSet
triggerall = !var(59)
triggerall = power
triggerall = !(movetype = H && gethitvar(hitshaketime))
triggerall = var(0) = 2
triggerall = command = "ZaWarudo!" || stateno = 3200 || stateno = 3201 || stateno = 3250
trigger1 = !numpartner
trigger2 = numpartner
trigger2 = partner,authorname="warusaki3" && partner,fvar(39) = 5
trigger2 = (partner,var(0) = [1,3]) || partner,var(2)
var(0) = 3
ignorehitpause = 1

[State -2, VarSet]
type = VarSet
triggerall = var(59)
triggerall = power
triggerall = !(movetype = H && gethitvar(hitshaketime))
triggerall = var(0) = 2
triggerall = numhelper(33333)
triggerall = helper(33333),var(1) <= 1*(1+(life<500)+(life<333)) || stateno = 3200 || stateno = 3201 || stateno = 3250
trigger1 = !numpartner
trigger2 = numpartner
trigger2 = partner,authorname="warusaki3" && partner,fvar(39) = 5
trigger2 = (partner,var(0) = [1,3]) || partner,var(2)
var(0) = 3
ignorehitpause = 1

[State -2, VarSet]
type = ChangeState
triggerall = power
triggerall = !(movetype = H && gethitvar(hitshaketime))
triggerall = var(0) = 3
triggerall = (!var(8) && !var(49)) || var(49)
trigger1 = var(13)
trigger1 = stateno != 3200
trigger1 = stateno != 3201
trigger1 = stateno != 3250
value = ifelse(var(49)&&statetype=A,835,ifelse(var(49)&&statetype!=A,830,ifelse(!var(49)&&statetype=A,10825,10820)))
ignorehitpause = 1

[State 1100, VarSet]
type = VarSet
triggerall = var(0) != 1
trigger1 = numenemy = 1
trigger1 = enemy(0),movetype != H
trigger2 = numenemy = 2
trigger2 = enemy(0),movetype != H
trigger2 = enemy(1),movetype != H
var(15) = 0
ignorehitpause = 1

[State -2, VarSet]
type = VarSet
triggerall = power
triggerall = var(0) = 1
trigger1 = numenemy
trigger1 = enemy(0),authorname="warusaki3"
trigger1 = enemy(0),var(0)=3
trigger1 = enemy(0),fvar(39) = 5
trigger2 = numenemy = 2
trigger2 = enemy(1),authorname="warusaki3"
trigger2 = enemy(1),var(0)=3
trigger2 = enemy(1),fvar(39) = 5
var(0) = 3
ignorehitpause = 1

[State -2, VarSet]
type = VarSet
triggerall = var(0) = 1 || var(0) = 3
trigger1 = numpartner
trigger1 = partner,authorname="warusaki3"
trigger1 = partner,fvar(39) = 5
trigger1 = partner,var(0) = 1 || partner,var(0) = 3
trigger1 = var(2)>(partner,var(2)+(ID>partner,ID))
var(2) = partner,var(2)
ignorehitpause = 1


[State 810, 1]
type = helper
triggerall = NumHelper(10000)
triggerall = NumHelper(7500) < (32-var(17))
trigger1 = Helper(10000),stateno = 3050 && Helper(10000),animelemtime(6) = 2
ID = 7500
stateno = 7501
pos = ceil((Helper(10000),Pos X*facing)-(Pos X*facing))+ceil(110*const(size.xscale)),ceil(Helper(10000),Pos Y-Pos Y)+ceil(-17*const(size.yscale))
postype = P1
ownpal = 1
pausemovetime = 99999999
facing = facing*Helper(10000),facing
ignorehitpause = 1

[State 810, 2]
type = helper
triggerall = NumHelper(10000)
triggerall = NumHelper(7500) < (32-var(17))
trigger1 = Helper(10000),stateno = 3050 && Helper(10000),animelemtime(6) = 2
ID = 7500
stateno = 7501
pos = ceil((Helper(10000),Pos X*facing)-(Pos X*facing))+ceil(109*const(size.xscale)),ceil(Helper(10000),Pos Y-Pos Y)+ceil(-34*const(size.yscale))
postype = P1
ownpal = 1
pausemovetime = 99999999
facing = facing*Helper(10000),facing
ignorehitpause = 1

[State 810, 3]
type = helper
triggerall = NumHelper(10000)
triggerall = NumHelper(7500) < (32-var(17))
trigger1 = Helper(10000),stateno = 3050 && Helper(10000),animelemtime(6) = 2
ID = 7500
stateno = 7501
pos = ceil((Helper(10000),Pos X*facing)-(Pos X*facing))+ceil(96*const(size.xscale)),ceil(Helper(10000),Pos Y-Pos Y)+ceil(-56*const(size.yscale))
postype = P1
ownpal = 1
pausemovetime = 99999999
facing = facing*Helper(10000),facing
ignorehitpause = 1

[State 810, 4]
type = helper
triggerall = NumHelper(10000)
triggerall = NumHelper(7500) < (32-var(17))
trigger1 = Helper(10000),stateno = 3050 && Helper(10000),animelemtime(6) = 2
ID = 7500
stateno = 7501
pos = ceil((Helper(10000),Pos X*facing)-(Pos X*facing))+ceil(77*const(size.xscale)),ceil(Helper(10000),Pos Y-Pos Y)+ceil(-132*const(size.yscale))
postype = P1
ownpal = 1
pausemovetime = 99999999
facing = facing*Helper(10000),facing
ignorehitpause = 1

[State 810, 5]
type = helper
triggerall = NumHelper(10000)
triggerall = NumHelper(7500) < (32-var(17))
trigger1 = Helper(10000),stateno = 3050 && Helper(10000),animelemtime(6) = 2
ID = 7500
stateno = 7501
pos = ceil((Helper(10000),Pos X*facing)-(Pos X*facing))+ceil(67*const(size.xscale)),ceil(Helper(10000),Pos Y-Pos Y)+ceil(-61*const(size.yscale))
postype = P1
ownpal = 1
pausemovetime = 99999999
facing = facing*Helper(10000),facing
ignorehitpause = 1

[State 810, 6]
type = helper
triggerall = NumHelper(10000)
triggerall = NumHelper(7500) < (32-var(17))
trigger1 = Helper(10000),stateno = 3050 && Helper(10000),animelemtime(6) = 2
ID = 7500
stateno = 7501
triggerall = !IsHelper
pos = ceil((Helper(10000),Pos X*facing)-(Pos X*facing))+ceil(65*const(size.xscale)),ceil(Helper(10000),Pos Y-Pos Y)+ceil(-58*const(size.yscale))
postype = P1
ownpal = 1
pausemovetime = 99999999
facing = facing*Helper(10000),facing
ignorehitpause = 1

[State 810, 7]
type = helper
triggerall = NumHelper(10000)
triggerall = NumHelper(7500) < (32-var(17))
trigger1 = Helper(10000),stateno = 3050 && Helper(10000),animelemtime(6) = 2
ID = 7500
stateno = 7501
pos = ceil((Helper(10000),Pos X*facing)-(Pos X*facing))+ceil(59*const(size.xscale)),ceil(Helper(10000),Pos Y-Pos Y)+ceil(-78*const(size.yscale))
postype = P1
ownpal = 1
pausemovetime = 99999999
facing = facing*Helper(10000),facing
ignorehitpause = 1

[State 810, 8]
type = helper
triggerall = NumHelper(10000)
triggerall = NumHelper(7500) < (32-var(17))
trigger1 = Helper(10000),stateno = 3050 && Helper(10000),animelemtime(6) = 2
ID = 7500
stateno = 7501
pos = ceil((Helper(10000),Pos X*facing)-(Pos X*facing))+ceil(52*const(size.xscale)),ceil(Helper(10000),Pos Y-Pos Y)+ceil(-99*const(size.yscale))
postype = P1
ownpal = 1
pausemovetime = 99999999
facing = facing*Helper(10000),facing
ignorehitpause = 1

[State 810, 9]
type = helper
triggerall = NumHelper(10000)
triggerall = NumHelper(7500) < (32-var(17))
trigger1 = Helper(10000),stateno = 3050 && Helper(10000),animelemtime(6) = 2
ID = 7500
stateno = 7501
pos = ceil((Helper(10000),Pos X*facing)-(Pos X*facing))+ceil(41*const(size.xscale)),ceil(Helper(10000),Pos Y-Pos Y)+ceil(-67*const(size.yscale))
postype = P1
ownpal = 1
pausemovetime = 99999999
facing = facing*Helper(10000),facing
ignorehitpause = 1

[State 810, 10]
type = helper
triggerall = NumHelper(10000)
triggerall = NumHelper(7500) < (32-var(17))
trigger1 = Helper(10000),stateno = 3050 && Helper(10000),animelemtime(6) = 2
ID = 7500
stateno = 7501
pos = ceil((Helper(10000),Pos X*facing)-(Pos X*facing))+ceil(40*const(size.xscale)),ceil(Helper(10000),Pos Y-Pos Y)+ceil(-29*const(size.yscale))
postype = P1
ownpal = 1
pausemovetime = 99999999
facing = facing*Helper(10000),facing
ignorehitpause = 1

[State 810, 11]
type = helper
triggerall = NumHelper(10000)
triggerall = NumHelper(7500) < (32-var(17))
trigger1 = Helper(10000),stateno = 3050 && Helper(10000),animelemtime(6) = 2
ID = 7500
stateno = 7501
pos = ceil((Helper(10000),Pos X*facing)-(Pos X*facing))+ceil(26*const(size.xscale)),ceil(Helper(10000),Pos Y-Pos Y)+ceil(-103*const(size.yscale))
postype = P1
ownpal = 1
pausemovetime = 99999999
facing = facing*Helper(10000),facing
ignorehitpause = 1

[State 810, 12]
type = helper
triggerall = NumHelper(10000)
triggerall = NumHelper(7500) < (32-var(17))
trigger1 = Helper(10000),stateno = 3050 && Helper(10000),animelemtime(6) = 2
ID = 7500
stateno = 7501
pos = ceil((Helper(10000),Pos X*facing)-(Pos X*facing))+ceil(15*const(size.xscale)),ceil(Helper(10000),Pos Y-Pos Y)+ceil(-55*const(size.yscale))
postype = P1
ownpal = 1
pausemovetime = 99999999
facing = facing*Helper(10000),facing
ignorehitpause = 1

[State 810, 13]
type = helper
triggerall = NumHelper(10000)
triggerall = NumHelper(7500) < (32-var(17))
trigger1 = Helper(10000),stateno = 3050 && Helper(10000),animelemtime(6) = 2
ID = 7500
stateno = 7501
pos = ceil((Helper(10000),Pos X*facing)-(Pos X*facing))+ceil(14*const(size.xscale)),ceil(Helper(10000),Pos Y-Pos Y)+ceil(-155*const(size.yscale))
postype = P1
ownpal = 1
pausemovetime = 99999999
facing = facing*Helper(10000),facing
ignorehitpause = 1

[State 810, 14]
type = helper
triggerall = NumHelper(10000)
triggerall = NumHelper(7500) < (32-var(17))
trigger1 = Helper(10000),stateno = 3050 && Helper(10000),animelemtime(6) = 2
ID = 7500
stateno = 7501
pos = ceil((Helper(10000),Pos X*facing)-(Pos X*facing))+ceil(-15*const(size.xscale)),ceil(Helper(10000),Pos Y-Pos Y)+ceil(-15*const(size.yscale))
postype = P1
ownpal = 1
pausemovetime = 99999999
facing = facing*Helper(10000),facing
ignorehitpause = 1

[State 810, 15]
type = helper
triggerall = NumHelper(10000)
triggerall = NumHelper(7500) < (32-var(17))
trigger1 = Helper(10000),stateno = 3050 && Helper(10000),animelemtime(6) = 2
ID = 7500
stateno = 7501
pos = ceil((Helper(10000),Pos X*facing)-(Pos X*facing))+ceil(-62*const(size.xscale)),ceil(Helper(10000),Pos Y-Pos Y)+ceil(-85*const(size.yscale))
postype = P1
ownpal = 1
pausemovetime = 99999999
facing = facing*Helper(10000),facing
ignorehitpause = 1


[State 1100, VarSet]
type = VarSet
trigger1 = 1
var(18) = 0


[State 1100, VarSet]
type = VarSet
triggerall = fvar(37)
triggerall = stateno != [850,851]
triggerall = var(8) != 3
trigger1 = roundstate = 0
trigger2 = !var(42)
fvar(37) = 0




[State 3001, VarSet]
type = VarSet
trigger1 = stateno = [200,599]
trigger1 = time = 1
var(25) = 0

[State 3001, VarSet]
type = VarAdd
triggerall = !var(59)
triggerall = stateno = [200,599]
triggerall = time > 1
trigger1 = !(var(25)&2**10)
trigger1 = command = "x"
var(25) = 2**0

[State 3001, VarSet]
type = VarAdd
triggerall = !var(59)
triggerall = stateno = [200,599]
triggerall = time > 1
trigger1 = !(var(25)&2**10)
trigger1 = command = "y"
var(25) = 2**1

[State 3001, VarSet]
type = VarAdd
triggerall = !var(59)
triggerall = stateno = [200,599]
triggerall = time > 1
trigger1 = !(var(25)&2**10)
trigger1 = command = "z"
var(25) = 2**2

[State 3001, VarSet]
type = VarAdd
triggerall = !var(59)
triggerall = stateno = [200,599]
triggerall = time > 1
trigger1 = !(var(25)&2**10)
trigger1 = command = "c"
var(25) = 2**3

[State 3001, VarSet]
type = VarAdd
triggerall = !var(59)
triggerall = stateno = [200,599]
triggerall = time > 1
trigger1 = !(var(25)&2**10)
trigger1 = command = "a"
var(25) = 2**4

[State 3001, VarSet]
type = VarAdd
triggerall = !var(59)
triggerall = stateno = [200,599]
triggerall = time > 1
trigger1 = !(var(25)&2**10)
trigger1 = command = "c"
var(25) = 2**5

[State 3001, VarSet]
type = VarAdd
triggerall = !var(59)
triggerall = stateno = [200,599]
triggerall = time > 1
triggerall = !(var(25)&2**10)
triggerall = command = "holdfwd"
trigger1 = command = "x"
trigger2 = command = "y"
trigger3 = command = "z"
trigger4 = command = "a"
var(25) = 2**6

[State 3001, VarSet]
type = VarAdd
triggerall = !var(59)
triggerall = stateno = [200,599]
triggerall = time > 1
triggerall = !(var(25)&2**10)
triggerall = command = "holddown"
trigger1 = command = "x"
trigger2 = command = "y"
trigger3 = command = "z"
trigger4 = command = "a"
var(25) = 2**7

[State 3001, VarSet]
type = VarAdd
triggerall = !var(59)
triggerall = stateno = [200,599]
triggerall = time > 1
triggerall = !(var(25)&2**10)
triggerall = command = "holdback"
trigger1 = command = "x"
trigger2 = command = "y"
trigger3 = command = "z"
trigger4 = command = "a"
var(25) = 2**8

[State 3001, VarSet]
type = VarAdd
triggerall = !var(59)
triggerall = stateno = [200,599]
triggerall = time > 1
triggerall = !(var(25)&2**10)
triggerall = command = "holdup"
trigger1 = command = "x"
trigger2 = command = "y"
trigger3 = command = "z"
trigger4 = command = "a"
var(25) = 2**9

[State 3001, VarSet]
type = VarAdd
triggerall = !var(59)
triggerall = stateno = [200,599]
triggerall = time > 1
triggerall = !(var(25)&2**10)
trigger1 = command = "x"
trigger2 = command = "y"
trigger3 = command = "z"
trigger4 = command = "a"
var(25) = 2**10




[State -2]
type = VarAdd
triggerall = !var(59)
triggerall = var(24) > 0
trigger1 = !(var(26)&2**0)
trigger1 = command = "MUDAMUDA1"
var(26) = 2**0

[State -2]
type = VarAdd
triggerall = !var(59)
triggerall = var(24) > 0
trigger1 = !(var(26)&2**1)
trigger1 = command = "MUDAMUDA2"
var(26) = 2**1

[State -2]
type = VarAdd
triggerall = !var(59)
triggerall = var(24) > 0
trigger1 = !(var(26)&2**2)
trigger1 = command = "MUDAMUDA3"
var(26) = 2**2



[State -2, Combo]
type = VarAdd
triggerall = !var(59)
trigger1 = var(24)
trigger1 = (var(26)&2**22) && !(var(26)&2**23)
trigger1 = (var(26)&2**3) || (var(26)&2**4) || (var(26)&2**5) || (var(26)&2**18)
trigger1 = command = "MUDA 1" || command = "MUDA 1" || command = "MUDA 3" || command = "RoadRoller"
var(26) = 2**22
ignorehitpause = 1



[State -2]
type = VarAdd
triggerall = !var(59)

trigger1 = !(var(26)&2**3)
trigger1 = command = "MUDA 1"
var(26) = 2**3

[State -2]
type = VarAdd
triggerall = !var(59)

trigger1 = !(var(26)&2**4)
trigger1 = command = "MUDA 2"
var(26) = 2**4

[State -2]
type = VarAdd
triggerall = !var(59)
triggerall = var(24) > 0
trigger1 = !(var(26)&2**5)
trigger1 = command = "MUDA 3"
var(26) = 2**5



[State -2]
type = VarAdd
triggerall = !var(59)
triggerall = var(24) > 0
trigger1 = !(var(26)&2**6)
trigger1 = command = "The World 1"
var(26) = 2**6

[State -2]
type = VarAdd
triggerall = !var(59)
triggerall = var(24) > 0
trigger1 = !(var(26)&2**7)
trigger1 = command = "The World 2"
var(26) = 2**7

[State -2]
type = VarAdd
triggerall = !var(59)
triggerall = var(24) > 0
trigger1 = !(var(26)&2**8)
trigger1 = command = "The World 3"
var(26) = 2**8

[State -2]
type = VarAdd
triggerall = !var(59)
triggerall = var(24) > 0
trigger1 = !(var(26)&2**12)
trigger1 = command = "KuretsuGanshiha"
var(26) = 2**12



[State -2]
type = VarAdd
triggerall = !var(59)
triggerall = var(24) > 0
trigger1 = !(var(26)&2**13)
trigger1 = command = "Stand Strike"
var(26) = 2**13



[State -2]
type = VarAdd
triggerall = !var(59)
triggerall = var(24) > 0
trigger1 = !(var(26)&2**14)
trigger1 = command = "Tandem"
var(26) = 2**14




[State -2]
type = VarAdd
triggerall = !var(59)
triggerall = var(24) > 0
trigger1 = !(var(26)&2**15)
trigger1 = command = "Checkmate1"
var(26) = 2**15

[State -2]
type = VarAdd
triggerall = !var(59)
triggerall = var(24) > 0
trigger1 = !(var(26)&2**16)
trigger1 = command = "Checkmate2"
var(26) = 2**16

[State -2]
type = VarAdd
triggerall = !var(59)
triggerall = var(24) > 0
trigger1 = !(var(26)&2**17)
trigger1 = command = "Checkmate3"
var(26) = 2**17



[State -2]
type = VarAdd
triggerall = !var(59)
triggerall = var(24) > 0
trigger1 = !(var(26)&2**18)
trigger1 = command = "RoadRoller"
var(26) = 2**18



[State -2]
type = VarAdd
triggerall = !var(59)
triggerall = var(24) > 0
trigger1 = !(var(26)&2**19)
trigger1 = command = "WRYYY"
var(26) = 2**19



[State -2]
type = VarAdd
triggerall = !var(59)
triggerall = var(24) > 0
trigger1 = !(var(26)&2**20)
trigger1 = command = "ZaWarudo!"
var(26) = 2**20



[State -2]
type = VarAdd
triggerall = !var(59)
triggerall = var(24) > 0
trigger1 = !(var(26)&2**21)
trigger1 = command = "Sgs"
var(26) = 2**21




[State -2]
type = VarSet
trigger1 = var(26)
trigger1 = !var(24)
var(26) = 0


[State -2, CornerPush]
type = VarAdd
trigger1 = var(24) > 0
var(24) = -1
ignorehitpause = 1


[State -2, CornerPush]
type = VarSet
triggerall = movecontact
triggerall = time > 1
trigger1 = stateno = 500 && prevstateno = [100,105]
var(24) = 6
ignorehitpause = 1

[State -2, CornerPush]
type = VarSet
triggerall = movecontact
triggerall = time > 1
trigger1 = stateno = 200
trigger2 = stateno = 400
trigger3 = stateno = 300
trigger4 = stateno = 301
trigger5 = stateno = 500 && prevstateno != [100,105]
trigger6 = stateno = 501
var(24) = 10
ignorehitpause = 1

[State 400, CornerPush]
type = VarSet
triggerall = movecontact
triggerall = time > 1
trigger1 = stateno = 200
trigger2 = stateno = 400
trigger3 = stateno = 300
trigger4 = stateno = 301
trigger5 = stateno = 500
trigger6 = stateno = 501
fvar(2) = 8.3
ignorehitpause = 1


[State -2, CornerPush]
type = VarSet
triggerall = movecontact
triggerall = time > 1
trigger1 = stateno = 210
trigger2 = stateno = 410
trigger3 = stateno = 310
trigger4 = stateno = 311
trigger5 = stateno = 330
trigger6 = stateno = 510
trigger7 = stateno = 511
var(24) = 13
ignorehitpause = 1

[State 210, CornerPush]
type = VarSet
triggerall = movecontact
triggerall = time > 1
trigger1 = stateno = 210
trigger2 = stateno = 410
trigger3 = stateno = 310
trigger4 = stateno = 311
trigger5 = stateno = 330
trigger6 = stateno = 510
trigger7 = stateno = 511
fvar(2) = 11.9
ignorehitpause = 1


[State -2, CornerPush]
type = VarSet
triggerall = movecontact
triggerall = time > 1
trigger1 = stateno = 220
trigger2 = stateno = 420
trigger3 = stateno = 312
trigger4 = stateno = 320
trigger5 = stateno = 321
trigger6 = stateno = 322
trigger7 = stateno = 520
trigger8 = stateno = 521
var(24) = 15
ignorehitpause = 1

[State 220, CornerPush]
type = VarSet
triggerall = movecontact
triggerall = time > 1
trigger1 = stateno = 220
trigger2 = stateno = 420
trigger3 = stateno = 312
trigger4 = stateno = 320
trigger5 = stateno = 321
trigger6 = stateno = 322
trigger7 = stateno = 520
trigger8 = stateno = 521
fvar(2) = 16
ignorehitpause = 1


[State -2, CornerPush]
type = VarSet
triggerall = movecontact
triggerall = time > 1
trigger1 = stateno = 600
trigger2 = stateno = 610
trigger3 = stateno = 620
trigger4 = stateno = 700
trigger5 = stateno = 710
trigger6 = stateno = 720
var(24) = 10
ignorehitpause = 1

[State 400, CornerPush]
type = VarSet
triggerall = movecontact
triggerall = time > 1
trigger1 = stateno = 600
trigger2 = stateno = 610
trigger3 = stateno = 620
trigger4 = stateno = 700
trigger5 = stateno = 710
trigger6 = stateno = 720
fvar(2) = 8.3
ignorehitpause = 1


[State -2, CornerPush]
type = VarSet
triggerall = movecontact
triggerall = time > 1
trigger1 = stateno = 1050
trigger2 = stateno = 1060
trigger3 = stateno = 1900
var(24) = 5
ignorehitpause = 1

[State 220, CornerPush]
type = VarSet
triggerall = movehit
triggerall = time > 1
trigger1 = stateno = 1050
trigger2 = stateno = 1060
trigger3 = stateno = 1900
fvar(2) = 3.3
ignorehitpause = 1

[State 220, CornerPush]
type = VarSet
triggerall = moveguarded
triggerall = time > 1
trigger1 = stateno = 1050
trigger2 = stateno = 1060
trigger3 = stateno = 1900
fvar(2) = 8.3
ignorehitpause = 1


[State -2, CornerPush]
type = VarSet
triggerall = movecontact
triggerall = time > 1
trigger1 = stateno = 1150
trigger2 = stateno = 3650
var(24) = 10
ignorehitpause = 1

[State -2, CornerPush]
type = VarSet
triggerall = movecontact
triggerall = time > 1
trigger1 = stateno = 1151
trigger2 = stateno = 3651
var(24) = 15
ignorehitpause = 1

[State 220, CornerPush]
type = VarSet
triggerall = movecontact
triggerall = time > 1
trigger1 = stateno = 1150
trigger2 = stateno = 3650
trigger3 = stateno = 3651
fvar(2) = 9.2
ignorehitpause = 1

[State 220, CornerPush]
type = VarSet
triggerall = moveguarded
triggerall = time > 1
trigger1 = stateno = 1151
fvar(2) = 9.2
ignorehitpause = 1


[State -2, CornerPush]
type = VarSet
triggerall = movecontact
triggerall = time > 1
trigger1 = stateno = 1550
var(24) = 15
ignorehitpause = 1

[State 220, CornerPush]
type = VarSet
triggerall = movecontact
triggerall = time > 1
trigger1 = stateno = 1550
fvar(2) = 16
ignorehitpause = 1


[State 220, CornerPush]
type = VarSet
triggerall = movecontact
triggerall = time > 1
trigger1 = stateno = 3400
trigger2 = stateno = 3401
fvar(2) = 11.9
ignorehitpause = 1


[State -2, CornerPush]
type = VarSet
triggerall = movecontact
triggerall = time > 1
trigger1 = stateno = 3550
var(24) = 13
ignorehitpause = 1

[State 220, CornerPush]
type = VarSet
triggerall = movecontact
triggerall = time > 1
trigger1 = stateno = 3550
fvar(2) = 11.9
ignorehitpause = 1


[State -2, Combo]
type = VarSet
trigger1 = !var(42)
trigger2 = var(8) = 3
var(28) = 0
ignorehitpause = 1

[State -2, Combo]
type = VarAdd
trigger1 = movehit
trigger2 = projHit = 1
var(28) = 1
ignorehitpause = 1

[State -2, Combo]
type = VarSet
trigger1 = !var(24)
var(43) = 0
ignorehitpause = 1

[State -2, Combo]
type = VarSet
triggerall = numtarget
triggerall = target,hitshakeover
trigger1 = movehit
trigger2 = projHit = 1
var(43) = 1
ignorehitpause = 1


[State -2, CornerPush]
type = VarSet
trigger1 = !fvar(2)
fvar(4) = 0

[State -2, CornerPush]
type = VarSet
trigger1 = numtarget
trigger1 = target,BackEdgeBodyDist <= 5 || target,FrontEdgeBodyDist <= 5
fvar(4) = 1

[State -2, CornerPush]
type = VarSet
trigger1 = fvar(2) = [0,.1]
trigger2 = NumTarget
trigger2 = target,statetype = A && target,stateno != [5070,5071]
trigger3 = movetype = H
fvar(2) = 0

[State -2, CornerPush]
type = PosAdd
triggerall = var(0) != -1
triggerall = var(0) != 1
triggerall = var(0) != 2
triggerall = fvar(2)
triggerall = fvar(4)
triggerall = !NumHelper(8000) && !NumHelper(8001)
triggerall = NumHelper(10000)
triggerall = !Helper(10000),NumHelper(8000) && !Helper(10000),NumHelper(8001)
triggerall = StateType != A || (StateType = A && !var(49) && !var(8))
trigger1 = !numtarget
trigger2 = numtarget
trigger2 = !target,gethitvar(hitshaketime)
x = -fvar(2)

[State -2, CornerPush]
type = VarSet
triggerall = var(0) != -1
triggerall = var(0) != 2
triggerall = fvar(2)
triggerall = !NumHelper(8000) && !NumHelper(8001)
triggerall = NumHelper(10000)
triggerall = !Helper(10000),NumHelper(8000) && !Helper(10000),NumHelper(8001)
trigger1 = !numtarget
trigger2 = numtarget
trigger2 = !target,gethitvar(hitshaketime)
fvar(2) = fvar(2)*.75

[State -2, CornerPush]
type = VarSet
trigger1 = fvar(3) = [0,.1]
trigger2 = NumTarget
trigger2 = target,statetype = A && target,stateno != [5070,5071]
trigger3 = movetype = H
fvar(3) = 0

[State -2, CornerPush]
type = PosAdd
triggerall = stateno != 750
triggerall = var(0) != -1
triggerall = var(0) != 1
triggerall = var(0) != 2
triggerall = !NumHelper(8000) && !NumHelper(8001)
triggerall = NumHelper(10000)
triggerall = !Helper(10000),NumHelper(8000) && !Helper(10000),NumHelper(8001)
triggerall = StateType != A || (StateType = A && !var(49) && !var(8))
trigger1 = fvar(3)
x = -fvar(3)

[State -2, CornerPush]
type = VarSet
triggerall = var(0) != -1
triggerall = var(0) != 2
triggerall = !NumHelper(8000) && !NumHelper(8001)
triggerall = NumHelper(10000)
triggerall = !Helper(10000),NumHelper(8000) && !Helper(10000),NumHelper(8001)
trigger1 = fvar(3)
fvar(3) = fvar(3)*.75


[State 52, Effect]
type = VarSet
trigger1 = !var(42)
trigger2 = var(48) = 1
trigger2 = time = 1
var(48) = 0
ignorehitpause = 1

[State 52, Effect]
type = VarSet
triggerall = var(48) != 2
trigger1 = stateno = 200
trigger2 = stateno = 210
trigger3 = stateno = 220
trigger4 = stateno = 300
trigger5 = stateno = 301
trigger6 = stateno = 310
trigger7 = stateno = 320
trigger8 = stateno = 400
trigger9 = stateno = 410
trigger10 = stateno = 420
trigger11 = stateno = 500
trigger12 = stateno = 510
trigger13 = stateno = 600
trigger14 = stateno = 610
trigger15 = stateno = 620
trigger16 = stateno = 700
trigger17 = stateno = 710
trigger18 = stateno = 720
trigger19 = stateno = 901
trigger20 = stateno = 1050
trigger21 = stateno = 1950
trigger22 = stateno = 3300
trigger23 = stateno = 3350
trigger24 = stateno = 3550
var(48) = 1
ignorehitpause = 1

[State 52, Effect]
type = VarSet
trigger1 = var(48) = 1
trigger1 = movehit
var(48) = 2
ignorehitpause = 1


[State 52, Effect]
type = AssertSpecial
trigger1 = var(49) && !numexplod(8720)
trigger1 = NumHelper(10000)
trigger1 = Helper(10000),stateno != 10840
flag = noshadow
ignorehitpause = 1


[State 1100, VarSet]
type = VarSet
trigger1 = numhelper(10000)
trigger1 = helper(10000),stateno = 10000
var(9) = 0
ignorehitpause = 1


[State 0, 1]
type = ChangeAnim
triggerall = roundstate >= 2
triggerall = var(49)
trigger1 = anim = [0,47]
trigger2 = anim = [120,152]
trigger3 = anim = [5000,5210]
value = anim+var(49)


[State 52, Effect]
type = SprPriority
triggerall = var(49)
trigger1 = stateno = 120
trigger2 = stateno = [130,132]
trigger3 = stateno = 140
trigger4 = stateno = [150,155]
value = 1
ignorehitpause = 1


[State 3001, Width]
type = Width
trigger1 = var(49)
player = 0,5


[State 0, 1]
type = VarSet
triggerall = var(49)
trigger1 = !alive && hitshakeover
var(49) = 0

[State 0, 1]
type = VarSet
triggerall = var(49)
triggerall = movetype = H
trigger1 = stateno != 0
trigger1 = stateno != [10,12]
trigger1 = stateno != 20
trigger1 = stateno != 40
trigger1 = stateno != 120
trigger1 = stateno != [130,132]
trigger1 = stateno != 140
trigger1 = stateno != [150,155]
trigger1 = stateno != [5000,5001]
trigger1 = stateno != [5010,5011]
trigger1 = stateno != 5020
trigger1 = stateno != 5030
trigger1 = stateno != 5035
trigger1 = stateno != 5040
trigger1 = stateno != 5050
trigger1 = stateno != [5070,5071]
trigger1 = stateno != [5080,5081]
trigger1 = stateno != [5100,5101]
trigger1 = stateno != 5110
trigger1 = stateno != 5120
trigger1 = stateno != 5150
trigger1 = stateno != [5200,5201]
trigger1 = stateno != 5210
trigger1 = stateno != [15000,15001]
trigger1 = stateno != [15010,15011]
trigger1 = stateno != 15020
trigger1 = stateno != 15030
trigger1 = stateno != 15035
trigger1 = stateno != 15040
trigger1 = stateno != 15050
trigger1 = stateno != [15070,15071]
trigger1 = stateno != [15080,15081]
trigger1 = stateno != [15100,15101]
trigger1 = stateno != 15110
trigger1 = stateno != 15120
trigger1 = stateno != 15150
trigger1 = stateno != [15200,15201]
trigger1 = stateno != 15210
var(49) = 0


[State 0, 1]
type = VarAdd
trigger1 = var(51)
var(51) = -1
ignorehitpause = 1


[State 0, 1]
type = VarAdd
triggerall = numhelper(33333)
triggerall = !(var(59) >= 1 || helper(33333),fvar(1)) || var(39) > 1
trigger1 = var(39)
var(39) = -1
ignorehitpause = 1


[State 0, 1]
type = VarSet
triggerall = numhelper(33333)
triggerall = var(59) >= 1 || helper(33333),fvar(1)
triggerall = var(39) = 1
trigger1 = p2movetype != H

trigger2 = p2life-life >= 500 || var(59) = 3
trigger2 = (life < 500 || p2life-life >= 333) && p2life-life >= 250
trigger2 = var(42) < 40
var(39) = 0
ignorehitpause = 1


[State 0, 1]
type = VarAdd
trigger1 = var(40)
var(40) = -1
ignorehitpause = 1


[State -2, PowerReset]
type = VarAdd
triggerall = var(29)&2**0
trigger1 = !NumTarget
trigger2 = P2MoveType != H
trigger3 = movehit
trigger4 = projhit = 1
trigger5 = numtarget
trigger5 = !target,gethitvar(fall)
var(29) = -(2**0)
ignorehitpause = 1

[State -2, PowerReset]
type = VarAdd
triggerall = P2MoveType = H && P2stateType = A
triggerall = !var(49)
triggerall = var(0) != 1
triggerall = !(var(29)&2**0)
triggerall = movehit
triggerall = (stateno = [200,799])
trigger1 = !(stateno = 220 && prevstateno != [100,106])
trigger1 = stateno != 420
var(29) = 2**0
ignorehitpause = 1

[State 901, Throw]
type = TargetState
triggerall = Numtarget
triggerall = var(29)&2**0
trigger1 = target,stateno = 5050 && target,alive
value = 890


[State -2, PowerReset]
type = VarAdd
triggerall = var(29)&2**1
trigger1 = !NumTarget
trigger2 = P2MoveType != H
trigger3 = movehit
trigger4 = projhit = 1
var(29) = -(2**1)
ignorehitpause = 1

[State -2, PowerReset]
type = VarAdd
triggerall = var(0) != 1
triggerall = !(var(29)&2**1)
triggerall = movehit
triggerall = numtarget
triggerall = target,gethitvar(groundtype)=3
trigger1 = stateno = 420
trigger2 = stateno = 520
trigger3 = stateno = 521
var(29) = 2**1
ignorehitpause = 1

[State 901, Throw]
type = TargetState
triggerall = Numtarget
triggerall = var(29)&2**1
trigger1 = target,stateno = 5071
value = 895
ignorehitpause = 1


[State -1, Run Fwd]
type = VarSet
trigger1 = roundstate = 0
var(54) = 80
ignorehitpause = 1

[State -1, Run Fwd]
type = VarAdd
triggerall = var(49)
triggerall = var(54) = (0,80]
trigger1 = var(31) - Life > 0
var(54) = -2-ceil((var(31)-Life)*.25)
ignorehitpause = 1

[State -1, Run Fwd]
type = null
triggerall = var(49)
triggerall = var(54) = (0,80]
triggerall = time = 1
trigger1 = stateno = 150
trigger2 = stateno = 152
trigger3 = stateno = 154
var(54) = -2-ceil((var(31)-Life)*.125)
ignorehitpause = 1

[State -1, Run Fwd]
type = VarAdd
triggerall = roundstate = 2
triggerall = !var(49)&&stateno!=1250&&stateno!=850&&stateno!=851
trigger1 = var(54) = (0,80)
trigger1 = gametime%2=0
var(54) = 1
ignorehitpause = 1

[State -1, Run Fwd]
type = VarSet
trigger1 = var(54) > 80
var(54) = 80
ignorehitpause = 1

[State -1, Run Fwd]
type = VarSet
trigger1 = var(54) < 0
var(54) = 0
ignorehitpause = 1

[State -1, Run Fwd]
type = LifeAdd
triggerall = var(49)
triggerall = var(31) - Life > 0
trigger1 = stateno = 120
trigger2 = stateno = [130,132]
trigger3 = stateno = 140
trigger4 = stateno = [150,155]
value = var(31)-Life
ignorehitpause = 1

[State -2, Combo]
type = VarSet
trigger1 = 1
var(31) = life
ignorehitpause = 1


[State -2, Combo]
type = VarSet
trigger1 = var(0) != -1
trigger1 = var(0) != 2
var(35) = 0
ignorehitpause = 1

[State -2, Combo]
type = VarSet
trigger1 = var(0) != -1
trigger1 = var(0) != 2
var(36) = 0
ignorehitpause = 1

[State -2, Combo]
type = VarAdd
trigger1 = fvar(12) >= 0
trigger1 = MoveType = I
fvar(12) = 1
ignorehitpause = 1

[State -2, Combo]
type = VarSet
trigger1 = fvar(12) = -1
trigger1 = MoveType = I
fvar(12) = 0
ignorehitpause = 1

[State -2, Combo]
type = VarSet
trigger1 = MoveType != I
fvar(12) = -1
ignorehitpause = 1


[State -1, VarAdd]
type = VarAdd
trigger1 = var(33) > 0
var(33) = -1
ignorehitpause = 1

[State -1, VarAdd]
type = VarAdd
triggerall = var(0) != -1
triggerall = var(0) != 2
trigger1 = !var(33) && var(11) > 0
var(11) = -1
ignorehitpause = 1

[State -1, VarAdd]
type = VarAdd
triggerall = var(0) != -1
triggerall = var(0) != 2
trigger1 = !var(33) && var(34) > 0
var(34) = -1
ignorehitpause = 1

[State -1, VarSet]
type = VarSet
trigger1 = StateNo = 5000 || StateNo = 5010 || StateNo = 5020 || StateNo = 5070 || StateNo = 5080
trigger1 = time = 0
var(11) = gethitvar(slidetime)
ignorehitpause = 1

[State -1, VarSet]
type = VarSet
trigger1 = StateNo = 5000 || StateNo = 5010 || StateNo = 5020 || StateNo = 5070 || StateNo = 5080
trigger1 = time = 0
var(33) = gethitvar(hitshaketime)
ignorehitpause = 1

[State -1, VarSet]
type = VarSet
trigger1 = StateNo = 5000 || StateNo = 5010 || StateNo = 5020 || StateNo = 5070 || StateNo = 5080
trigger1 = time = 0
var(34) = gethitvar(hittime)+1
ignorehitpause = 1


[State -3, Turns Mode Intro]
type = ChangeState
triggerall = var(49)
triggerall = !var(54)
triggerall = !var(32)
triggerall = stateno != 4000
triggerall = alive
trigger1 = stateno = [5000,5001]
trigger2 = stateno = [5010,5011]
trigger3 = stateno = 5020
trigger4 = stateno = 5030
trigger5 = stateno = 5035
trigger6 = stateno = 5040
trigger7 = stateno = 5050
trigger8 = stateno = [5070,5071]
trigger9 = stateno = [5080,5081]
trigger10 = stateno = [5100,5101]
trigger11 = stateno = 5110
trigger12 = stateno = 5120
trigger13 = stateno = 5150
trigger14 = stateno = [5200,5201]
trigger15 = stateno = 5210
trigger16 = stateno = [15000,15001]
trigger17 = stateno = [15010,15011]
trigger18 = stateno = 15020
trigger19 = stateno = 15030
trigger20 = stateno = 15035
trigger21 = stateno = 15040
trigger22 = stateno = 15050
trigger23 = stateno = [15070,15071]
trigger24 = stateno = [15080,15081]
trigger25 = stateno = [15100,15101]
trigger26 = stateno = 15110
trigger27 = stateno = 15120
trigger28 = stateno = 15150
trigger29 = stateno = [15200,15201]
trigger30 = stateno = 15210
value = 4000

[State -3, Turns Mode Intro]
type = ChangeState
triggerall = var(49)
triggerall = !var(54)
triggerall = !var(32)
triggerall = stateno != 4100
triggerall = alive
trigger1 = stateno = 120
trigger2 = stateno = [130,132]
trigger3 = stateno = 140
trigger4 = stateno = [150,155]
value = 4100

[State -1, Run Fwd]
type = VarAdd
trigger1 = var(32) = 20
var(54) = 1
ignorehitpause = 1

[State -1, Run Fwd]
type = VarSet
trigger1 = var(32) = 20
var(32) = 0
ignorehitpause = 1

[State -1, Run Fwd]
type = VarAdd
trigger1 = !var(54)
var(32) = 1
ignorehitpause = 1


[State 50, 1]
type = VarAdd
trigger1 = var(53) < 0
var(53) = -1

[State 50, 1]
type = VarSet
triggerall = Time = 1
trigger1 = stateno = 50
trigger2 = stateno = 5210
trigger3 = stateno = 10825 && var(53) != 1
var(53) = -1

[State 50, 1]
type = VarSet
trigger1 = !var(59)
trigger1 = var(53) <= -8
trigger1 = command != "holdup"
var(53) = 0

[State 50, 1]
type = VarSet
trigger1 = var(59)
trigger1 = var(53) <= -8
var(53) = 0


[State -1, Run Fwd]
type = VarSet
triggerall = numtarget
triggerall = time > 1
triggerall = !var(50)
trigger1 = stateno = 1151 && movehit && var(42) <= 1
trigger2 = stateno = 1401 && animelem = 27
trigger3 = (stateno = 3102 || stateno = 3123) && movehit && animelemtime(69) >= 0
trigger4 = stateno = 3401 && movehit
trigger5 = stateno = 3411 && movehit
trigger6 = stateno = 3602 && animelem = 39
var(50) = 1
ignorehitpause = 1

[State -1, Run Fwd]
type = VarSet
triggerall = movetype != H
trigger1 = time = 1
var(50) = 0


[State -2, Combo]
type = VarSet
triggerall = !var(58)
trigger1 = (stateno != [900,999]) && (stateno != [1400,1499]) && (stateno != [3600,3649])
trigger1 = movehit && p2movetype = H
trigger2 = projHit = 1 && p2movetype = H
trigger3 = stateno = 1401 && animelem = 12 && time > 1
var(58) = 1
ignorehitpause = 1

[State -2, Combo]
type = VarSet
triggerall = !var(58)
trigger1 = MoveType = H && (stateno != [150,159]) && (stateno != [810,819])
var(58) = 2
ignorehitpause = 1


[State 52, Effect]
type = PlaySnd
triggerall = roundstate >= 2
triggerall = !NumHelper(8000)
triggerall = !NumHelper(8001)
trigger1 = numtarget
trigger1 = target,stateno = 2601 && target,time = 1
trigger2 = var(42)
trigger2 = numenemy
trigger2 = enemynear,stateno = 2601 && enemynear,time = 1
value = 5100,2
ignorehitpause = 1

[State 1000, Spark]
type = Explod
triggerall = roundstate >= 2
triggerall = !NumHelper(8000)
triggerall = !NumHelper(8001)
trigger1 = numtarget
trigger1 = target,stateno = 2601 && target,time = 1
trigger2 = var(42)
trigger2 = numenemy
trigger2 = enemynear,stateno = 2601 && enemynear,time = 1
Anim = 8260
pos = -10,-50
postype = P2
sprpriority = 7
scale = const(size.xscale),const(size.yscale)
pausemovetime = 99999999*(var(0)>0)


[State 9000, Assert]
type = null;AssertSpecial
trigger1 = NumHelper(9000)
trigger2 = roundstate != [2,3]
trigger2 = matchover
flag = NoBarDisplay
ignorehitpause = 1


[State 9000, Assert]
type = AssertSpecial
trigger1 = var(8)
trigger2 = var(0) = -1
trigger3 = var(0) = 1
trigger4 = var(0) = 2
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard
ignorehitpause = 1


[State -2]
type = helper
trigger1 = !NumHelper(6000)
trigger1 = roundstate = 2
ID = 6000
stateno = 6000
name = "STAND gauge"
pos = -999,-999
ownpal = 1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999
facing = facing*ifelse(teamside=1,1,-1)


[State 3001, Super]
type = Helper
triggerall = roundstate = 2
trigger1 = !NumHelper(6500)
id = 6500
stateno = 6500
name = "messsge"
pos = -999,-999
ownpal = 1
ignorehitpause = 1
pausemovetime = 999999
supermovetime = 999999
facing = facing*ifelse(teamside=1,1,-1)


[State 3001, Super]
type = Helper
triggerall = !NumHelper(8600)
trigger1 = stateno = 3102 && animelem = 64
id = 8600
name = "FireEffect_Down"
pos = 0,0
postype = P2
stateno = 8600
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
pausemovetime = 99999999*(var(0)>0)


[State -2, Combo]
type = VarSet
trigger1 = !NumHelper(8600)
trigger2 = !numtarget
var(27) = 0
ignorehitpause = 1

[State -2, Combo]
type = VarSet
trigger1 = stateno = 3100 && time = 60 && var(41) = 1
var(27) = 1
ignorehitpause = 1


[State -2, Combo]
type = VarSet
trigger1 = numenemy
trigger1 = enemy,MoveType != H
var(42) = 0
ignorehitpause = 1

[State -2, Combo]
type = VarAdd
trigger1 = movehit
trigger2 = projHit = 1
var(42) = 1
ignorehitpause = 1

[State -2, Combo]
type = VarSet
trigger1 = movehit
trigger2 = projHit = 1
var(41) = ifelse(movehit,1,3)
ignorehitpause = 1

[State -2, Combo]
type = VarSet
trigger1 = moveguarded
trigger2 = projGuarded = 1
var(41) = ifelse(moveguarded,2,4)
ignorehitpause = 1

[State -2, Combo]
type = VarSet
trigger1 = Time = 1
var(41) = 0
ignorehitpause = 1

[State -2, MoveContact]
type = MoveHitReset
trigger1 = MoveContact
ignorehitpause = 1


[State -2,KO]
type = VarAdd
trigger1 = roundstate = 3
ignorehitpause = 1
var(44) = 1

[State -2,KO]
type = VarSet
trigger1 = roundstate != 3
ignorehitpause = 1
var(44) = 0






[State 52, RemoveAfterImage]
type = AfterImageTime
trigger1 = movetype = H
time = 0


[State -2,KO]
type = Varset
trigger1 = roundstate = 0
var(0) = 0

[State -2,KO]
type = Varset
trigger1 = roundstate = 0
var(1) = 0

[State -2,KO]
type = Varset
trigger1 = roundstate = 0
var(2) = 0

[State -2,KO]
type = Varset
trigger1 = roundstate = 0 && roundno = 1
var(7) = 0

[State -2,KO]
type = Varset
trigger1 = roundstate = 0
var(8) = 0

[State -2,KO]
type = Varset
trigger1 = roundstate = 0
var(11) = 0

[State -2,KO]
type = Varset
trigger1 = roundstate = 0
var(13) = 0

[State -2,KO]
type = Varset
trigger1 = roundstate = 0
var(19) = 0

[State -2,KO]
type = Varset
trigger1 = roundstate = 0 && roundno = 1
var(20) = 0

[State -2,KO]
type = Varset
trigger1 = roundstate = 0 && roundno = 1
var(21) = 0

[State -2,KO]
type = Varset
trigger1 = roundstate = 0 && roundno = 1
var(22) = 0

[State -2,KO]
type = Varset
trigger1 = roundstate = 0 && roundno = 1
var(23) = 0

[State -2,KO]
type = Varset
trigger1 = roundstate = 0
var(49) = 0

[State -2,KO]
type = Varset
trigger1 = roundstate = 0
var(58) = 0

[State -2,KO]
type = Varset
trigger1 = roundstate = 0
fvar(14) = 0

[State -2,KO]
type = Varset
trigger1 = roundstate = 0
fvar(15) = 0


[State -2, 1]
type = VarSet
trigger1 = roundstate <= 2
fvar(38) = 0

[State -2, 1]
type = VarSet
trigger1 = stateno = 3401 && movehit
trigger2 = stateno = 3411 && movehit
trigger3 = stateno = [3200,3299]
trigger4 = stateno = 3602
trigger5 = stateno = 3653
fvar(38) = 1
ignorehitpause = 1

[State -2, 1]
type = VarSet
trigger1 = stateno = 3501
trigger2 = stateno = 3552
fvar(38) = 2
ignorehitpause = 1

[State -2, 1]
type = VarSet
trigger1 = stateno = 3302
trigger2 = stateno = 3352
fvar(38) = 5
ignorehitpause = 1

[State -2, 1]
type = VarSet
trigger1 = stateno = 3102
trigger2 = stateno = 3103
fvar(38) = 6
ignorehitpause = 1


[State -2, 1]
type = VarSet
trigger1 = 1
fvar(39) = 5


[State -2, 1]
type = VarSet
triggerall = numenemy
triggerall = roundstate = 2
trigger1 = enemy,authorname = "warusaki3" && enemy,fvar(39) = 1
trigger2 = enemy,authorname = "Hh" && enemy,fvar(39) = 1
trigger3 = enemy,authorname = "mouser" && (P2Name = "Hibiki Takane" || P4Name = "Hibiki Takane")
var(52) = 1


[State -2, 1]
type = VarSet
trigger1 = 1
fvar(20) = 0

[State -2, 1]
type = VarSet
triggerall = numenemy
trigger1 = enemynear,authorname="warusaki3" && enemynear,fvar(39)=1 && enemynear,var(13)
trigger2 = enemynear,authorname="warusaki3" && (enemynear,fvar(39)=[4,5]) && enemynear,NumHelper(9000)
trigger3 = enemynear,authorname="SUMI" && enemynear,name="Destrudo Ryu" && enemynear,var(16)=1
fvar(20) = 1
ignorehitpause = 1


[State 1000, Spark]
type = Explod
trigger1 = WinKo && var(44) = 1
anim = 8790
id = 8790
pos = 0,0
postype = Left
ontop = 1
bindtime = -1
pausemovetime = 99999999
supermovetime = 99999999
ignorehitpause = 1
scale = .84,1.08

[State -2, HyperComboFinish]
type = PlaySnd
trigger1 = WinKo && var(44) = 1
value = 9000,0
ignorehitpause = 1


[State 220, Voice]
type = PlaySnd
trigger1 = stateno = 3102
trigger1 = WinKo && var(44) = 1
value = 2, 4
ignorehitpause = 1


[State -2, HyperComboFinish]
type = null;Helper
triggerall = LoseKo && !NumHelper(9000) && !fvar(20)
triggerall = var(44) = 1
trigger1 = enemynear,authorname="warusaki3" && (enemynear,fvar(39)=[4,5]) && enemynear,fvar(38)=2
trigger2 = enemynear,authorname="warusaki3" && enemynear,name="blackpolnareff" && enemynear,stateno = 3101
trigger3 = enemynear,authorname="y.y" && enemynear,name="Hol horse" && (enemy,stateno = 3000 || enemy,stateno = 3002 || enemy,stateno = 3005)
trigger4 = enemynear,authorname="y.y" && enemynear,name="Hol horse & Boingo" && (enemy,stateno = 3000 || enemy,stateno = 3002 || enemy,stateno = 3005)
trigger5 = enemynear,authorname="y.y" && enemynear,name="Robo Rock Type-2" && enemynear,stateno = 3020
trigger6 = enemynear,name="morrigan by ryokucha" && enemynear,stateno = 3300
trigger7 = enemynear,authorname="KGenjuro" && enemynear,name="Yagyu Jubei" && enemy,stateno = 6610
trigger8 = enemynear,authorname="Baby Bonnie Hood" && enemynear,name="Baby Bonnie Hood" && (enemynear,stateno = 3000 || enemynear,stateno = 3050)
trigger9 = enemynear,authorname="Phantom.of.the.Server" && enemynear,name="Morrigan Aensland" && enemynear,stateno = 3300
ID = 9000
stateno = 9001
postype = left
pos = -999,-999
ownpal = 1
pausemovetime = 99999999
supermovetime = 99999999
ignorehitpause = 1

[State -2, HyperComboFinish]
type = null;Helper
triggerall = LoseKo && !NumHelper(9000) && !fvar(20)
triggerall = var(44) = 1
trigger1 = enemynear,authorname="warusaki3" && (enemynear,fvar(39)=[4,5]) && enemynear,fvar(38)=3
trigger2 = enemynear,authorname="warusaki3" && enemynear,name="blackpolnareff" && enemynear,stateno = 3001
trigger3 = enemynear,authorname="warusaki3" && enemynear,name="cvshaohmaru" && (enemynear,stateno = 3200 || enemynear,stateno = 3310)
trigger4 = enemynear,authorname="warusaki3" && enemynear,name="cvshaohmaru_normal" && (enemynear,stateno = 3200 || enemynear,stateno = 3310)
trigger5 = enemynear,authorname="warusaki3" && enemynear,name="cvshaohmaru_ex" && (enemynear,stateno = 3200 || enemynear,stateno = 3310)
trigger6 = enemynear,authorname="warusaki3" && enemynear,name="cvslilith" && (enemynear,stateno = 3100 || enemynear,stateno = 3201 || enemynear,stateno = 3211)
trigger7 = enemynear,authorname="warusaki3" && enemynear,name="cvshayato" && enemynear,stateno = 3000
trigger8 = enemynear,authorname="mouser" && enemynear,name="hibiki takane" && (enemynear,stateno = 3001 || enemynear,stateno = 3110 || enemynear,stateno = 3120)
trigger9 = enemynear,authorname="warusaki3" && enemynear,name="nakoruruss0" && enemynear,stateno = 871
trigger10 = enemynear,authorname="mouser" && enemynear,name="hanzo" && (enemynear,stateno = 3001 || enemynear,stateno = 3012)
trigger11 = enemynear,name="Tin's Kibagami" && enemynear,stateno = 3330
trigger12 = enemynear,name="Tin's Shiki" && enemynear,stateno = 3300
trigger13 = enemynear,authorname="Hh" && enemynear,name="CHOI BOUNGE" && enemynear,stateno = [3500,3501]
trigger14 = enemynear,authorname="Hh" && enemynear,name="Malin" && enemynear,stateno = [3600,3601]
trigger15 = enemynear,authorname="laiso_7" && enemynear,name="SHIKI" && enemynear,stateno = 4100
trigger16 = enemynear,authorname="Nyankoro" && enemynear,name="zantetsu" && (enemynear,stateno = 3321 || enemynear,stateno = 3544)
trigger17 = enemynear,authorname="M.M.R." && enemynear,name="Lilith" && (enemynear,stateno = 3040 || enemynear,stateno = 3140)
trigger18 = enemynear,authorname="taruse" && enemynear,name="Yumeji Kurokouchi" && (enemynear,stateno = 4523 || enemynear,stateno = 13050)
trigger19 = enemynear,authorname="tukemon" && enemynear,name="Rimururu" && enemynear,stateno = 4701
trigger20 = enemynear,authorname="PriPri Man" && enemynear,name="Rimururu" && enemynear,stateno = 3501
trigger21 = enemynear,authorname="PriPri Man" && enemynear,name="Mina" && enemynear,stateno = 3501
trigger22 = enemynear,authorname="Capuchino" && enemynear,name="Haohmaru" && (enemynear,stateno = 3200 || enemynear,stateno = 4051)
trigger23 = enemynear,authorname="Capuchino" && enemynear,name="Shizumaru" && enemynear,stateno = 4051
trigger24 = enemynear,authorname="Roque" && enemynear,name="Rera" && enemynear,stateno = 3610
trigger25 = enemynear,authorname="KGenjuro" && enemynear,name="Yagyu Jubei" && enemy,stateno = 6030
ID = 9000
stateno = 9002
postype = left
pos = -999,-999
ownpal = 1
pausemovetime = 99999999
supermovetime = 99999999
ignorehitpause = 1

[State -2, HyperComboFinish]
type = null;Helper
triggerall = LoseKo && !NumHelper(9000) && !fvar(20)
triggerall = var(44) = 1
trigger1 = enemynear,authorname="warusaki3" && (enemynear,fvar(39)=[4,5]) && enemynear,fvar(38)=4
trigger2 = enemynear,authorname="warusaki3" && enemynear,name="cvsgouki" && enemynear,stateno = 3400
trigger3 = enemynear,authorname="warusaki3" && enemynear,name="cvsgouki_ex" && enemynear,stateno = 3400
trigger4 = enemynear,authorname="warusaki3" && enemynear,name="cvsrugal" && enemynear,stateno = 3100
trigger5 = enemynear,authorname="warusaki3" && enemynear,name="cvsrugal_normal" && enemynear,stateno = 3100
trigger6 = enemynear,authorname="warusaki3" && enemynear,name="cvsrugal_ex" && enemynear,stateno = 3100
trigger7 = enemynear,authorname="warusaki3" && enemynear,name="cvsg_rugal" && enemynear,stateno = 3100
trigger8 = enemynear,authorname="warusaki3" && enemynear,name="cvsjill" && enemynear,stateno = 3202
trigger9 = enemynear,authorname="warusaki3" && enemynear,name="cvshaohmaru" && (enemynear,stateno = 3000 || enemynear,stateno = 3102)
trigger10 = enemynear,authorname="warusaki3" && enemynear,name="cvshaohmaru_normal" && (enemynear,stateno = 3000 || enemynear,stateno = 3102)
trigger11 = enemynear,authorname="warusaki3" && enemynear,name="cvshaohmaru_ex" && (enemynear,stateno = 3000 || enemynear,stateno = 3102)
trigger12 = enemynear,authorname="warusaki3" && enemynear,name="cvshayato" && (enemynear,stateno = 3011 || enemynear,stateno = 3200 || enemynear,stateno = 3301)
trigger13 = enemynear,authorname="mouser" && enemynear,name="hibiki takane" && enemynear,stateno = 3201
trigger14 = enemynear,authorname="bad darkness" && enemynear,name="khan" && (enemynear,stateno = 2003 || enemynear,stateno = 2102 || enemynear,stateno = 2200)
trigger15 = enemynear,authorname="bad darkness" && enemynear,name="Adel" && (enemynear,stateno = 1402 || enemynear,stateno = 1403 || enemynear,stateno = 2200)
trigger16 = enemynear,name="Tin's Kibagami" && (enemynear,stateno = 3010 || enemynear,stateno = 3400 || enemynear,stateno = 3410 || enemynear,stateno = 3511 || enemynear,stateno = 3600)
trigger17 = enemynear,name="Tin's Shiki" && enemynear,stateno = 3030
trigger18 = enemynear,authorname="laiso_7" && enemynear,name="SHIKI" && enemynear,stateno = [3000,3099]
trigger19 = enemynear,authorname="Nyankoro" && enemynear,name="zantetsu" && (enemynear,stateno = 3000 || enemynear,stateno = 3010 || enemynear,stateno = 3105 || enemynear,stateno = 3300)
trigger20 = enemynear,authorname="Nyankoro" && enemynear,name="zantetsu" && (enemynear,stateno = 3310 || enemynear,stateno = 3325 || enemynear,stateno = 3511 || enemynear,stateno = 3516 || enemynear,stateno = 3535)
trigger21 = enemynear,authorname="adamskie" && enemynear,name="Laurence" && enemynear,stateno = 3000
trigger22 = enemynear,authorname="AOAO" && enemynear,name="JOHNNY" && (enemynear,stateno = 2401 || enemynear,stateno = 3012)
trigger23 = enemynear,authorname="MEKA" && enemynear,name="Chipp Zanuff" && (enemynear,stateno = 3860 || (enemynear,stateno = [3012,3016]) || enemynear,stateno = 3237 || enemynear,stateno = 3503)
trigger24 = enemynear,authorname="MEKA" && enemynear,name="May" && enemynear,stateno = 3001
trigger25 = enemynear,authorname="MEKA" && enemynear,name="Ky Kiske" && enemynear,stateno = 3500
trigger26 = enemynear,authorname="Capuchino" && enemynear,name="Haohmaru" && enemynear,stateno = [3000,3030]
trigger27 = enemynear,authorname="Capuchino" && enemynear,name="Shizumaru" && (enemynear,stateno = 3001 || enemynear,stateno = 3103)
trigger28 = enemynear,authorname="KGenjuro" && enemynear,name="Tachibana Ukyo" && (enemynear,stateno = 4050 || enemynear,stateno = 4060 || enemynear,stateno = 4210 || enemynear,stateno = 4270 || enemynear,stateno = 6510)
trigger29 = enemynear,authorname="yuto" && enemynear,name="zankuro" && enemynear,stateno = 4001
trigger30 = enemynear,authorname="Phantom.of.the.Server" && enemynear,name="Morrigan Aensland" && enemynear,stateno = 3100
ID = 9000
stateno = 9003
postype = left
pos = -999,-999
ownpal = 1
pausemovetime = 99999999
supermovetime = 99999999
ignorehitpause = 1

[State -2, HyperComboFinish]
type = null;Helper
triggerall = LoseKo && !NumHelper(9000) && !fvar(20)
triggerall = var(44) = 1
trigger1 = enemynear,authorname="warusaki3" && (enemynear,fvar(39)=[4,5]) && enemynear,fvar(38)=5
trigger2 = enemynear,authorname="bad darkness" && enemynear,name="Demitri" && enemynear,stateno = 2011
trigger3 = enemynear,authorname="Deuce" && enemynear,name="Jedah" && (enemynear,stateno = 3040 || enemynear,stateno = 3145)
trigger4 = enemynear,authorname="warusaki3" && enemynear,name="cvshaohmaru" && enemynear,stateno = 3320
ID = 9000
stateno = 9004
postype = left
pos = -999,-999
ownpal = 1
pausemovetime = 99999999
supermovetime = 99999999
ignorehitpause = 1

[State -2, HyperComboFinish]
type = null;Helper
triggerall = LoseKo && !NumHelper(9000) && !fvar(20)
triggerall = var(44) = 1
trigger1 = enemynear,authorname="warusaki3" && (enemynear,fvar(39)=[4,5]) && enemynear,fvar(38)=6
ID = 9000
stateno = 9005
postype = left
pos = -999,-999
ownpal = 1
pausemovetime = 99999999
supermovetime = 99999999
ignorehitpause = 1

[State -2, HyperComboFinish]
type = null;Helper
triggerall = LoseKo && !NumHelper(9000) && !fvar(20)
triggerall = var(44) = 1
trigger1 = enemynear,authorname="warusaki3" && (enemynear,fvar(39)=[4,5]) && enemynear,fvar(38)=1
trigger2 = enemynear,stateno = [3000,4999]
ID = 9000
stateno = 9000
postype = left
pos = -999,-999
ownpal = 1
pausemovetime = 99999999
supermovetime = 99999999
ignorehitpause = 1


[State -2, win]
type = helper
triggerall = win
triggerall = !var(55) || (!var(56) && matchover)
trigger1 = roundstate = 4
trigger1 = !alive
trigger1 = numpartner
trigger1 = partner,authorname="warusaki3" && partner,fvar(39) = [4,6]
trigger1 = partner,NumHelper(6600)
trigger1 = !NumHelper(6600)
stateno = 6600
ID = 6600
pos = 0,100
name = "win"
pausemovetime = 999999999
supermovetime = 999999999


[State -2, DEBUG]
trigger1 = 1
type = null;DisplayToClipboard
ignorehitpause = 1
text = "MAX = %d Hit= %d Counter =%d Hit1 = %d Bit2 = %d \n "
params = var(15), var(14), var(0), var(2), prevstateno
ignorehitpause = 1

[Statedef -3]

[State -3, Regeneration]
type = LifeAdd
triggerall = Alive = 1
trigger1 = (GameTime%60) = 0
ignorehitpause = 0
value = 1

;  --- Uno Tag System v3.2.1 STATEDEF -3 ---


; Tag active definer
[State -2, def]
type = VarSet
triggerall = NumPartner
trigger1 = sysvar(4) = [8,9]
trigger1 = !(Partner, Life) || (Partner, StateNo = [1251110,1251114])
trigger2 = Partner, StateNo = [1251110,1251114]
trigger2 = sysvar(4) != [2,15] 
trigger3 = sysvar(4) = 5
trigger3 = Roundstate = 2 && StateNo = [1251111,1251114]
trigger4 = sysvar(4) = 14
trigger4 = MoveType = H && Partner, StateNo = [1251101,1251133]
trigger5 = sysvar(4) = 15 && NumEnemy
trigger5 = EnemyNear, StateNo = [0,50]
trigger6 = sysvar(4) = 15 && StateNo != [1251101,1251133]
trigger6 = NumTarget = 0 && Partner, NumTarget = 0
sysvar(4) = 1

[State -2, def_Partner]
type = VarSet
trigger1 = numpartner
trigger1 = teammode = simul
trigger1 = roundstate < 1
sysvar(4) = 1 + ((ID > Partner, ID)*4)

[State -3, enterTheScreen]
type = ChangeState
trigger1 = sysvar(4)
trigger1 = NumPartner
trigger1 = StateNo = [1251112,1251114]	
trigger1 = Life 
trigger1 = (Partner, StateNo = [1251109,1251111]) || (Partner, StateNo = 1251125 && Partner, Time > 0)
trigger1 = (Partner, StateNo != 1251110) || (Partner, StateNo = 1251110	&& Partner, Time > 24)
value = ifelse((Partner, StateNo = 1251125),1251131,1251101)

; Jump into the screen (Change Attack)
[State -3, enterTheScreen]
type = ChangeState
triggerall = sysvar(4)
triggerall = NumPartner
triggerall = StateNo = 1251112 && Life
trigger1 = ((Partner, StateNo = 1251126 && Partner, Time > 0) || Partner, PrevStateNo = 1251126)
trigger2 = Partner, NumHelper(1251105)
value = 1251102

; Jump into the screen (Game is OVER)
[State -3, enterTheScreen]
type = ChangeState
triggerall = sysvar(4)
triggerall = NumPartner
trigger1 = Alive
trigger1 = StateNo = [1251112,1251114]
trigger1 = Time > 0
trigger1 = roundstate > 2
trigger1 = Win || LoseTime || WinTime || drawgame
value = 1251120

[State -3, NoJC]
type = AssertSpecial
triggerall = NumPartner
trigger1 = Partner, sysvar(4) = [12,13]
trigger2 = sysvar(4) = [8,9]
trigger3 = PrevStateNo = [1251112,1251133]
trigger4 = sysvar(4) = 15 && Partner, Time < 150
flag = nojugglecheck
ignorehitpause = 1

[State -3, RemoveExplod]
type = RemoveExplod
trigger1 = StateNo = [1251110,1251113]
trigger2 = !Life
trigger3 = StateNo = [1251126,1251127]

[State -3, Quiet]
type = AssertSpecial
trigger1 = NumPartner
trigger1 = Partner, sysvar(4) = 7
trigger1 = !Alive && !NumHelper(1251130)
flag = nokosnd

[State -3, Dark]
type = AssertSpecial
triggerall = numpartner
trigger1 = StateNo = 1251106
trigger2 = StateNo = 1251127 || Partner, StateNo = 1251127
trigger3 = NumHelper(1251101) && StateNo = 1251131 && Partner, StateNo != 1251125
flag = noBG
flag2 = noFG
flag3 = Timerfreeze
ignorehitpause = 1

[State -3, leavefx]
type = PalFx
trigger1 = StateNo = 1251111
trigger2 = StateNo = 1251127
trigger3 = (sysvar(4) = [8,9]) && StateNo = 1251110 && Time > 12
trigger4 = StateNo = 1251110 && Time > 14
Time = 2
add = 0,0,0
mul = 150,150,150

[State -3, InvBG]
type = BgPalFx
trigger1 = NumHelper(1251130)
trigger2 = StateNo = 1251106
Time = 2
color = 0
invertall = 1
add = -16 -ceil(cos(gameTime / 60.0 * pi) * 16), -16 -ceil(cos(gameTime / 60.0 * pi) * 16), -16 -ceil(cos(gameTime / 60.0 * pi) * 16)
ignorehitpause = 1

[State -3, InvChar]
type = PalFx
triggerall = NumEnemy
trigger1 = (Enemy, PrevStateNo = [1251128,1251129]) || (EnemyNear, PrevStateNo = [1251128,1251129])
trigger2 = Enemy, StateNo = 1251106 || EnemyNear, StateNo = 1251106
Time = 2
color = 0
add = -16 -ceil(cos(gameTime / 60.0 * pi) * 16), -16 -ceil(cos(gameTime / 60.0 * pi) * 16), -16 -ceil(cos(gameTime / 60.0 * pi) * 16)
ignorehitpause = 1

[State -3, Invert]
type = PalFx
trigger1 = PrevStateNo = [1251128,1251129]
Time = 10
invertall = 1
mul = 150, 150, 150

[State -3, SuperPause]
type = SuperPause
triggerall = NumPartner
trigger1 = Partner, StateNo = 1251106
trigger1 = NumHelper(1251130)
trigger2 = NumHelper(1251101) && Partner, StateNo != 1251125
trigger2 = MoveType != H
Time = 10
anim = -1
sound = -1
moveTime = 10
darken = 1
p2defmul = 0
unhittable = 1
pausebg = 1

[State -3, NoAirGuard]
type = AssertSpecial
trigger1 = NumPartner
trigger1 = sysvar(4) = 8
trigger1 = Movetype = A
trigger1 = prevStateNo = 1251133
flag = Noairguard
flag2 = nojugglecheck
flag3 = nowalk
ignorehitpause = 1

[State -3, aHit]
Type = VarSet
Triggerall = sysvar(4) = 8 && Roundstate = 2
triggerall = NumPartner 
triggerall = Partner, Alive
trigger1 = Movetype = H
trigger2 = StateNo = [5000,5990]
trigger3 = StateNo = [150,151]
sysvar(4) = 9

[State -3, bangon]
type = SelfState
trigger1 = NumPartner
trigger1 = sysvar(4) = 9
trigger1 = Alive && Partner, Alive
trigger1 = StateNo != 5120
trigger1 = StateNo = 5110 || Anim = 5110
trigger1 = Time >= 12
value =5120

[State -3, leavePA]
type = SelfState
triggerall = NumPartner
triggerall = sysvar(4) = [8,9]
triggerall = StateType != A || prevStateNo = [5000,5500]
trigger1 = Roundstate = 2
trigger1 = Life && Partner, life
trigger1 = Partner, StateNo != [1251101,1251135]
trigger1 = StateNo != [200,1251199]
trigger1 = MoveType != H || ((StateNo = [5110, 5120]) && (Time >= 19 || AnimElemTime(4) >= 1))
value = ifelse((sysvar(4)=9 || (StateNo = [150,151])),1251111,1251110)
ctrl = 0

[State -3, LE]
type = SelfState
trigger1 = StateNo = 7828
trigger1 = PrevStateNo = [1251110,1251114] 
trigger2 = sysvar(4) = [8,9]
trigger2 = Anim = 100 && StateNo != [1251101,1251133]
trigger3 = sysvar(4) = 5
trigger3 = PrevStateNo = [1251110,1251114] 
trigger3 = StateNo != [1251101,1251133]
value = 1251111

[State -3, leaveIntro]
type = SelfState
triggerall = sysvar(4) = 5
triggerall = NumPartner
trigger1 = Roundstate >= 2
trigger1 = StateNo != [1000,1251199]
value = 1251110
ctrl = 0

[State -3, fromdark]
type = Helper
trigger1 = sysvar(4) = 7 && !NumHelper(1251139)
trigger1 = PrevStateNo = 1251106
trigger1 = Time <= 25
Helpertype = Normal
ID = 1251139
StateNo = 1251130
name = "dark"
ownpal = 1
supermoveTime = 9999
pausemoveTime = 9999

[State -3, sb_PA]
type = ScreenBound
trigger1 = NumPartner
trigger1 = sysvar(4) = [8,9]
value = ifelse(MoveType = A,1,0)
movecamera = 0,0

[State -3, NoCtrl]
type = CtrlSet
trigger1 = NumPartner
trigger1 = StateNo != [1251111,1251112]
trigger1 = sysvar(4) = [8,9]
value = ifelse((Partner, Alive),0, 1)

[State -3, Party]
type = AssertSpecial
triggerall = NumPartner
triggerall = Partner, StateNo != [1251110,1251114]
trigger1 = Partner, sysvar(4) = 2
trigger1 = Movetype != A
trigger1 = StateNo != [5000,5500]
trigger1 = Partner, StateNo != [5000,5500]
trigger1 = prevStateNo != [5000,5500]
flag = nojugglecheck
;flag2 = nowalk


[State -3, fadeOut]
type = Trans
triggerall = NumPartner
trigger1 = !Life && Partner, Life
;trigger1 = RoundState = 2 || Partner,sysvar(4) = 7
trigger1 = Partner, sysvar(4) = 7
trigger1 = StateNo = 5150
Trans = addalpha
alpha = (256-ifelse((Partner,sysvar(4) = 7),(Time *3),(Time*2))), (Time*Time)

[State -3, fadeOut]
type=assertspecial
triggerall = numpartner
triggerall = alive=0 && !ishelper && Partner, sysvar(4) && RoundState = 2
trigger1=stateno=5150 && (((time=[80,150])&&(time%10<5))||(time>150))
trigger1=(partner,stateno!=stateno)||((partner,stateno=stateno)&&(partner,time<time))
flag=invisible
flag2=noshadow

[state -3, fadeOut]
type=posset
triggerall = numpartner
trigger1 = sysvar(4)
trigger1=stateno=5150 && alive=0 && !ishelper && (time>150)
trigger1=(partner,stateno!=stateno)||((partner,stateno=stateno)&&(partner,time<time))
trigger1 = Partner, sysvar(4)
y=-3

[state -3, dead_Var]
type = VarSet
triggerall = numpartner
triggerall = !Alive
triggerall = RoundState = 2
triggerall = StateNo = [5131,5150]
triggerall = Partner, sysvar(4)
trigger1 = Time >= 125
trigger2 = Partner, sysvar(4) = 7
trigger2 = Time >= 85
sysvar(4) = 6

[state -3, awake_Var]
type = VarSet
triggerall = NumPartner 
triggerall = roundstate = 2
trigger1 = Alive
trigger1 = sysvar(4) = 6
trigger2 = Partner, Life
trigger2 = sysvar(4) = 7
sysvar(4) = 1

[state -3, offME]
type = NotHitBy
triggerall = NumPartner
trigger1 = sysvar(4) = 6
trigger2 = StateNo = 1251128 || PrevStateNo = 1251128
trigger3 = Partner, sysvar(4) = 6
trigger3 = (StateNo = [1251101,1251116]) || (StateNo = [1251120,1251133])
value = SCA

[state -3, disa2]
type = SelfState
trigger1 = RoundState = 2
trigger1 = StateNo = [5110,5150]
trigger1 = sysvar(4) = 6
value = 1251113

[state -3, Ghost]
type = AssertSpecial
triggerall = !Alive
triggerall = RoundState >= 2
triggerall = sysvar(4) = 6
trigger1 = Anim = [5000,5600]
trigger2 = PrevStateNo = [1251113,1251121]
flag = invisible
flag2 = noshadow
ignorehitpause = 1

[State -3, EndLife]
type = LifeAdd
triggerall = RoundState = 2
trigger1 = PrevStateNo = 1251129
trigger2 = sysvar(4) = 6
value = -LifeMax

[State -3, END]
type = PosSet
trigger1 = NumPartner
trigger1 = roundstate > 2
trigger1 = !Alive
trigger1 = PrevStateNo = 1251113
x = (Partner, pos x) - 5000*facing
y = 0

[State -3, 1251129]
type = LifeAdd
trigger1 = PrevStateNo = 1251129 && Time > 1
value = -LifeMax

[State -3, 1251129]
type = SelfState
trigger1 = StateNo < 5000
trigger1 = PrevStateNo = 1251129 && AnimElemNo(3) = 7
value = 5150

[State -3, Aura]
type=Helper
triggerall= !NumHelper(1251124)
trigger1 = sysvar(4) = 7 && MoveType = I && (StateNo = 1251106 || Life <= (LifeMax*.2))
Helpertype=normal
StateNo=1251124
ID=1251124
name="AURA"
postype=p1
ownpal = 1
pausemoveTime=99999
supermoveTime=99999

[State -3, T_T]
type = ScreenBound
trigger1 = roundstate > 2
trigger1 = !Alive
trigger1 = PrevStateNo = 1251113
;trigger2= EnemyNear, NumHelper(1251107) || Enemy, NumHelper(1251107)
value = 0
movecamera = 0,0

[State -3, T_T]
type = PosFreeze
trigger1 = NumEnemy
trigger1 = EnemyNear, NumHelper(1251107) || Enemy, NumHelper(1251107)
trigger2 = PrevStateNo = 1251121
trigger3 = StateNo = 1251125

[State -3, T_T]
type = SelfState
triggerall = NumPartner
triggerall = sysvar(4) > 0
trigger1 = RoundState = 2  && Pos Y < 0
trigger1 = StateNo = 0 && (Partner, StateNo != [1251112,1251114])
trigger1 = PrevStateNo = [1251112,1251114]
value = 1251112

[State -3, wait out]
type = ChangeState
triggerall = NumPartner
triggerall = RoundState = 2
triggerall = Life && Partner, Life
triggerall = StateNo != [1251110,1251114]
trigger1 = sysvar(4) = 2				; performed team attack
trigger1 = (PrevStateNo = [5000,5500]) || (StateNo != [200,1251199]) && (MoveType != H)
trigger2 = sysvar(4) = 4         		; performed Delayed Cancel
trigger2 = MoveType = I || ((Partner, prevStateNo = 1251131 || Partner, StateNo != [1251101,1251135]) && Time > 1)
trigger3 = sysvar(4) = 3          	; performed Cross Attack
trigger3 = (StateNo = 1251126 && Time > 1) && ((Partner, StateNo = 1251102 && Partner, BackEdgeBodyDist > 15) || Partner, PrevStateNo = [1251115,1251116])
trigger4 = (sysvar(4) = [2,4]) && MoveType = I && (StateNo != [1251101,1251133])
trigger5 = NumHelper(1251125)
trigger5 = StateNo = [0,199]
value = 1251111
ctrl = 0
ignorehitpause = 1

; ---- Uno Tag System v3.2 END LINE ----

;  ;]

[State -2,KO]
type = Varset
trigger1 = 1
var(30) = gametime+1


[State -3]
type = ChangeState
triggerall = stateno != [5000,5999]
triggerall = stateno != [15000,15999]
triggerall = !IsHelper
triggerall = numhelper(10000)
trigger1 = helper(10000),stateno = 12200
trigger1 = helper(10000),time = 1
trigger1 = statetype != A && helper(10000),GetHitVar(groundtype) = 3
trigger2 = helper(10000),stateno = 12200
trigger2 = helper(10000),time = 1
trigger2 = statetype = A && helper(10000),GetHitVar(airtype) = 3
trigger3 = helper(10000),stateno = 12201
trigger3 = statetype != A && helper(10000),GetHitVar(groundtype) = 3
trigger4 = helper(10000),stateno = 12201
trigger4 = statetype = A && helper(10000),GetHitVar(airtype) = 3
value = 15070
ctrl = 0

[State -3]
type = ChangeState
triggerall = stateno != [5000,5999]
triggerall = stateno != [15000,15999]
triggerall = !IsHelper
triggerall = statetype = S
triggerall = numhelper(10000)
trigger1 = helper(10000),stateno = 12200
trigger1 = helper(10000),time = 1
trigger2 = helper(10000),stateno = 12201
value = 15000
ctrl = 0

[State -3]
type = ChangeState
triggerall = stateno != [5000,5999]
triggerall = stateno != [15000,15999]
triggerall = !IsHelper
triggerall = statetype = C
triggerall = numhelper(10000)
trigger1 = helper(10000),stateno = 12200
trigger1 = helper(10000),time = 1
trigger2 = helper(10000),stateno = 12201
value = 15010
ctrl = 0

[State -3]
type = ChangeState
triggerall = stateno != [5000,5999]
triggerall = stateno != [15000,15999]
triggerall = !IsHelper
triggerall = statetype = A
triggerall = numhelper(10000)
trigger1 = helper(10000),stateno = 12200
trigger1 = helper(10000),time = 1
trigger2 = helper(10000),stateno = 12201
value = 15020
ctrl = 0

[State -3, GetHurt Sound]
type = PlaySnd
triggerall = Random < 500
triggerall = Time = 1
triggerall = Alive = 1
trigger1 = StateNo = 5000 || StateNo = 5010 || StateNo = 5020 || StateNo = 5070 || StateNo = 5100 || StateNo = 15000 || StateNo = 15010 || StateNo = 15020 || StateNo = 15070 || StateNo = 15100
value = 5000, ifelse(StateNo = 5100 || StateNo = 15100 || GetHitVar(animtype) = 2, 2, ifelse(GetHitVar(animtype) = 1, 1, 0))
channel = 10

[State 3000, Voice]
type = PlaySnd
triggerall = Time = 1
trigger1 = StateNo = 5201 || StateNo = 5210
value = 0, 0
channel = 1

[State 820, Voice]
type = Stopsnd
triggerall = var(0) != 2
trigger1 = StateNo = 5000 || StateNo = 5010 || StateNo = 5020 || StateNo = 5070 || StateNo = 5100 || StateNo = 15000 || StateNo = 15010 || StateNo = 15020 || StateNo = 15070 || StateNo = 15100
trigger2 = StateNo = 150 || StateNo = 152 || StateNo = 154
trigger3 = (StateNo = 0 || (StateNo = [99900,99901])) && (PrevStateno = [190,194]) && time = 1
channel = 0
