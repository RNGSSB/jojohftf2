;---------------------------------------------------------------------------
; 基本データ
;---------------------------------------------------------------------------
[Data]
life              = 1000   ;ライフ（体力ゲージ）最大値
power             = 10000   ;パワーゲージ最大値
attack            = 60    ;攻撃力（デフォルトは１００％）
defence           = 100    ;防御力（デフォルトは１００％）
fall.defence_up   = 50     ;横に倒れている時に一時的に加える防御力（％）
liedown.time      = 35     ;横に倒れている時間（フレーム）
airjuggle         = 15     ;ジャグルポイント限界値（「小ネタ.txt」参照）
sparkno           = 2      ;デフォルトのヒットスパーク（fightfxから）
guard.sparkno     = 40     ;デフォルトのガードスパーク（fightfxから）
KO.echo           = 0      ;ＫＯ時の音声（11,0）にエコーを掛けるか否か（0=掛けない,1=掛ける）
volume            = 255      ;キャラの標準の音量（最小-255・最大255）
IntPersistIndex   = 59    ;次のラウンドへ持ち越せる「Var」のアドレスの範囲を決める
FloatPersistIndex = 40     ;次のラウンドへ持ち越せる「FVar」のアドレスの範囲を決める

;---------------------------------------------------------------------------
; サイズ
;---------------------------------------------------------------------------
[Size]
xscale = 1			;水平方向の縮尺（通常１）
yscale = 1			;垂直方向の縮尺（通常１）
ground.back = 16		;キャラの幅(後方,地上)
ground.front = 16		;キャラの幅(前方,地上)
air.back = 15			;キャラの幅(後方,空中)
air.front = 15		;キャラの幅(前方,空中)
height = 65			;キャラの高さ
attack.dist = 160		;攻撃をした時相手がガード体制に入る最低距離
proj.attack.dist = 90	;攻撃をした時相手がガード体制に入る最低距離（飛び道具）
proj.doscale = 0		;上で設定した縮尺を飛び道具にも適用するか（１でＯＮ）   
head.pos = -6, -105		;頭の大体の座標
mid.pos = 8, -72		;体の中心の大体の座標
shadowoffset = 0		;影の垂直方向のオフセット
draw.offset = 0,0		;使用しない

;---------------------------------------------------------------------------
; 移動速度
;---------------------------------------------------------------------------
[Velocity]
walk.fwd     = 2.85        ;前進速度（Ｘ軸・[Statedef 20]に適用される）
walk.back    = -2.7        ;後退速度（Ｘ軸・[Statedef 20]に適用される）
run.fwd      = 5,0       ;前方に走る速度（Ｘ軸,Ｙ軸・[Statedef 100]に適用される）
run.back     = -5,0   　 ;後方に走る速度（Ｘ軸,Ｙ軸・[Statedef 105]に適用される）
jump.neu = 0,-11.4	　 ;垂直ジャンプの速度（Ｘ軸・[Statedef 40]に適用される）
jump.back = -2.5	   ;後方ジャンプの速度（Ｘ軸・[Statedef 40]に適用される）
jump.fwd = 3.33		　 ;前方ジャンプの速度（Ｘ軸・[Statedef 40]に適用される）
runjump.back = -4.5,-11	   ;後方に走ってからのジャンプ速度（Ｘ軸,Ｙ軸・[Statedef 40]に適用される） 
runjump.fwd = 4.5,-11	   ;前方に走ってからのジャンプ速度（Ｘ軸,Ｙ軸・[Statedef 40]に適用される）
airjump.neu  = 0,-6        ;空中垂直ジャンプ速度（Ｘ軸,Ｙ軸・[Statedef 45]に適用される）
airjump.back = -2.9        ;空中後方ジャンプ速度（Ｘ軸・[Statedef 45]に適用される）
airjump.fwd  = 2.9         ;空中前方ジャンプ速度（Ｘ軸・[Statedef 45]に適用される）

;---------------------------------------------------------------------------
; 運動関係
;---------------------------------------------------------------------------
[Movement]
airjump.num     = 0        ;空中ジャンプが出来る回数
airjump.height  = 35       ;空中ジャンプが出来る最低の高度（Ｙ軸）
yaccel          = .6       ;Ｙ軸加速度（重力）
stand.friction  = .85      ;立っている時の摩擦係数（ステートのPhysicsが「S」の時）
crouch.friction = .82      ;しゃがんでいる時の摩擦係数（ステートのPhysicsが「C」の時）

;===========================================================================
; ステート
;===========================================================================
;===========================================================================
; 基本行動
;===========================================================================
;---------------------------------------------------------------------------
;勝利ポーズ分岐
[Statedef 180]
type = S

[State 0, end]
type = changestate
trigger1 = time > 0
value = 181

;---------------------------------------------------------------------------
;勝利1
[Statedef 181]
type = S
ctrl = 0
anim = 180
velset = 0,0

[State 181, 1]
type = AssertSpecial
trigger1 = Time = [0, 240]
flag = RoundNotOver

[State 195]
type = varrandom
trigger1 = !time
v = 10
range = 0,1

[State 195]
type = playsnd
trigger1 = !var(10)
trigger1 = !time
value = 100,16
channel = 0

[State 195]
type = playsnd
trigger1 = var(10)
trigger1 = !time
value = 100,23
channel = 0

[State 195]
type = playsnd
triggerall = anim = 180
trigger1 = animelem = 5
trigger2 = animelem = 12
value = 2,13

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[state 0, helper]
type = helper
trigger1 = !fvar(12) || !numpartner
trigger1 = time = 1
trigger2 = fvar(12) = 92
helpertype = normal
name = "win"
stateno = 9100
id = 9100

;---------------------------------------------------------------------------
; PREINTRO
[Statedef 190]
type = S
ctrl = 0
velset = 0,0

[State 0, power]
type = powerset
trigger1 = roundsexisted = 0
trigger1 = !time
trigger1 = power < 1000
value = 1000

[State -2, 3]
type = ChangeState
triggerall = teamside = 1
trigger1 = (P2Name = "Joseph Joestar" || P4Name = "Joseph Joestar") && EnemyNear,AuthorName = "Nimame"
trigger2 = (P2Name = "Joseph Joestar" || P4Name = "Joseph Joestar") && EnemyNear,AuthorName = "Nimame + Kakyoin-Kun"
trigger3 = (P2Name = "Joseph Joestar" || P4Name = "Joseph Joestar") && EnemyNear,AuthorName = "Men'sClub"
value = 193

[State -2, 3]
type = ChangeState
triggerall = teamside = 2
trigger1 = (P2Name = "Joseph Joestar" || P4Name = "Joseph Joestar") && EnemyNear,AuthorName = "Nimame"
trigger2 = (P2Name = "Joseph Joestar" || P4Name = "Joseph Joestar") && EnemyNear,AuthorName = "Nimame + Kakyoin-Kun"
trigger3 = (P2Name = "Joseph Joestar" || P4Name = "Joseph Joestar") && EnemyNear,AuthorName = "Men'sClub"
value = 194

[State -2, 3]
type = ChangeState
triggerall = time = 0
trigger1=enemy,name="Kars"
value = 197

[state 190,板割り]
type=changestate
triggerall=time=0
trigger1=enemy,name="Stroheim"
value=1902

[state 190,板割り]
type=changestate
triggerall=time=0
trigger1=enemy,name="Caesar"
trigger2=enemy,name="Caesar Anthonio Zeppeli"
value=1903

[state 190,板割り]
type=changestate
triggerall=time=0
trigger1=enemy,name="Elizabeth Joestar"
trigger2=enemy,name="Lisa Lisa"
value=1904

[state 190,板割り]
type=changestate
triggerall=time=0
trigger1=enemy,name="MIDLER"
trigger2=enemy,name="mariah"
trigger3=enemy,name="Jolyne"
trigger4=enemy,name="Yamagishi Yukako"
value=1905

[state 190,板割り]
type=changestate
triggerall=time=0
trigger1=enemy,name="Santana"
value=19180

[state 190,板割り]
type=changestate
triggerall=time=0
trigger1=enemy,name="Joseph"
trigger2=enemy,name="Old Joseph"
value=19181

[state 190,板割り]
type=changestate
triggerall=time=0
trigger1=enemy,name="Jonathan"
trigger2=enemy,name="Jonathan Joestar"
value=19182

[state 190,板割り]
type=changestate
triggerall=time=0
trigger1=enemy,name="Jotaro"
trigger2=enemy,name="Jotaro Kujo"
value=19183

[State 0, end]
type = changestate
trigger1 = 1
value = 191+(random%2)

;---------------------------------------------------------------------------
;イントロ1
[Statedef 191]
type = S
ctrl = 0
anim = 0

[State -2, Voice]
type = nothitby
trigger1 = 1
value = SCA

[State 191, 特殊効果];試合が開始するまではこのコントローラを使おう（※２）
type = AssertSpecial
trigger1 = 1
flag = Intro ;イントロの状態

[State 0, anim]
type = changeanim
triggerall = time > 0
trigger1 = p2stateno = 0 || enemy,anim = 0
trigger2 = time > 300
trigger3 = p2name = "jotaro" && enemy,authorname = "y.y" && p2stateno = 160
trigger4 = p2name = "joseph" && enemy,authorname = "y.y" && p2stateno = 160
trigger5 = p2name = "Hol horse" && enemy,authorname = "y.y" && p2stateno = 160
trigger6 = p2name = "Rubber Soul" && enemy,authorname = "bad darkness" 
value = 190
persistent = 0

[State 195]
type = playsnd
triggerall = anim = 190
trigger1 = animelem = 5
trigger2 = animelem = 12
value = 2,13

[State 195]
type = playsnd
trigger1 = anim = 190
trigger1 = animelem = 1
value = 191,1
channel = 0

[State 191, ステート変更]
type = ChangeState
trigger1 = anim = 190
trigger1 = !animtime
value = 0

;---------------------------------------------------------------------------
;イントロ2
[Statedef 192]
type = S
ctrl = 0
anim = 191

[State -2, Voice]
type = nothitby
trigger1 = 1
value = SCA

[State 191, 特殊効果];試合が開始するまではこのコントローラを使おう（※２）
type = AssertSpecial
trigger1 = 1
flag = Intro ;イントロの状態

[State 195]
type = playsnd
trigger1 = animelem = 5
trigger2 = animelem = 12
value = 2,13

[State 195]
type = playsnd
trigger1 = animelem = 1
value = 191,2
channel = 0

[State 191, ステート変更]
type = ChangeState
trigger1 = !animtime
value = 0

;---------------------------------------------------------------------------
;挑発
[Statedef 195]
type = S
movetype = I
physics = S
ctrl = 0
anim = 195
velset = 0,0
sprpriority = 0

[State 195]
type = playsnd
trigger1 = !time
value = 1950,random%2
channel = 0

[State 195]
type = playsnd
trigger1 = animelem = 5
trigger2 = animelem = 12
value = 2,13

[State 195, ステート変更]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;対ジョセフ１Ｐ
[Statedef 193]
type = S
ctrl = 0
anim = 0

[State -2, Voice]
type = nothitby
trigger1 = 1
value = SCA

[State 191, 特殊効果];試合が開始するまではこのコントローラを使おう（※２）
type = AssertSpecial
trigger1 = 1
flag = Intro ;イントロの状態

[State 0, anim]
type = changeanim
triggerall = time > 0
trigger1 = p2stateno = 0 || enemy,anim = 0
value = 190
persistent = 0

[State 195]
type = playsnd
triggerall = anim = 190
trigger1 = animelem = 5
trigger2 = animelem = 12
value = 2,13

[State 195]
type = playsnd
trigger1 = anim = 190
trigger1 = animelem = 1
value = 102,3
channel = 0

[State 191, ステート変更]
type = ChangeState
trigger1 = anim = 190
trigger1 = !animtime
value = 0


;---------------------------------------------------------------------------
;対ジョセフ２Ｐ
[Statedef 194]
type = S
ctrl = 0
anim = 0

[State -2, Voice]
type = nothitby
trigger1 = 1
value = SCA

[State 191, 特殊効果];試合が開始するまではこのコントローラを使おう（※２）
type = AssertSpecial
trigger1 = 1
flag = Intro ;イントロの状態

[State 0, anim]
type = changeanim
trigger1 = time = 150
value = 190

[State 195]
type = playsnd
triggerall = anim = 190
trigger1 = animelem = 5
trigger2 = animelem = 12
value = 2,13

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = anim = 190 
trigger1 = !animtime
value = 0

[State 195]
type = playsnd
trigger1 = anim = 190
trigger1 = animelem = 1
value = 102,4
channel = 0

[State 191, ステート変更]
type = ChangeState
trigger1 = time = 400
value = 0

;---------------------------------------------------------------------------
;VS Kars
[Statedef 197]
type=s
ctrl=0
anim=2010
velset=0,0

[state 191,イントロ]
type=assertspecial
trigger1=1
flag=intro

[state 191,ボイス]
type=playsnd
trigger1=time=40
value= 102,0
channel=0

[state 191,アニメ変更]
type=changeanim
trigger1=roundstate=0
value=anim

[state 191,ステート変更]
type=changestate
trigger1=Time=386
value=1934

;---------------------------------------------------------------------------
;Storheim Intro
[statedef 1902]
type=s
ctrl=0
anim=2002
velset=0,0

[state 191,イントロ]
type=assertspecial
trigger1=1
flag=intro

[State 195]
type = playsnd
triggerall = anim = 2002
trigger1 = animelem = 5
trigger2 = animelem = 12
value = 1003,100

[state 191,ボイス]
type=playsnd
trigger1=time=40
value=10003, 0
channel=0

[state 191,アニメ変更]
type=changeanim
trigger1=roundstate=0
value=anim

[state 191,ステート変更]
type=changestate
trigger1=animtime=0
value=0

;---------------------------------------------------------------------------
;Caesar Intro
[statedef 1903]
type=s
ctrl=0
anim=2003
velset=0,0

[state 191,イントロ]
type=assertspecial
trigger1=1
flag=intro

[State 195]
type = playsnd
triggerall = anim = 2003
trigger1 = animelem = 5
trigger2 = animelem = 12
value = 1003,100

[state 191,ボイス]
type=playsnd
trigger1=time=40
value=10003, 1
channel=0

[state 191,アニメ変更]
type=changeanim
trigger1=roundstate=0
value=anim

[state 191,ステート変更]
type=changestate
trigger1=animtime=0
value=0

;---------------------------------------------------------------------------
;Lisa Lisa Intro
[statedef 1904]
type=s
ctrl=0
anim=2004
velset=0,0

[state 191,イントロ]
type=assertspecial
trigger1=1
flag=intro

[State 195]
type = playsnd
triggerall = anim = 2004
trigger1 = animelem = 5
trigger2 = animelem = 12
value = 1003,100

[state 191,ボイス]
type=playsnd
trigger1=time=40
value=10003, 2
channel=0

[state 191,アニメ変更]
type=changeanim
trigger1=roundstate=0
value=anim

[state 191,ステート変更]
type=changestate
trigger1=animtime=0
value=0

;---------------------------------------------------------------------------
;Female Intro
[statedef 1905]
type=s
ctrl=0
anim=2005
velset=0,0

[state 191,イントロ]
type=assertspecial
trigger1=1
flag=intro

[State 195]
type = playsnd
triggerall = anim = 2005
trigger1 = animelem = 5
trigger2 = animelem = 12
value = 1003,100

[state 191,ボイス]
type=playsnd
trigger1=time=40
value=10003, 3
channel=0

[state 191,アニメ変更]
type=changeanim
trigger1=roundstate=0
value=anim

[state 191,ステート変更]
type=changestate
trigger1=animtime=0
value=0

;---------------------------------------------------------------------------
;Santana Intro
[statedef 19180]
type=s
ctrl=0
anim=2007
velset=0,0

[state 191,イントロ]
type=assertspecial
trigger1=1
flag=intro

[State 195]
type = playsnd
triggerall = anim = 2007
trigger1 = animelem = 5
trigger2 = animelem = 12
value = 1003,100

[state 191,ボイス]
type=playsnd
trigger1=time=40
value=10006, 0
channel=0

[state 191,アニメ変更]
type=changeanim
trigger1=roundstate=0
value=anim

[state 191,ステート変更]
type=changestate
trigger1=animtime=0
value=0

;---------------------------------------------------------------------------
;Old Joseph Intro
[statedef 19181]
type=s
ctrl=0
anim=2008
velset=0,0

[state 191,イントロ]
type=assertspecial
trigger1=1
flag=intro

[State 195]
type = playsnd
triggerall = anim = 2008
trigger1 = animelem = 5
trigger2 = animelem = 12
value = 1003,100

[state 191,ボイス]
type=playsnd
trigger1=time=40
value=10003, 4
channel=0

[state 191,ステート変更]
type=changestate
trigger1=time = 285
value=19184

;---------------------------------------------------------------------------
;Jonathan Intro
[statedef 19182]
type=s
ctrl=0
anim=2008
velset=0,0

[state 191,イントロ]
type=assertspecial
trigger1=1
flag=intro

[State 195]
type = playsnd
triggerall = anim = 2008
trigger1 = animelem = 5
trigger2 = animelem = 12
value = 1003,100

[state 191,ボイス]
type=playsnd
trigger1=time=40
value=10003, 5
channel=0

[state 191,ステート変更]
type=changestate
trigger1=time = 375
value=19184

;---------------------------------------------------------------------------
;Jotaro Intro
[statedef 19183]
type=s
ctrl=0
anim=2008
velset=0,0

[state 191,イントロ]
type=assertspecial
trigger1=1
flag=intro

[State 195]
type = playsnd
triggerall = anim = 2008
trigger1 = animelem = 5
trigger2 = animelem = 12
value = 1003,100

[state 191,ボイス]
type=playsnd
trigger1=time=40
value=10003, 6
channel=0

[state 191,ステート変更]
type=changestate
trigger1=time = 250
value=19184

;---------------------------------------------------------------------------
;End 1
[statedef 19184]
type=s
ctrl=0
anim=2009
velset=0,0

[state 191,イントロ]
type=assertspecial
trigger1=1
flag=intro

[state 191,ステート変更]
type=changestate
trigger1=animtime=0
value=0

;---------------------------------------------------------------------------
;End 2
[statedef 1934]
type=s
ctrl=0
anim=2011
velset=0,0

[state 191,イントロ]
type=assertspecial
trigger1=1
flag=intro

[state 191,ステート変更]
type=changestate
trigger1=animtime=0
value=0

;---------------------------------------------------------------------------
;挑発2
[Statedef 196]
type = S
movetype = I
physics = S
ctrl = 0
anim = 196
velset = 0,0
sprpriority = 0

[State 195]
type = playsnd
trigger1 = animelemtime(8) = 0
value = 100,22
channel = 0
persistent = 0

[state 196]
type = playsnd
triggerall = time = 120
trigger1 = enemy,name = "jotaro"
trigger2 = enemy,name = "Jotaro Kujo"
trigger3 = enemy,name = "sol"
trigger4 = enemy,name = "osol"
trigger5 = enemy,name = "MARISA,K"
trigger6 = enemy,name = "Kujo Jotaro (Part4)"
trigger7 = enemy,name = "Jotaro part 6"
value = 100,17
channel = 0

[State 195, ステート変更]
type = ChangeState
trigger1 = time = 210 && (enemy,name = "jotaro" || enemy,name = "Jotaro Kujo" || enemy,name = "MARISA,K"|| enemy,name = "sol"|| enemy,name = "osol"|| enemy,name = "Kujo Jotaro (Part4)"|| enemy,name = "Jotaro part 6")
value = 1965

[State 195]
type = playsnd
triggerall = time = 200
trigger1 = enemy,name = "jotaro"
trigger2 = enemy,name = "Jotaro Kujo"
trigger3 = enemy,name = "sol"
trigger4 = enemy,name = "osol"
trigger5 = enemy,name = "MARISA,K"
trigger6 = enemy,name = "Kujo Jotaro (Part4)"
trigger7 = enemy,name = "Jotaro part 6"
value = 100,9
channel = 0
persistent = 0


[state 196]
type = playsnd
triggerall = time = 120
trigger1 = enemy,name = "Noriaki Kakyoin"
trigger2 = enemy,name = "Kakyoin2"
trigger3 = enemy,name = "Kakyoin" 
value = 100,18
channel = 0

[State 195, ステート変更]
type = ChangeState
trigger1 = time = 290 && (enemy,name = "Noriaki Kakyoin" || enemy,name = "Kakyoin2"|| enemy,name = "Kakyoin" )
value = 1965

[State 195]
type = playsnd
triggerall = time = 280
trigger1 = enemy,name = "Noriaki Kakyoin"
trigger2 = enemy,name = "Kakyoin2"
trigger3 = enemy,name = "Kakyoin" 
value = 100,9
channel = 0
persistent = 0


[state 196]
type = playsnd
triggerall = time = 120
trigger1 = enemy,name = "Avdul"
value = 100,7
channel = 0

[State 195, ステート変更]
type = ChangeState
trigger1 = time = 310 && (enemy,name = "Avdul" )
value = 1965

[State 195]
type = playsnd
triggerall = time = 300
trigger1 = enemy,name = "Avdul"
value = 100,9
channel = 0
persistent = 0


[state 196]
type = playsnd
triggerall = time = 120
trigger1 = enemy,name = "Polnareff"
value = 100,14
channel = 0

[State 195, ステート変更]
type = ChangeState
trigger1 = time = 350 && (enemy,name = "Polnareff")
value = 1965

[State 195]
type = playsnd
triggerall = time = 340
trigger1 = enemy,name = "Polnareff"
value = 100,9
channel = 0
persistent = 0


[state 196]
type = playsnd
triggerall = time = 120
trigger1 = enemy,name = "Jonathan Joestar"
trigger2 = enemy,name = "Jonathan" 
value = 100,26
channel = 0

[State 195, ステート変更]
type = ChangeState
trigger1 = time = 320 && (enemy,name = "Jonathan Joestar" || enemy,name = "Jonathan")
value = 1965

[State 195]
type = playsnd
triggerall = time = 290
trigger1 = enemy,name = "Jonathan Joestar"
trigger2 = enemy,name = "Jonathan"
value = 100,9
channel = 0
persistent = 0

[state 196]
type = playsnd
triggerall = time = 120
trigger1 = enemy,name = "zeppeli"
value = 100,27
channel = 0

[State 195, ステート変更]
type = ChangeState
trigger1 = time = 220 && (enemy,name = "zeppeli")
value = 1965

[State 195]
type = playsnd
triggerall = time = 200
trigger1 = enemy,name = "zeppeli"
value = 100,9
channel = 0
persistent = 0

[state 196]
type = playsnd
triggerall = time = 120
trigger1 = enemy,name = "1st DIO"
value = 100,28
channel = 0

[State 195, ステート変更]
type = ChangeState
trigger1 = time = 250 && (enemy,name = "1st DIO")
value = 1965

[State 195]
type = playsnd
triggerall = time = 215
trigger1 = enemy,name = "1st DIO"
value = 100,9
channel = 0
persistent = 0

[state 196]
type = playsnd
triggerall = time = 120
trigger1 = enemy,name = "Joseph Joestar"
value = 1950,1
channel = 0

[State 195, ステート変更]
type = ChangeState
trigger1 = time = 250 && (enemy,name = "Joseph Joestar")
value = 1965

[State 195]
type = playsnd
triggerall = time = 245
trigger1 = enemy,name = "Joseph Joestar"
value = 100,9
channel = 0
persistent = 0

[state 196]
type = playsnd
triggerall = time = 120
trigger1 = enemy,name = "Caesar"
trigger2 = enemy,name = "Caesar Anthonio Zeppeli" 
value = 100,29
channel = 0

[State 195, ステート変更]
type = ChangeState
trigger1 = time = 370 && (enemy,name = "Caesar" || enemy,name = "Caesar Anthonio Zeppeli")
value = 1965

[State 195]
type = playsnd
triggerall = time = 350
trigger1 = enemy,name = "Caesar"
trigger2 = enemy,name = "Caesar Anthonio Zeppeli"
value = 100,9
channel = 0
persistent = 0

[state 196]
type = playsnd
triggerall = time = 120
trigger1 = enemy,name = "Kars"
value = 100,32
channel = 0

[State 195, ステート変更]
type = ChangeState
trigger1 = time = 310 && (enemy,name = "Kars")
value = 1965

[State 195]
type = playsnd
triggerall = time = 300
trigger1 = enemy,name = "Kars"
value = 100,9
channel = 0
persistent = 0

[state 196]
type = playsnd
triggerall = time = 120
trigger1 = enemy,name = "dio"
trigger2 = enemy,name = "final dio"
trigger3 = enemy,name = "shadow dio"
trigger4 = enemy,name = "Shadow Dio"
trigger5 = enemy,name = "dio brando"
trigger6=  enemy,name = "Dio 6" 
value = 100,33
channel = 0

[State 195, ステート変更]
type = ChangeState
trigger1 = time = 250 && (enemy,name="dio"||enemy,name="final dio"||enemy,name="shadow dio"||enemy,name="Shadow Dio"||enemy,name="dio brando"||enemy,name="Dio 6")
value = 1965

[State 195]
type = playsnd
triggerall = time = 225
trigger1 = enemy,name = "dio"
trigger2 = enemy,name = "final dio"
trigger3 = enemy,name = "shadow dio"
trigger4 = enemy,name = "Shadow Dio"
trigger5 = enemy,name = "dio brando"
trigger6=  enemy,name = "Dio 6" 
value = 100,9
channel = 0
persistent = 0

[state 196]
type = playsnd
triggerall = time = 120
trigger1 = enemy,name = "HOL HORSE"
trigger2 = enemy,name = "HolHorse_ASB" 
value = 100,34
channel = 0

[State 195, ステート変更]
type = ChangeState
trigger1 = time = 280 && (enemy,name = "HOL HORSE"||enemy,name="HolHorse_ASB")
value = 1965

[State 195]
type = playsnd
triggerall = time = 270
trigger1 = enemy,name = "HOL HORSE"
trigger2 = enemy,name = "HolHorse_ASB" 
value = 100,9
channel = 0
persistent = 0

[state 196]
type = playsnd
triggerall = time = 120
trigger1 = enemy,name = "ASB_JOSUKE"
value = 100,35
channel = 0

[State 195, ステート変更]
type = ChangeState
trigger1 = time = 350 && (enemy,name = "ASB_JOSUKE")
value = 1965

[State 195]
type = playsnd
triggerall = time = 340
trigger1 = enemy,name = "ASB_JOSUKE"
value = 100,9
channel = 0
persistent = 0

[state 196]
type = playsnd
triggerall = time = 120
trigger1 = enemy,name = "hirose koiti"
value = 100,36
channel = 0

[State 195, ステート変更]
type = ChangeState
trigger1 = time = 460 && (enemy,name = "hirose koiti")
value = 1965

[State 195]
type = playsnd
triggerall = time = 450
trigger1 = enemy,name = "hirose koiti"
value = 100,9
channel = 0
persistent = 0

[state 196]
type = playsnd
triggerall = time = 120
trigger1 = enemy,name = "rohan"
value = 100,37
channel = 0

[State 195, ステート変更]
type = ChangeState
trigger1 = time = 470 && (enemy,name = "rohan")
value = 1965

[State 195]
type = playsnd
triggerall = time = 460
trigger1 = enemy,name = "rohan"
value = 100,9
channel = 0
persistent = 0

[state 196]
type = playsnd
triggerall = time = 120
trigger1 = enemy,name = "Okuyasu"
value = 100,38
channel = 0

[State 195, ステート変更]
type = ChangeState
trigger1 = time = 250 && (enemy,name = "Okuyasu")
value = 1965

[State 195]
type = playsnd
triggerall = time = 225
trigger1 = enemy,name = "Okuyasu"
value = 100,9
channel = 0
persistent = 0

[state 196]
type = playsnd
triggerall = time = 120
trigger1 = enemy,name = "KawajiriKosaku"
value = 100,40
channel = 0

[State 195, ステート変更]
type = ChangeState
trigger1 = time = 360 && (enemy,name = "KawajiriKosaku")
value = 1965

[State 195]
type = playsnd
triggerall = time = 350
trigger1 = enemy,name = "KawajiriKosaku"
value = 100,9
channel = 0
persistent = 0

[state 196]
type = playsnd
triggerall = time = 120
trigger1 = enemy,name = "Giorno Giovanna"
trigger2 = enemy,name = "Giorno" 
trigger3= enemy,name  = "Requiem Giorno"
value = 100,41
channel = 0

[State 195, ステート変更]
type = ChangeState
trigger1 = time = 280 && (enemy,name = "Giorno Giovanna"||enemy,name="Giorno"||enemy,name="Requiem Giorno")
value = 1965

[State 195]
type = playsnd
triggerall = time = 240
trigger1 = enemy,name = "Giorno Giovanna"
trigger2 = enemy,name = "Giorno" 
trigger3=  enemy,name = "Requiem Giorno" 
value = 100,9
channel = 0
persistent = 0

[state 196]
type = playsnd
triggerall = time = 120
trigger1 = enemy,name = "Bruno Bucciarati"
trigger2 = enemy,name = "Bucciarati" 
value = 100,42
channel = 0

[State 195, ステート変更]
type = ChangeState
trigger1 = time = 300 && (enemy,name = "Bruno Bucciarati"||enemy,name="Bucciarati")
value = 1965

[State 195]
type = playsnd
triggerall = time = 280
trigger1 = enemy,name = "Bruno Bucciarati"
trigger2 = enemy,name = "Bucciarati" 
value = 100,9
channel = 0
persistent = 0

[state 196]
type = playsnd
triggerall = time = 120
trigger1 = enemy,name = "mista"
trigger2 = enemy,name = "Mista"
trigger3 = enemy,name = "Guido Mista"
value = 100,43
channel = 0

[State 195, ステート変更]
type = ChangeState
trigger1 = time = 410 && (enemy,name = "mista"||enemy,name="Mista"||enemy,name="Guido Mista")
value = 1965

[State 195]
type = playsnd
triggerall = time = 400
trigger1 = enemy,name = "mista"
trigger2 = enemy,name = "Mista" 
trigger3 = enemy,name = "Guido Mista"
value = 100,9
channel = 0
persistent = 0

[state 196]
type = playsnd
triggerall = time = 120
trigger1 = enemy,name = "Diavolo"
trigger2 = enemy,name = "s_diavolo"
value = 100,44
channel = 0

[State 195, ステート変更]
type = ChangeState
trigger1 = time = 350 && (enemy,name = "Diavolo"||enemy,name="s_diavolo")
value = 1965

[State 195]
type = playsnd
triggerall = time = 335
trigger1 = enemy,name = "Diavolo"
trigger2 = enemy,name = "s_diavolo" 
value = 100,9
channel = 0
persistent = 0

[state 196]
type = playsnd
triggerall = time = 120
trigger1 = enemy,name = "Narancia"
value = 100,45
channel = 0

[State 195, ステート変更]
type = ChangeState
trigger1 = time = 330 && (enemy,name = "Narancia")
value = 1965

[State 195]
type = playsnd
triggerall = time = 320
trigger1 = enemy,name = "Narancia"
value = 100,9
channel = 0
persistent = 0

[state 196]
type = playsnd
triggerall = time = 120
trigger1 = enemy,name = "jolyne"
value = 100,46
channel = 0

[State 195, ステート変更]
type = ChangeState
trigger1 = time = 210 && (enemy,name = "jolyne")
value = 1965

[State 195]
type = playsnd
triggerall = time = 200
trigger1 = enemy,name = "jolyne"
value = 100,9
channel = 0
persistent = 0

[state 196]
type = playsnd
triggerall = time = 120
trigger1 = enemy,name = "pucci"
value = 100,48
channel = 0

[State 195, ステート変更]
type = ChangeState
trigger1 = time = 270 && (enemy,name = "pucci")
value = 1965

[State 195]
type = playsnd
triggerall = time = 260
trigger1 = enemy,name = "pucci"
value = 100,9
channel = 0
persistent = 0

[state 196]
type = playsnd
triggerall = time = 120
trigger1 = enemy,name = "johnny"
value = 100,49
channel = 0

[State 195, ステート変更]
type = ChangeState
trigger1 = time = 240 && (enemy,name = "johnny")
value = 1965

[State 195]
type = playsnd
triggerall = time = 230
trigger1 = enemy,name = "johnny"
value = 100,9
channel = 0
persistent = 0

[state 196]
type = playsnd
triggerall = time = 120
trigger1 = enemy,name = "Funny Valentine"
value = 100,51
channel = 0

[State 195, ステート変更]
type = ChangeState
trigger1 = time = 240 && (enemy,name = "Funny Valentine")
value = 1965

[State 195]
type = playsnd
triggerall = time = 230
trigger1 = enemy,name = "Funny Valentine"
value = 100,9
channel = 0
persistent = 0

;---------------------------------------------------------------------------
;Taunt End
[statedef 1965]
type=s
ctrl=1
anim=1965
velset=0,0

[state 191,ステート変更]
type=changestate
trigger1=animtime=0
value=0

;===========================================================================
;回り込み
[Statedef 300]
type = S
movetype = I
physics = N
anim = 300
ctrl = 0
velset = 0,0
sprpriority = -1
facep2 = 1;-(prevstateno=[100,119])

[State 3001, Width]
type = Width
trigger1 = 1
edge = 5,0

[State 0, hitby]
type = hitby
Trigger1 = 1
value = SCA,AT

[State 0, pos]
type = posset
trigger1 = !time
y = 0

[State 0, snd]
type = playsnd
trigger1 = !time
value = 100,3
channel = 0

[State 0, push]
type = playerpush
trigger1 = 1
value = 0

[state 0, helper]
type = helper
trigger1 = animelem = 3
helpertype = normal
name = "Image"
stateno = 305
id = 305
pos = 0,0
postype = p1
ownpal = 1
keyctrl = 0
pausemovetime = 1

[State 0, vel]
type = velset
trigger1 = animelemtime(6) = 0
x = 5.6

[State 0, vel]
type = velmul
trigger1 = animelemtime(7) > 8
x = .92

[State 0, vel]
type = velset
trigger1 = animelem = 11
x = 0

[State 0, var]
type = varset
trigger1 = !animtime
var(56) = 8

[State 0, end]
type = changestate
trigger1 = !animtime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 305]
type = S
movetype = I
physics = N
anim = 300
ctrl = 0
vel = 0,0
sprpriority = -3

[State 0, nhb]
type = nothitby
trigger1 = 1
value = SCA

[State 0, push]
type = playerpush
trigger1 = 1
value = 0

[State 0, assert]
type = assertspecial
trigger1 = !(time%2)
flag = Invisible

[State 0, vel]
type = velset
trigger1 = animelemtime(6) = 0
x = 5.6

[State 0, vel]
type = velmul
trigger1 = animelemtime(7) > 8
x = .92

[State 0, vel]
type = velset
trigger1 = animelem = 11
x = 0

[State 810, StateChange]
type = DestroySelf
trigger1 = root,stateno != 300

;===========================================================================
; Light
;===========================================================================
;Jab
[Statedef 200]
type = S
movetype = A
physics = N
ctrl = 0
anim = 200
poweradd = 0
sprpriority = 0
facep2 = 1-(prevstateno=[100,119])

[State 0, pos]
type = posset
trigger1 = !time
y = 0

[State 12200, VarSet]
type = VarSet
trigger1 = time = 0
var(58) = 0

[State 12200, VarAdd]
type = VarAdd
trigger1 = !var(8)
var(58) = 1

[State 0, vel]
type = velset
trigger1 = !time
trigger1 = vel x != 0
trigger2 = animelemtime(4) = 0
x = 0

[State 0, vel]
type = velset
trigger1 = prevstateno = [100,105]
trigger1 = animelemtime(3) = 0
x = 5
persistent = 0

[State 0, vel]
type = velmul
triggerall = !var(8)
trigger1 = prevstateno = [100,105]
trigger1 = var(58) >= 16
x = .9

[State 0, snd]
type = playsnd
trigger1 = !var(8)
trigger1 = animelem = 3
value = 0,10

[State 0, explod]
type = explod
trigger1 = !var(8)
trigger1 = anim = 201
trigger1 = animelemtime(3) = 0
anim = 8050
id = 8050
facing = 1
postype = p1
pos = 0,0
sprpriority = 2
ownpal = 1
bindtime = -1
persistent = 0
removeongethit = 1

[State 0, hit]
type = hitdef
trigger1 = !var(8)
triggerall = anim = 200
trigger1 = animelem = 3
attr = S, NA
damage = ceil(ifelse((28*fvar(0))<7,7,(28*fvar(0)))),0
priority = 3,Hit
hitflag = MAF
guardflag = M
animtype = Light
air.animtype = Back
fall.animtype = Back
pausetime = 0,7
sparkno = s6000
sparkxy = -10,-85
guard.sparkno = s6010
hitsound = s0,0
guardsound = s0,9
getpower = 40,0
givepower = 20,0
ground.type = high
ground.slidetime = 14
ground.hittime = 14
guard.ctrltime = 14
ground.velocity = -6
guard.velocity = -5.5
air.type = High
air.velocity = -3,-3*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 14
fall = 0
air.fall = 0
yaccel = .36
id = stateno
p2facing = 1

[State 0, pos]
type = posfreeze
trigger1 = var(8) > 0

[State 220, CornerPush]
type = VarSet
trigger1 = anim = 200
trigger1 = movecontact = 1
fvar(3) = 8.3
ignorehitpause = 1

[State 220, CornerPush]
type = VarSet
trigger1 = anim = 201
trigger1 = movecontact = 1
fvar(3) = 18
ignorehitpause = 1

[State 400, 3]
type = ChangeState
triggerall = !var(59)
trigger1 = animelemtime(5) >= 0 && command != "holddown" && (command = "holdfwd" || command = "holdback") && prevstateno != [100,105]
value = 20
ctrl = 1

[State 400, 3]
type = ChangeState
triggerall = !var(59)
trigger1 = animelemtime(5) >= 0 && (command = "holdup" || command = "longjump") && prevstateno != [100,105]
value = 40

[State 400, 3]
type = ChangeState
triggerall = !var(59)
trigger1 = animelemtime(5) >= 0 && command = "holddown" && prevstateno != [100,105]
value = 10
ctrl = 1

[State 0, end]
type = changestate
trigger1 = !animtime
value = 0
ctrl = 1

;===========================================================================
;Medium
[Statedef 210]
type = S
movetype = A
physics = N
ctrl = 0
anim = 210
poweradd = 40
sprpriority = 0
facep2 = 1-(prevstateno=[100,119])

[State 0, pos]
type = posset
trigger1 = !time
y = 0

[State 12200, VarSet]
type = VarSet
trigger1 = time = 0
var(58) = 0

[State 12200, VarAdd]
type = VarAdd
trigger1 = !var(8)
var(58) = 1

[State 0, vel]
type = velset
trigger1 = !time
trigger1 = vel x != 0
trigger2 = animelemtime(4) = 0
x = 0

[State 0, vel]
type = velset
trigger1 = prevstateno = [100,105]
trigger1 = animelemtime(3) = 0
x = 5
persistent = 0

[State 0, vel]
type = velmul
triggerall = !var(8)
trigger1 = prevstateno = [100,105]
trigger1 = var(58) >= 16
x = .9

[State 0, snd]
type = playsnd
trigger1 = !time
value = 100,12
channel = 0

[State 0, snd]
type = playsnd
trigger1 = !var(8)
trigger1 = animelem = 4
value = 0,11

[State 0, snd]
type = width
trigger1 = animelemtime(4) = 0
value = 30,0

[State 0, explod]
type = explod
trigger1 = anim = 211
trigger1 = animelemtime(4) = 0
anim = 8050
id = 8050
facing = 1
postype = p1
pos = 0,0
sprpriority = 2
ownpal = 1
bindtime = -1
persistent = 0
removeongethit = 1

[State 0, hit]
type = hitdef
trigger1 = !var(8)
triggerall = anim = 210
trigger1 = animelem = 4
attr = S, NA
damage = ceil(ifelse((56*fvar(0))<7,7,(56*fvar(0)))),0
priority = 5,Hit
hitflag = MAF
guardflag = M
animtype = Midium
air.animtype = Back
fall.animtype = Back
pausetime = 0,9
sparkno = s6001
sparkxy = -20,-70
guard.sparkno = s6010
hitsound = s0,2
guardsound = s0,9
getpower = 50,0
givepower = 25,0
ground.type = Low
ground.slidetime = 17
ground.hittime = 17
ground.velocity = -8.5
guard.velocity = -8
air.type = Low
air.velocity = -4,-3*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 17
fall = 0
air.fall = 0
yaccel = .36
id = stateno
p2facing = 1

[State 0, pos]
type = posfreeze
trigger1 = var(8) > 0

[State 220, CornerPush]
type = VarSet
trigger1 = anim = 210
trigger1 = movecontact = 1
fvar(3) = 11.9
ignorehitpause = 1

[State 220, CornerPush]
type = VarSet
trigger1 = anim = 211
trigger1 = movecontact = 1
fvar(3) = 18
ignorehitpause = 1

[State 0, end]
type = changestate
trigger1 = !animtime
value = 0
ctrl = 1

;===========================================================================
;Heavy
[Statedef 220]
type = S
movetype = A
physics = N
ctrl = 0
anim = 220
poweradd = 50
sprpriority = 0
facep2 = 1-(prevstateno=[100,119])

[State 0, pos]
type = posset
trigger1 = !time
y = 0

[State 0, vel]
type = velset
trigger1 = !time
trigger1 = vel x != 0
trigger2 = animelemtime(7) = 0
x = 0

[State 0, pos]
type = posadd
triggerall = !var(8)
trigger1 = animelem = 6
x = ceil(15*const(size.xscale))

[State 0, snd]
type = playsnd
trigger1 = !time
value = 100,10
channel = 0

[State 0, snd]
type = playsnd
triggerall = !var(8)
trigger1 = animelem = 4
value = 0,12

[State 0, hit]
type = hitdef
triggerall = !var(8)
trigger1 = AnimElem = 6
attr = S, NA
damage = ceil(ifelse((91*fvar(0))<7,7,(91*fvar(0)))),0
priority = 5,Hit
hitflag = MAF
guardflag = M
animtype = high
air.animtype = Back
fall.animtype = Back
pausetime = 0,11
sparkno = s6002
sparkxy = -14,-66
guard.sparkno = s6010
hitsound = s0,3
guardsound = s0,9
getpower = 60,0
givepower = 30,0
ground.type = Low
ground.slidetime = 21
ground.hittime = 21
ground.velocity = -10
guard.velocity = -8
air.type = Low
air.velocity = -8,-3*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 22
fall = 0
air.fall = 0
yaccel = .36
id = 220
p2facing = 1

[State 0, pos]
type = posfreeze
trigger1 = var(8) > 0

[State 220, CornerPush]
type = VarSet
trigger1 = movecontact = 1
fvar(3) = 16
ignorehitpause = 1

[State 0, end]
type = changestate
trigger1 = !animtime
value = 0
ctrl = 1

;===========================================================================
;Overhead
[Statedef 225]
type = S
movetype = A
physics = N
ctrl = 0
anim = 225
poweradd = 50
sprpriority = 0
facep2 = 1-(prevstateno=[100,119])

[State 0, var]
type = varset
trigger1 = !time
triggerall = !var(59)
var(2) = ifelse(command = "z",2,ifelse(command = "y",1,0))

[State 0, var]
type = varset
trigger1 = !time
triggerall = var(59)
var(2) = 2

[State 0, pos]
type = posset
trigger1 = !time
y = 0

[State 0, vel]
type = velset
trigger1 = prevstateno != [100,105]
trigger1 = !time
trigger1 = vel x != 0
x = 0

[State 0, vel]
type = statetypeset
trigger1 = animelemtime(2) = 0
statetype = A

[State 0, vel]
type = velset
trigger1 = animelemtime(2) = 0
x = ifelse((prevstateno != [100,105]),1.8,ifelse(prevstateno = 100,2,-2))
y = -1
persistent = 0

[State 0, vel]
type = velset
trigger1 = prevstateno = [100,105]
trigger1 = animelemtime(6) = 0
x = ifelse(prevstateno = 100,4,-4)
y = -1
persistent = 0

[State 0, vel]
type = veladd
trigger1 = animelemtime(7) >= 4
y = .22

[State 0, vel]
type = velset
trigger1 = prevstateno != [100,105]
trigger1 = animelemtime(8) = 0
x = 1.5

[State 0, snd]
type = playsnd
triggerall = !var(8)
triggerall = prevstateno = [100,105]
trigger1 = animelem = 5
value = 100,1
channel = 0

[State 0, snd]
type = playsnd
triggerall = !var(8)
trigger1 = animelem = 6
value = 0,12

[State 0, hit]
type = hitdef
triggerall = !var(8)
triggerall = prevstateno != [100,105]
trigger1 = AnimElem = 6
attr = A, NA
damage = ceil(ifelse((63*fvar(0))<7,7,(63*fvar(0)))),0
priority = 5,Hit
hitflag = MAF
guardflag = HA
animtype = hard
air.animtype = Back
fall.animtype = Back
pausetime = 0,13
sparkno = s6002
sparkxy = -14,-70
guard.sparkno = s6010
hitsound = s0,3
guardsound = s0,9
getpower = 60,0
givepower = 30,0
ground.type = trip
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -3,-4*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
guard.velocity = -8
air.type = high
air.velocity = -1,-6*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 18
fall = 0
air.fall = 0
yaccel = .36
id = stateno
p2facing = 1

[State 0, hit]
type = hitdef
triggerall = !var(8)
triggerall = !var(2)
triggerall = prevstateno = [100,105]
trigger1 = AnimElem = 6
attr = A, NA
damage = ceil(ifelse((70*fvar(0))<7,7,(70*fvar(0)))),0
priority = 5,Hit
hitflag = MAF
guardflag = HA
animtype = hard
air.animtype = Back
fall.animtype = Back
pausetime = 0,9
sparkno = s6000
sparkxy = -14,-70
guard.sparkno = s6010
hitsound = s0,0
guardsound = s0,9
getpower = 60,0
givepower = 30,0
ground.type = high
ground.slidetime = 12
ground.hittime = 12
ground.velocity = -2,-3*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
guard.velocity = -5.5
air.type = high
air.velocity = -2,-3*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 12
fall = 1
yaccel = .36
id = stateno
p2facing = 1

[State 0, hit]
type = hitdef
triggerall = !var(8)
triggerall = var(2) = 1
triggerall = prevstateno = [100,105]
trigger1 = AnimElem = 6
attr = A, NA
damage = ceil(ifelse((70*fvar(0))<7,7,(70*fvar(0)))),0
priority = 5,Hit
hitflag = MAF
guardflag = HA
animtype = hard
air.animtype = Back
fall.animtype = Back
pausetime = 0,11
sparkno = s6001
sparkxy = -14,-70
guard.sparkno = s6010
hitsound = s0,2
guardsound = s0,9
getpower = 60,0
givepower = 30,0
ground.type = high
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -3,-4*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
guard.velocity = -8
air.type = high
air.velocity = -3,-4*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 15
fall = 1
yaccel = .36
id = stateno
p2facing = 1

[State 0, hit]
type = hitdef
triggerall = !var(8)
triggerall = var(2) = 2
triggerall = prevstateno = [100,105]
trigger1 = AnimElem = 6
attr = A, NA
damage = ceil(ifelse((70*fvar(0))<7,7,(70*fvar(0)))),0
priority = 5,Hit
hitflag = MAF
guardflag = HA
animtype = hard
air.animtype = Back
fall.animtype = Back
pausetime = 0,13
sparkno = s6002
sparkxy = -14,-70
guard.sparkno = s6010
hitsound = s0,3
guardsound = s0,9
getpower = 60,0
givepower = 30,0
ground.type = high
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -6,-3*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
guard.velocity = -8
air.type = high
air.velocity = -6,-3*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 18
fall = 1
yaccel = .36
id = stateno
p2facing = 1

[State 0, pos]
type = posfreeze
trigger1 = var(8) > 0

[State 220, CornerPush]
type = VarSet
trigger1 = movecontact = 1
fvar(3) = 0
ignorehitpause = 1

[State 0, vel]
type = velset
trigger1 = anim = 226
x = 0
y = 0

[State 0, vel]
type = posset
trigger1 = anim = 226
y = 0

[State 0, end]
type = changeanim
trigger1 = Pos Y >= 0 && Vel Y > 0 && anim != 226
value = 226

[State 0, end]
type = changestate
trigger1 = anim = 226 && !animtime
value = 0
ctrl = 1

;===========================================================================
;Standing Clacker
[Statedef 230]
type = S
movetype = A
physics = N
ctrl = 0
anim = 230
poweradd = 40
sprpriority = 0
velset = 0,0
facep2 = 1-(prevstateno=[100,119])

[State 0, pos]
type = posset
trigger1 = !time
y = 0

[State 0, attack]
Type = attackdist
trigger1 = 1
value = 180

[State 0, vel]
type = velset
trigger1 = !time
trigger1 = vel x != 0
trigger2 = anim = 230 && animelemtime(12) = 0
trigger3 = anim = 235 && animelemtime(5) = 0
x = 0

[State 0, vel]
type = velset
trigger1 = anim = 230 && animelemtime(10) = 0
x = 2

[State 0, snd]
type = width
trigger1 = anim = 230 && animelemtime(10) = 0
value = 60,0

[State 0, snd]
type = playsnd
triggerall = !var(8)
trigger1 = !time
value = 100,11
channel = 0

[State 0, snd]
type = playsnd
triggerall = !var(8)
triggerall = anim = 230
trigger1 = animelem = 10
value = 2,7

[State 0, end]
type = changeanim
trigger1 = movecontact = 1
trigger1 = anim != 235
value = 235

;ヒット音
[State 0, snd]
type = playsnd
trigger1 = movecontact = 1
value = 0,4+(moveguarded=1)*5
ignorehitpause = 1
channel = 2

[State 0, hit]
type = hitdef
triggerall = anim = 230
trigger1 = AnimElem = 10
trigger2 = AnimElem = 11
attr = S, NA
damage = ceil(ifelse((63*fvar(0))<7,7,(63*fvar(0)))),0
priority = 5,Hit
hitflag = MAF
guardflag = M
animtype = hard
air.animtype = Back
fall.animtype = Back
pausetime = 0,5
guard.pausetime = 0,0
sparkno = s6004
sparkxy = -40,-70
guard.sparkno = s6010
hitsound = -1
guardsound = -1
getpower = 50,0
givepower = 25,0
ground.type = low
ground.slidetime = 22
ground.hittime = 22
guard.slidetime = 14
guard.hittime = 14
ground.velocity = -10
guard.velocity = -8
air.type = low
air.velocity = -4,-3*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 18
fall = 0
air.fall = 0
yaccel = .36
id = stateno
p2facing = 1

[State 0, hit]
type = hitdef
triggerall = anim = 235
trigger1 = AnimElem = 2
attr = S, NA
damage = ceil(ifelse((14*fvar(0))<7,7,(14*fvar(0)))),0
priority = 5,Hit
hitflag = MAF
guardflag = M
animtype = hard
air.animtype = Back
fall.animtype = Back
pausetime = 0,6
guard.pausetime = 0,0
sparkno = s6004
sparkxy = -40,-70
guard.sparkno = s6010
hitsound = -1
guardsound = -1
getpower = 0,0
givepower = 10,0
ground.type = low
ground.slidetime = 21
ground.hittime = 21
guard.slidetime = 13
guard.hittime = 13
ground.velocity = -10
guard.velocity = -8
air.type = low
air.velocity = -4,-3*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 18
fall = 0
air.fall = 0
yaccel = .36
id = stateno
p2facing = 1

[State 0, hit]
type = hitdef
triggerall = anim = 235
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
attr = S, NA
damage = ceil(ifelse((7*fvar(0))<7,7,(7*fvar(0)))),0
priority = 5,Hit
hitflag = MAF
guardflag = M
animtype = hard
air.animtype = Back
fall.animtype = Back
pausetime = 0,6
guard.pausetime = 0,0
sparkno = s6004
sparkxy = -40,-70
guard.sparkno = s6010
hitsound = -1
guardsound = -1
getpower = 0,0
givepower = 10,0
ground.type = low
ground.slidetime = 21
ground.hittime = 21
guard.slidetime = 13
guard.hittime = 13
ground.velocity = -10
guard.velocity = -8
air.type = low
air.velocity = -4,-3*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 18
fall = 0
air.fall = 0
yaccel = .36
id = stateno
p2facing = 1

[State 0, pos]
type = posfreeze
trigger1 = var(8) > 0

[State 220, CornerPush]
type = VarSet
trigger1 = movecontact = 1
fvar(3) = 16
ignorehitpause = 1

[State 0, end]
type = changestate
trigger1 = !animtime
value = 0
ctrl = 1

;===========================================================================
;Dash Clacker
[Statedef 235]
type = S
movetype = A
physics = N
ctrl = 0
anim = 250
poweradd = 40
sprpriority = 0
velset = 0,0

[State 0, pos]
type = posset
trigger1 = !time
y = 0

[State 0, attack]
Type = attackdist
trigger1 = 1
value = 180

[State 0, vel]
type = velset
trigger1 = !time
trigger1 = vel x != 0
;trigger2 = anim = 250 && animelemtime(5) = 0
;trigger3 = anim = 255 && animelemtime(5) = 0
x = 0

[State 0, vel]
type = velset
trigger1 = !time
x = 5

[State 0, vel]
type = velmul
trigger1 = !var(8)
trigger1 = time > 4
x = .95

[State 0, snd]
type = width
trigger1 = anim = 250 && animelemtime(3) = 0
value = 60,0

[State 0, snd]
type = playsnd
triggerall = !var(8)
triggerall = anim = 250
trigger1 = animelem = 3
value = 2,7

[State 0, end]
type = changeanim
trigger1 = movecontact = 1
trigger1 = anim != 255
value = 255

;ヒット音
[State 0, snd]
type = playsnd
trigger1 = movecontact = 1
value = 0,4+(moveguarded=1)*5
ignorehitpause = 1
channel = 2

[State 0, explod]
type = explod
trigger1 = !time
anim = 8050
id = 8050
facing = 1
postype = p1
pos = 0,0
sprpriority = 2
ownpal = 1
bindtime = -1
persistent = 0
removeongethit = 1

[State 0, hit]
type = hitdef
triggerall = anim = 250
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
attr = S, NA
damage = ceil(ifelse((63*fvar(0))<7,7,(63*fvar(0)))),0
priority = 5,Hit
hitflag = MAF
guardflag = M
animtype = hard
air.animtype = Back
fall.animtype = Back
pausetime = 0,2
guard.pausetime = 0,0
sparkno = s6004
sparkxy = -40,-70
guard.sparkno = s6010
hitsound = -1
guardsound = -1
getpower = 50,0
givepower = 25,0
ground.type = low
ground.slidetime = 22
ground.hittime = 22
guard.slidetime = 14
guard.hittime = 14
ground.velocity = -10
guard.velocity = -8
air.type = low
air.velocity = -4,-3*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 18
fall = 0
air.fall = 0
yaccel = .36
id = stateno
p2facing = 1

[State 0, hit]
type = hitdef
triggerall = anim = 255
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
trigger3 = AnimElem = 4
trigger4 = AnimElem = 5
trigger5 = AnimElem = 6
attr = S, NA
damage = ceil(ifelse((7*fvar(0))<7,7,(7*fvar(0)))),0
priority = 5,Hit
hitflag = MAF
guardflag = M
animtype = hard
air.animtype = Back
fall.animtype = Back
pausetime = 0,6
guard.pausetime = 0,0
sparkno = s6004
sparkxy = -40,-70
guard.sparkno = s6010
hitsound = -1
guardsound = -1
getpower = 0,0
givepower = 10,0
ground.type = low
ground.slidetime = 21
ground.hittime = 21
guard.slidetime = 15
guard.hittime = 15
ground.velocity = -10
guard.velocity = -8
air.type = low
air.velocity = -4,-1*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 21
fall = 0
air.fall = 0
yaccel = .36
id = stateno
p2facing = 1

[State 0, pos]
type = posfreeze
trigger1 = var(8) > 0

[State 220, CornerPush]
type = VarSet
trigger1 = movecontact = 1
fvar(3) = 16
ignorehitpause = 1

[State 0, end]
type = changestate
trigger1 = !animtime
value = 0
ctrl = 1

;===========================================================================
;Up Clacker
[Statedef 240]
type = C
movetype = A
physics = N
ctrl = 0
anim = 240
poweradd = 40
sprpriority = 0
velset = 0,0
facep2 = 1-(prevstateno=[100,119])

[State 0, pos]
type = posset
trigger1 = !time
y = 0

[State 0, vel]
type = velset
trigger1 = prevstateno != [100,105]
trigger1 = !time
trigger1 = vel x != 0
x = 0

[State 0, snd]
type = playsnd
triggerall = !var(8)
trigger1 = !time
value = 100,1
channel = 0

[State 0, snd]
type = playsnd
triggerall = !var(8)
triggerall = anim = 240
trigger1 = animelem = 8
value = 2,7

[State 0, end]
type = changeanim
trigger1 = movecontact = 1
trigger1 = anim != 245
value = 245

;ヒット音
[State 0, snd]
type = playsnd
trigger1 = movecontact = 1
value = 0,4+(moveguarded=1)*5
ignorehitpause = 1
channel = 2

[State 0, hit]
type = hitdef
triggerall = anim = 240
trigger1 = AnimElem = 8
attr = S, NA
damage = ceil(ifelse((63*fvar(0))<7,7,(63*fvar(0)))),0
priority = 5,Hit
hitflag = MAF
guardflag = M
animtype = hard
air.animtype = up
fall.animtype = up
pausetime = 0,4
guard.pausetime = 0,0
sparkno = s6004
sparkxy = -20,-50
guard.sparkno = s6010
hitsound = -1
guardsound = -1
getpower = 50,0
givepower = 25,0
ground.type = low
ground.slidetime = 18
ground.hittime = 18
guard.slidetime = 22
guard.hittime = 22
ground.velocity = -1,-10*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
guard.velocity = -8
air.type = low
air.velocity = -1,-10*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 18
fall = 1
fall.recovertime = 30
yaccel = .36
id = stateno
p2facing = 1

[State 0, hit]
type = hitdef
trigger1 = anim = 245
trigger1 = AnimElem = 2
attr = S, NA
damage = ceil(ifelse((14*fvar(0))<7,7,(14*fvar(0)))),0
priority = 5,Hit
hitflag = MAF
guardflag = M
animtype = hard
air.animtype = up
fall.animtype = up
pausetime = 0,5
guard.pausetime = 0,0
sparkno = s6004
sparkxy = -20,-80
guard.sparkno = s6010
hitsound = -1
guardsound = -1
getpower = 50,0
givepower = 10,0
ground.type = low
ground.slidetime = 18
ground.hittime = 18
guard.slidetime = 23
guard.hittime = 23
ground.velocity = -1,-10*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
guard.velocity = -8
air.type = low
air.velocity = -1,-10*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 18
fall = 1
fall.recovertime = 30
yaccel = .36
id = stateno
p2facing = 1

[State 0, hit]
type = hitdef
trigger1 = anim = 245
trigger1 = AnimElem = 4
attr = S, NA
damage = ceil(ifelse((7*fvar(0))<7,7,(7*fvar(0)))),0
priority = 5,Hit
hitflag = MAF
guardflag = M
animtype = hard
air.animtype = up
fall.animtype = up
pausetime = 0,5
guard.pausetime = 0,0
sparkno = s6004
sparkxy = -20,-80
guard.sparkno = s6010
hitsound = -1
guardsound = -1
getpower = 50,0
givepower = 10,0
ground.type = low
ground.slidetime = 18
ground.hittime = 18
guard.slidetime = 23
guard.hittime = 23
ground.velocity = -1,-10*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
guard.velocity = -8
air.type = low
air.velocity = -1,-10*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 18
fall = 1
fall.recovertime = 30
yaccel = .36
id = stateno
p2facing = 1

[State 0, pos]
type = posfreeze
trigger1 = var(8) > 0

[State 220, CornerPush]
type = VarSet
trigger1 = movecontact = 1
fvar(3) = 16
ignorehitpause = 1

[State 0, end]
type = changestate
trigger1 = !animtime
value = 0
ctrl = 1

;===========================================================================
;Crouch Light
[Statedef 400]
type = C
movetype = A
physics = N
ctrl = 0
anim = ifelse((prevstateno=[100,105]),401,400)
poweradd = 0
sprpriority = 0
facep2 = 1-(prevstateno=[100,119])

[State 0, pos]
type = posset
trigger1 = !time
y = 0

[State 12200, VarSet]
type = VarSet
trigger1 = time = 0
var(58) = 0

[State 12200, VarAdd]
type = VarAdd
trigger1 = !var(8)
var(58) = 1

[State 0, vel]
type = velset
trigger1 = !time
trigger1 = vel x != 0
trigger2 = animelemtime(5) = 0
x = 0

[State 0, vel]
type = velset
trigger1 = prevstateno = [100,105]
trigger1 = animelemtime(4) = 0
x = 5
persistent = 0

[State 0, vel]
type = velmul
triggerall = !var(8)
trigger1 = prevstateno = [100,105]
trigger1 = var(58) >= 17
x = .9

[State 0, snd]
type = playsnd
triggerall = !var(8)
trigger1 = anim = 401
trigger1 = animelem = 4
value = 2,0

[State 0, snd]
type = playsnd
triggerall = !var(8)
trigger1 = prevstateno != [100,105]
trigger1 = animelem = 3
value = 0,10

[State 0, explod]
type = explod
trigger1 = anim = 401
trigger1 = animelemtime(4) = 0
anim = 8050
id = 8050
facing = 1
postype = p1
pos = 0,0
sprpriority = 2
ownpal = 1
bindtime = -1
persistent = 0
removeongethit = 1

[State 0, hit]
type = hitdef
triggerall = !var(8)
trigger1 = anim = 400
trigger1 = AnimElem = 3
attr = C, NA
damage = ceil(ifelse((28*fvar(0))<7,7,(28*fvar(0)))),0
priority = 3,Hit
hitflag = MAF
guardflag = M
animtype = Light
air.animtype = Back
fall.animtype = Back
pausetime = 0,7
sparkno = s6000
sparkxy = -10,-40
guard.sparkno = s6010
hitsound = s0,0
guardsound = s0,9
getpower = 40,0
givepower = 20,0
ground.type = Low
ground.slidetime = 14
ground.hittime = 14
ground.velocity = -6
guard.velocity = -5.5
air.type = Low
air.velocity = -3,-3*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 14
fall = 0
air.fall = 0
yaccel = .36
id = stateno
p2facing = 1

[State 0, hit]
type = hitdef
triggerall = !var(8)
trigger1 = anim = 401
trigger1 = AnimElem = 4
attr = C, NA
damage = ceil(ifelse((70*fvar(0))<7,7,(70*fvar(0)))),0
priority = 3,Hit
hitflag = MAF
guardflag = L
animtype = Light
air.animtype = Back
fall.animtype = Back
pausetime = 0,9
sparkno = s6000
sparkxy = -10,-10
guard.sparkno = s6010
hitsound = s0,0
guardsound = s0,9
getpower = 40,0
givepower = 20,0
ground.type = Low
ground.slidetime = 12
ground.hittime = 12
ground.velocity = -6
guard.velocity = -5.5
air.type = Low
air.velocity = -3,-3*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 12
fall = 0
air.fall = 0
yaccel = .36
id = stateno
p2facing = 1

[State 0, pos]
type = posfreeze
trigger1 = var(8) > 0

[State 220, CornerPush]
type = VarSet
trigger1 = anim = 400
trigger1 = movecontact = 1
fvar(3) = 8.3
ignorehitpause = 1

[State 220, CornerPush]
type = VarSet
trigger1 = anim = 401
trigger1 = movecontact = 1
fvar(3) = 18
ignorehitpause = 1

[State 400, 3]
type = ChangeState
triggerall = !var(59)
trigger1 = animelemtime(5) >= 0 && command != "holddown" && (command = "holdfwd" || command = "holdback") && prevstateno != [100,105]
value = 20
ctrl = 1

[State 400, 3]
type = ChangeState
triggerall = !var(59)
trigger1 = animelemtime(5) >= 0 && (command = "holdup" || command = "longjump") && prevstateno != [100,105]
value = 40

[State 400, 3]
type = ChangeState
triggerall = !var(59)
trigger1 = animelemtime(5) >= 0 && command != "holddown" && command != "holdfwd" && command != "holdback" && prevstateno != [100,105]
value = 12
ctrl = 1

[State 0, end]
type = changestate
trigger1 = !animtime
value = 11
ctrl = 1

;===========================================================================
;Crouch Medium
[Statedef 410]
type = C
movetype = A
physics = N
ctrl = 0
anim = ifelse((prevstateno = [100,105]),401,410)
poweradd = 40
sprpriority = 0
facep2 = 1-(prevstateno=[100,119])

[State 0, pos]
type = posset
trigger1 = !time
y = 0

[State 12200, VarSet]
type = VarSet
trigger1 = time = 0
var(58) = 0

[State 12200, VarAdd]
type = VarAdd
trigger1 = !var(8)
var(58) = 1

[State 0, vel]
type = velset
trigger1 = !time
trigger1 = vel x != 0
trigger2 = animelemtime(5) = 0
x = 0

[State 0, vel]
type = velset
trigger1 = prevstateno = [100,105]
trigger1 = animelemtime(4) = 0
x = 5
persistent = 0

[State 0, vel]
type = velmul
triggerall = !var(8)
trigger1 = prevstateno = [100,105]
trigger1 = var(58) >= 16
x = .9

[State 0, snd]
type = playsnd
triggerall = !var(8)
trigger1 = anim = 401
trigger1 = animelem = 4
value = 2,0

[State 0, snd]
type = playsnd
triggerall = !var(8)
trigger1 = anim = 410
trigger1 = animelem = 3
value = 0,11

[State 0, explod]
type = explod
trigger1 = anim = 401
trigger1 = animelemtime(3) = 0
anim = 8050
id = 8050
facing = 1
postype = p1
pos = 0,0
sprpriority = 2
ownpal = 1
bindtime = -1
persistent = 0
removeongethit = 1

[State 0, hit]
type = hitdef
triggerall = !var(8)
trigger1 = anim = 410
trigger1 = AnimElem = 3
attr = C, NA
damage = ceil(ifelse((56*fvar(0))<7,7,(56*fvar(0)))),0
priority = 5,Hit
hitflag = MAF
guardflag = L
animtype = Middle
air.animtype = Back
fall.animtype = Back
pausetime = 0,11
sparkno = s6001
sparkxy = -10,-7
guard.sparkno = s6010
hitsound = s0,4
guardsound = s0,9
getpower = 50,0
givepower = 25,0
ground.type = Low
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -8.5
guard.velocity = -8
air.type = Low
air.velocity = -3,-3*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 15
fall = 0
air.fall = 0
guard.kill = 0
yaccel = .36
id = stateno
p2facing = 1

[State 0, hit]
type = hitdef
triggerall = !var(8)
trigger1 = anim = 401
trigger1 = AnimElem = 4
attr = C, NA
damage = ceil(ifelse((70*fvar(0))<7,7,(70*fvar(0)))),0
priority = 3,Hit
hitflag = MAF
guardflag = L
animtype = Light
air.animtype = Back
fall.animtype = Back
pausetime = 0,11
sparkno = s6001
sparkxy = -10,-10
guard.sparkno = s6010
hitsound = s0,2
guardsound = s0,9
getpower = 50,0
givepower = 25,0
ground.type = Low
ground.slidetime = 14
ground.hittime = 14
ground.velocity = -8.5
guard.velocity = -8
air.type = Low
air.velocity = -3,-3*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 17
fall = 0
air.fall = 0
yaccel = .36
id = stateno
p2facing = 1

[State 0, pos]
type = posfreeze
trigger1 = var(8) > 0

[State 220, CornerPush]
type = VarSet
trigger1 = movecontact = 1
fvar(3) = 11.9
ignorehitpause = 1

[State 0, end]
type = changestate
trigger1 = !animtime
value = 11
ctrl = 1

;===========================================================================
;Medium Slide
[Statedef 415]
type = C
movetype = A
physics = N
ctrl = 0
anim = 415
poweradd = 40
sprpriority = 0
facep2 = 1-(prevstateno=[100,119])

[State 0, pos]
type = posset
trigger1 = !time
y = 0

[State 12200, VarSet]
type = VarSet
trigger1 = time = 0
var(58) = 0

[State 12200, VarAdd]
type = VarAdd
trigger1 = !var(8)
var(58) = 1

[State 0, vel]
type = velset
trigger1 = !time
trigger1 = vel x != 0
trigger2 = animelemtime(4) = 0
x = 0

[State 0, vel]
type = velset
trigger1 = animelemtime(3) = 0
x = 10;.5

[State 0, vel]
type = velmul
triggerall = !var(8)
trigger1 = var(58) >= 4
x = .85

[State 0, snd]
type = playsnd
trigger1 = animelem = 3
value = 100,11
channel = 0
persistent = 0

[State 0, snd]
type = playsnd
trigger1 = animelem = 3
value = 0,11
persistent = 0

[State 0, explod]
type = explod
trigger1 = animelemtime(3) = 0
anim = 8050
id = 8050
facing = 1
postype = p1
pos = 0,0
sprpriority = 2
ownpal = 1
bindtime = -1
persistent = 0
removeongethit = 1

[State 0, hit]
type = hitdef
triggerall = !var(8)
trigger1 = AnimElem = 3
attr = C, NA
damage = ceil(ifelse((42*fvar(0))<7,7,(42*fvar(0)))),0
priority = 5,Hit
hitflag = MAF
guardflag = L
animtype = Middle
air.animtype = Back
fall.animtype = Back
pausetime = 0,11
sparkno = s6001
sparkxy = -10,-7
guard.sparkno = s6010
hitsound = s0,4
guardsound = s0,9
getpower = 50,0
givepower = 25,0
ground.type = Low
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -8.5
guard.velocity = -8
air.type = Low
air.velocity = -3,-3*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 15
fall = 0
air.fall = 0
guard.kill = 0
yaccel = .36
id = stateno
p2facing = 1

[State 0, pos]
type = posfreeze
trigger1 = var(8) > 0

[State 220, CornerPush]
type = VarSet
trigger1 = movecontact = 1
fvar(3) = 11.9
ignorehitpause = 1

[State 0, end]
type = changestate
trigger1 = !animtime
value = 11
ctrl = 1

;===========================================================================
;Crouch Heavy
[Statedef 420]
type = C
movetype = A
physics = N
ctrl = 0
anim = ifelse((prevstateno = [100,105]),401,420)
poweradd = 50
sprpriority = 0
facep2 = 1-(prevstateno=[100,119])

[State 0, pos]
type = posset
trigger1 = !time
y = 0

[State 12200, VarSet]
type = VarSet
trigger1 = time = 0
var(58) = 0

[State 12200, VarAdd]
type = VarAdd
trigger1 = !var(8)
var(58) = 1

[State 0, vel]
type = velset
trigger1 = !time
trigger1 = vel x != 0
trigger2 = animelemtime(5) = 0
x = 0

[State 0, vel]
type = velset
trigger1 = prevstateno = [100,105]
trigger1 = animelemtime(4) = 0
x = 5

[State 0, vel]
type = velmul
triggerall = !var(8)
trigger1 = prevstateno = [100,105]
trigger1 = var(58) >= 16
x = .9

[State 0, snd]
type = playsnd
trigger1 = anim = 401
trigger1 = animelem = 4
value = 2,0
persistent = 0

[State 0, snd]
type = playsnd
triggerall = !var(8)
trigger1 = anim = 420
trigger1 = !time
value = 100,1
channel = 0

[State 0, snd]
type = playsnd
triggerall = !var(8)
trigger1 = anim = 420
trigger1 = animelem = 4
value = 0,12

[State 0, explod]
type = explod
trigger1 = anim = 401
trigger1 = animelemtime(4) = 0
anim = 8050
id = 8050
facing = 1
postype = p1
pos = 0,0
sprpriority = 2
ownpal = 1
bindtime = -1
persistent = 0
removeongethit = 1

[State 0, hit]
type = hitdef
triggerall = !var(8)
trigger1 = anim = 420
trigger1 = AnimElem = 5
attr = C, NA
damage = ceil(ifelse((70*fvar(0))<7,7,(70*fvar(0)))),0
priority = 5,Hit
hitflag = MAF
guardflag = M
animtype = hard
air.animtype = Back
fall.animtype = Back
pausetime = 0,13
sparkno = s6002
sparkxy = -16,-7
guard.sparkno = s6010
hitsound = s0,3
guardsound = s0,9
getpower = 60,0
givepower = 30,0
ground.type = Low
ground.slidetime = 22
ground.hittime = 22
ground.velocity = -10
guard.velocity = -8
air.type = Low
air.velocity = -3,-3*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 22
fall = 0
air.fall = 0
guard.kill = 0
yaccel = .36
id = 420
p2facing = 1

[State 0, hit]
type = hitdef
triggerall = !var(8)
trigger1 = anim = 401
trigger1 = AnimElem = 4
attr = C, NA
damage = ceil(ifelse((70*fvar(0))<7,7,(70*fvar(0)))),0
priority = 3,Hit
hitflag = MAF
guardflag = L
animtype = Light
air.animtype = Back
fall.animtype = Back
pausetime = 0,13
sparkno = s6002
sparkxy = -10,-10
guard.sparkno = s6010
hitsound = s0,3
guardsound = s0,9
getpower = 40,0
givepower = 20,0
ground.type = Low
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -4,-5*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
guard.velocity = -8
air.type = Low
air.velocity = -3,-3*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 17
fall = 1
yaccel = .36
id = stateno
p2facing = 1

[State 0, end]
type = changeanim
trigger1 = prevstateno != [100,105]
trigger1 = anim = 420
trigger1 = movecontact = 3
value = anim
elem = 6

[State 0, pos]
type = posfreeze
trigger1 = var(8) > 0

[State 220, CornerPush]
type = VarSet
trigger1 = movecontact = 1
fvar(3) = 16
ignorehitpause = 1

[State 0, end]
type = changestate
trigger1 = !animtime
value = 11
ctrl = 1

;===========================================================================
;Heavy Slide
[Statedef 425]
type = C
movetype = A
physics = N
ctrl = 0
anim = 425
poweradd = 50
sprpriority = 0
facep2 = 1-(prevstateno=[100,119])

[State 0, pos]
type = posset
trigger1 = !time
y = 0

[State 12200, VarSet]
type = VarSet
trigger1 = time = 0
var(58) = 0

[State 12200, VarAdd]
type = VarAdd
trigger1 = !var(8)
var(58) = 1

[State 0, vel]
type = velset
trigger1 = !time
trigger1 = vel x != 0
trigger2 = animelemtime(6) = 0
x = 0

[State 0, vel]
type = velset
trigger1 = animelemtime(5) = 0
x = 8
persistent = 0

[State 0, vel]
type = velmul
triggerall = !var(8)
trigger1 = var(58) >= 9
x = .9

[State 0, snd]
type = playsnd
trigger1 = animelem = 5
value = 100,11
channel = 0
persistent = 0

[State 0, snd]
type = playsnd
trigger1 = animelem = 5
value = 0,11
persistent = 0

[State 0, explod]
type = explod
trigger1 = animelemtime(5) = 0
anim = 8050
id = 8050
facing = 1
postype = p1
pos = 0,0
sprpriority = 2
ownpal = 1
bindtime = -1
persistent = 0
removeongethit = 1

[State 0, hit]
type = hitdef
triggerall = !var(8)
trigger1 = AnimElem = 5
attr = C, NA
damage = ceil(ifelse((70*fvar(0))<7,7,(70*fvar(0)))),0
priority = 4,Hit
hitflag = MAF
guardflag = L
animtype = hard
air.animtype = Back
fall.animtype = Back
pausetime = 0,13
sparkno = s6002
sparkxy = -16,-7
guard.sparkno = s6010
hitsound = s0,3
guardsound = s0,9
getpower = 60,0
givepower = 30,0
ground.type = trip
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -3,-4*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
guard.velocity = -8
air.type = Low
air.velocity = -3,-4*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 18
fall = 1
air.fall = 1
guard.kill = 0
yaccel = .36
p2facing = 1
id = stateno

[State 0, pos]
type = posfreeze
trigger1 = var(8) > 0

[State 220, CornerPush]
type = VarSet
trigger1 = movecontact = 1
fvar(3) = 16
ignorehitpause = 1

[State 0, end]
type = changestate
trigger1 = !animtime
value = 11
ctrl = 1

;===========================================================================
;Crouch Clacker
[Statedef 430]
type = C
movetype = A
physics = N
ctrl = 0
anim = 430
poweradd = 40
sprpriority = 0
velset = 0,0
facep2 = 1-(prevstateno=[100,119])

[State 0, pos]
type = posset
trigger1 = !time
y = 0

[State 0, vel]
type = velset
trigger1 = prevstateno != [100,105]
trigger1 = !time
trigger1 = vel x != 0
x = 0

[State 0, snd]
type = width
trigger1 = anim = 430 && animelemtime(9) = 0
value = 30,0

[State 0, snd]
type = playsnd
triggerall = !var(8)
trigger1 = !time
value = 100,10
channel = 0

[State 0, snd]
type = playsnd
triggerall = !var(8)
triggerall = anim = 430
trigger1 = animelem = 9
value = 2,7

[State 0, end]
type = changeanim
trigger1 = movecontact = 1
trigger1 = anim != 435
value = 435

;ヒット音
[State 0, snd]
type = playsnd
trigger1 = movecontact = 1
value = 0,4+(moveguarded=1)*5
ignorehitpause = 1
channel = 2

[State 0, hit]
type = hitdef
triggerall = anim = 430
trigger1 = AnimElem = 10
attr = C, NA
damage = ceil(ifelse((63*fvar(0))<7,7,(63*fvar(0)))),0
priority = 5,Hit
hitflag = MAF
guardflag = L
animtype = hard
air.animtype = Back
fall.animtype = Back
pausetime = 0,3
;guard.pausetime = 3,3
sparkno = s6004
sparkxy = -40,-5
guard.sparkno = s6010
hitsound = -1
guardsound = -1
getpower = 50,0
givepower = 25,0
ground.type = low
ground.slidetime = 22
ground.hittime = 22
guard.slidetime = 14
guard.hittime = 14
ground.velocity = -10
guard.velocity = -8
air.type = low
air.velocity = -4,-3*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 18
fall = 0
air.fall = 0
yaccel = .36
id = stateno
p2facing = 1

[State 0, hit]
type = hitdef
trigger1 = anim = 430
trigger1 = AnimElem = 11
trigger2 = anim = 435
trigger2 = AnimElem = 2
attr = C, NA
damage = ceil(ifelse((14*fvar(0))<7,7,(14*fvar(0)))),0
priority = 5,Hit
hitflag = MAF
guardflag = L
animtype = hard
air.animtype = Back
fall.animtype = Back
pausetime = 0,3
;guard.pausetime = 3,3
sparkno = s6004
sparkxy = -40,-5
guard.sparkno = s6010
hitsound = -1
guardsound = -1
getpower = 0,0
givepower = 10,0
ground.type = Trip
ground.slidetime = 21
ground.hittime = 21
guard.slidetime = 13
guard.hittime = 13
ground.velocity = -3,-8*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
guard.velocity = -8
air.type = low
air.velocity = -4,-3*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 18
fall = 0
air.fall = 0
yaccel = .36
id = stateno
p2facing = 1

[State 0, hit]
type = hitdef
triggerall = !movehit
trigger1 = anim = 430
trigger1 = AnimElem = 12
trigger2 = anim = 435
trigger2 = AnimElem = 4
attr = C, NA
damage = ceil(ifelse((63*fvar(0))<7,7,(63*fvar(0)))),0
priority = 5,Hit
hitflag = MAF
guardflag = L
animtype = hard
air.animtype = Back
fall.animtype = Back
pausetime = 0,3
;guard.pausetime = 3,3
sparkno = s6004
sparkxy = -40,-5
guard.sparkno = s6010
hitsound = -1
guardsound = -1
getpower = 0,0
givepower = 10,0
ground.type = low
ground.slidetime = 21
ground.hittime = 21
guard.slidetime = 13
guard.hittime = 13
ground.velocity = -10
guard.velocity = -8
air.type = low
air.velocity = -4,-3*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 18
fall = 0
air.fall = 0
yaccel = .36
id = stateno
p2facing = 1

[State 0, pos]
type = posfreeze
trigger1 = var(8) > 0

[State 220, CornerPush]
type = VarSet
trigger1 = movecontact = 1
fvar(3) = 16
ignorehitpause = 1

[State 0, end]
type = changestate
trigger1 = !animtime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Air Light
[Statedef 600]
type    = A
movetype= A
physics = N
poweradd= 30
ctrl = 0
anim = 600

[State 3001, Width]
type = Width
trigger1 = 1
edge = 5,0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Animelem = 4
value = 0, 10
persistent = 0

[State 0, hit]
type = hitdef
trigger1 = !var(8)
trigger1 = AnimElem = 4
attr = A, NA
damage = ceil(ifelse((35*fvar(0))<7,7,(35*fvar(0)))),0
priority = 3,Hit
hitflag = MAF
guardflag = HA
animtype = Light
air.animtype = Back
fall.animtype = Back
pausetime = 0,9
sparkno = s6000
sparkxy = -16,-35
guard.sparkno = s6010
hitsound = s0,0
guardsound = s0,9
getpower = 40,0
givepower = 20,0
ground.type = High
ground.slidetime = 12
ground.hittime = 12
ground.velocity = -6
guard.velocity = -5.5
air.type = High
air.velocity = -2,-4*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
air.hittime = 12
fall = 0
air.fall = 0
yaccel = .36
p2facing = 1

[State 0, pos]
type = posfreeze
trigger1 = var(8) > 0

[State 220, CornerPush]
type = VarSet
trigger1 = movecontact = 1
fvar(3) = 8.3
ignorehitpause = 1

[State 3001, Width]
type = Width
trigger1 = 1
edge = 5,0

[State -3, Variable Height]
type = PlayerPush
triggerall = statetype=A && movetype!=H && numenemy
triggerall = p2bodydist x = [-(enemynear,const(size.ground.back) + enemynear,const(size.ground.front)), 0]
trigger1 = p2statetype=S
trigger1 = p2dist y >= (enemynear,const(size.height) - 12); Value depends on each char
trigger2 = p2statetype=C
trigger2 = p2dist y >= (enemynear,const(size.height) - 28); Value depends on each char
trigger3 = p2statetype=L
trigger3 = p2dist y >= 12
value=0
ignorehitpause=1

[State 4030, Gravity]
type = VelAdd
trigger1 = !var(8)
y = ifelse(var(5),.5,.6)

[State 1100, ChangeState]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 52

;---------------------------------------------------------------------------
;Air Medium
[Statedef 610]
type    = A
movetype= A
physics = N
poweradd= 40
ctrl = 0
anim = 610

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Animelem = 5
value = 0, 11
persistent = 0

[State 0, hit]
type = hitdef
trigger1 = !var(8)
trigger1 = AnimElem = 5
attr = A, NA
damage = ceil(ifelse((70*fvar(0))<7,7,(70*fvar(0)))),0
priority = 3,Hit
hitflag = MAF
guardflag = HA
animtype = middle
air.animtype = Back
fall.animtype = Back
pausetime = 0,9
sparkno = s6001
sparkxy = -11,-35
guard.sparkno = s6010
hitsound = s0,2
guardsound = s0,9
getpower = 50,0
givepower = 25,0
ground.type = High
ground.slidetime = 12
ground.hittime = 12
ground.velocity = -6
guard.velocity = -5.5
air.type = High
air.velocity = -2,-4*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
air.hittime = 12
fall = 0
air.fall = 0
yaccel = .36
p2facing = 1

[State 0, pos]
type = posfreeze
trigger1 = var(8) > 0

[State 220, CornerPush]
type = VarSet
trigger1 = movecontact = 1
fvar(3) = 8.3
ignorehitpause = 1

[State 3001, Width]
type = Width
trigger1 = 1
edge = 5,0

[State -3, Variable Height]
type = PlayerPush
triggerall = statetype=A && movetype!=H && numenemy
triggerall = p2bodydist x = [-(enemynear,const(size.ground.back) + enemynear,const(size.ground.front)), 0]
trigger1 = p2statetype=S
trigger1 = p2dist y >= (enemynear,const(size.height) - 12); Value depends on each char
trigger2 = p2statetype=C
trigger2 = p2dist y >= (enemynear,const(size.height) - 28); Value depends on each char
trigger3 = p2statetype=L
trigger3 = p2dist y >= 12
value=0
ignorehitpause=1

[State 4030, Gravity]
type = VelAdd
trigger1 = !var(8)
y = ifelse(var(5),.5,.6)

[State 1100, ChangeState]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 52

;---------------------------------------------------------------------------
;Air Heavy
[Statedef 620]
type    = A
movetype= A
physics = N
poweradd= 50
ctrl = 0
anim = 620

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Animelem = 5
value = 0, 12
persistent = 0

[State 0, hit]
type = hitdef
trigger1 = !var(8)
trigger1 = AnimElem = 5
attr = A, NA
damage = ceil(ifelse((98*fvar(0))<7,7,(98*fvar(0)))),0
priority = 3,Hit
hitflag = MAF
guardflag = HA
animtype = hard
air.animtype = Back
fall.animtype = Back
pausetime = 0,9
sparkno = s6002
sparkxy = -10,-60
guard.sparkno = s6010
hitsound = s0,3
guardsound = s0,9
getpower = 60,0
givepower = 30,0
ground.type = High
ground.slidetime = 12
ground.hittime = 12
ground.velocity = -6
guard.velocity = -5.5
air.type = High
air.velocity = -2,-4*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
air.hittime = 12
fall = 0
air.fall = 0
yaccel = .36
p2facing = 1

[State 0, pos]
type = posfreeze
trigger1 = var(8) > 0

[State 220, CornerPush]
type = VarSet
trigger1 = movecontact = 1
fvar(3) = 8.3
ignorehitpause = 1

[State 3001, Width]
type = Width
trigger1 = 1
edge = 5,0

[State -3, Variable Height]
type = PlayerPush
triggerall = statetype=A && movetype!=H && numenemy
triggerall = p2bodydist x = [-(enemynear,const(size.ground.back) + enemynear,const(size.ground.front)), 0]
trigger1 = p2statetype=S
trigger1 = p2dist y >= (enemynear,const(size.height) - 12); Value depends on each char
trigger2 = p2statetype=C
trigger2 = p2dist y >= (enemynear,const(size.height) - 28); Value depends on each char
trigger3 = p2statetype=L
trigger3 = p2dist y >= 12
value=0
ignorehitpause=1

[State 4030, Gravity]
type = VelAdd
trigger1 = !var(8)
y = ifelse(var(5),.5,.6)

[State 1100, ChangeState]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 52

;---------------------------------------------------------------------------
;Air Clacker
[Statedef 630]
type    = A
movetype= A
physics = N
poweradd= 40
ctrl = 0
anim = 630
facep2 = 1

[State 0, snd]
type = playsnd
triggerall = !var(8)
trigger1 = !time
value = 100,12
channel = 0

[State 0, snd]
type = playsnd
triggerall = !var(8)
triggerall = anim = 630
trigger1 = animelem = 5
value = 2,7

[State 0, end]
type = changeanim
trigger1 = movecontact = 1
trigger1 = anim != 635
value = 635

;ヒット音
[State 0, snd]
type = playsnd
trigger1 = movecontact = 1
value = 0,4+(moveguarded=1)*5
ignorehitpause = 1
channel = 2

[State 0, hit]
type = hitdef
triggerall = anim = 630
trigger1 = AnimElem = 4
attr = A, NA
damage = ceil(ifelse((63*fvar(0))<7,7,(63*fvar(0)))),0
priority = 5,Hit
hitflag = MAF
guardflag = HA
animtype = hard
air.animtype = Back
fall.animtype = Back
pausetime = 0,0
sparkno = s6004
sparkxy = -20,-40
guard.sparkno = s6010
hitsound = -1
guardsound = -1
getpower = 50,0
givepower = 25,0
ground.type = high
ground.slidetime = 14
ground.hittime = 14
ground.velocity = -6
guard.velocity = -5.5
air.type = high
air.velocity = -3,-1.5*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
airguard.velocity = -3,ifelse(var(40)<12,-3+(var(40)*.42),0)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 18
fall = 0
air.fall = 0
yaccel = .36
id = stateno
p2facing = 1

[State 0, hit]
type = hitdef
triggerall = anim = 635
trigger1 = AnimElem = 2
attr = A, NA
damage = ceil(ifelse((14*fvar(0))<7,7,(14*fvar(0)))),0
priority = 5,Hit
hitflag = MAF
guardflag = HA
animtype = hard
air.animtype = Back
fall.animtype = Back
pausetime = 0,0
sparkno = s6004
sparkxy = -20,-40
guard.sparkno = s6010
hitsound = -1
guardsound = -1
getpower = 0,0
givepower = 10,0
ground.type = high
ground.slidetime = 14
ground.hittime = 14
ground.velocity = -8
guard.velocity = -8
air.type = high
air.velocity = -3,-1.5*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
airguard.velocity = -3,ifelse(var(40)<12,-3+(var(40)*.42),0)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 18
fall = 0
air.fall = 0
yaccel = .36
id = stateno
p2facing = 1

[State 0, hit]
type = hitdef
triggerall = anim = 635
trigger1 = AnimElem = 4
attr = A, NA
damage = ceil(ifelse((7*fvar(0))<7,7,(7*fvar(0)))),0
priority = 5,Hit
hitflag = MAF
guardflag = HA
animtype = hard
air.animtype = Back
fall.animtype = Back
pausetime = 0,0
sparkno = s6004
sparkxy = -20,-40
guard.sparkno = s6010
hitsound = -1
guardsound = -1
getpower = 0,0
givepower = 10,0
ground.type = high
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -8
guard.velocity = -8
air.type = high
air.velocity = -3,-1.5*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
airguard.velocity = -3,ifelse(var(40)<12,-3+(var(40)*.42),0)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 14
fall = 0
air.fall = 0
yaccel = .36
id = stateno
p2facing = 1

[State 0, pos]
type = posfreeze
trigger1 = var(8) > 0

[State 220, CornerPush]
type = VarSet
trigger1 = movecontact = 1
fvar(3) = 8.3
ignorehitpause = 1

[State 3001, Width]
type = Width
trigger1 = 1
edge = 5,0

[State -3, Variable Height]
type = PlayerPush
triggerall = statetype=A && movetype!=H && numenemy
triggerall = p2bodydist x = [-(enemynear,const(size.ground.back) + enemynear,const(size.ground.front)), 0]
trigger1 = p2statetype=S
trigger1 = p2dist y >= (enemynear,const(size.height) - 12); Value depends on each char
trigger2 = p2statetype=C
trigger2 = p2dist y >= (enemynear,const(size.height) - 28); Value depends on each char
trigger3 = p2statetype=L
trigger3 = p2dist y >= 12
value=0
ignorehitpause=1

[State 4030, Gravity]
type = VelAdd
trigger1 = !var(8)
y = ifelse(var(5),.5,.6)

[State 1100, ChangeState]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 52

;===========================================================================
; 投げ技
;===========================================================================
;掴み
[Statedef 800]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 800+var(0)

[State 0, hit]
type = hitdef
triggerall = !fvar(7)
trigger1 = p2movetype != H && (p2stateno != [40,42])
trigger1 = animelemtime(1) >= 0
attr = S,NT
priority = 1,Miss
hitflag = M-
sparkno = -1
hitsound = s0,10
;p1stateno = 810
p2stateno = 820
p1facing = ifelse(command = "holdfwd", 1, -1)
p2facing = 1
fall = 1
id = 800

[State 901, Throw]
type = ChangeState
trigger1 = numtarget(800)
trigger1 = target,stateno = 820
value = 810
persistent = 0

[State 0, end]
type = changestate
trigger1 = !animtime
value = 225

;---------------------------------------------------------------------------
;成功
[Statedef 810]
type    = S
movetype= A
physics = N
anim = 810
sprpriority = 1

[State 0, end]
type = changestate
triggerall = numtarget
trigger1 = time = [1,4]
trigger1 = target,command = "holdfwd" || target,command = "holdback"
trigger1 = target,command = "y" || target,command = "z" || target,command = "b" || target,command = "c"
value = 830

[State 0, snd]
type = playsnd
trigger1 = time = 5
value = 100,24
channel = 0

[State 810, 音を鳴らす];掴み用
type = PlaySnd
trigger1 = !time
value = 0, 16

[STate 901,1]
type = targetBind
triggerall = numtarget
trigger1 = anim = 810
trigger1 = animelem = 1
pos = ceil(50*const(size.xscale)),0
postype = P1
time = 1

[STate 901,1]
type = targetBind
triggerall = numtarget
trigger1 = anim = 811
trigger1 = animelem = 3
pos = ceil(70*const(size.xscale)),0
postype = P1
time = 1

[STate 901,1]
type = targetBind
triggerall = numtarget
trigger1 = anim = 811
trigger1 = animelem = 4
pos = ceil(100*const(size.xscale)),0
postype = P1
time = 1

[State 810, 物理的なキャラの幅]
type = Width
trigger1 = time < 40
edge = 60,0 ;画面端を押す幅を変える（オレンジの線）

[State 810, 物理的なキャラの幅]
type = Width
trigger1 = time >= 40
edge = 90,0 ;画面端を押す幅を変える（オレンジの線）

[State 810]
type = Changeanim
trigger1 = time = 40
value = 811

[State 0, life]
type = targetlifeadd
triggerall = numtarget
triggerall = anim = 811
trigger1 = animelemtime(4) = 0
value = ceil(ifelse((-84*fvar(0))>-7,-7,(-84*fvar(0))))

[State 0, target]
type = targetstate
triggerall = numtarget
triggerall = anim = 811
trigger1 = animelemtime(4) = 0
value = 821
persistent = 0

[State 0, target]
type = targetstate
triggerall = numtarget
triggerall = anim = 811
trigger1 = animelemtime(5) = 0
value = 822
persistent = 0

[State 0, explod]
type = explod
triggerall = anim = 811
trigger1 = animelemtime(4) = 0
anim = 6070
id = 6070
facing = 1
postype = p1
pos = 90,-70
sprpriority = 3
ownpal = 1
scale = .833,1.07

[State 0, explod]
type = playsnd
triggerall = anim = 811
trigger1 = animelemtime(4) = 0
value = 0,5

[State 810, ステート変更]
type = ChangeState
trigger1 = anim = 811 && !animtime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;相手１
[Statedef 820]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = -1

[State 820, 相手のアニメ変更]
type = ChangeAnim2
trigger1 = Time = 0
value = 820

[State 820, 相手のアニメ変更]
type = selfstate
trigger1 = Time = 120
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;相手１
[Statedef 821]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = -1

[State 820, 相手のアニメ変更]
type = ChangeAnim2
trigger1 = Time = 0
value = 821

;---------------------------------------------------------------------------
;（相手）2
[Statedef 822]
type = A
movetype = H
physics = N
velset = -5,-7

[State 2500, ScreenBound]
type = screenbound
trigger1 = 1
value = 1
movecamera = 30,10

[State 2601, ChangeAnim] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
trigger1 = time = 0
value = 5050

[State 5050, 2] ;Coming down anim
type = ChangeAnim
trigger1 = anim = [5050,5059]
trigger1 = Vel Y >= ifelse(anim = 5050, 1, -2)
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0

[State 2601, EnvShake]
type = EnvShake
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
time = 10

[State 2601, Vel]
type = VelAdd
trigger1 = 1
y = .4

[State 5040, 5] ;Recover near ground
type = SelfState
triggerall = time >= 15
triggerall = Vel Y > 0
triggerall = Pos Y >= -20
triggerall = alive
trigger1 = Command = "recovery"
value = 5200 ;HITFALL_RECOVER

[State 5040, 6]; Recover in mid air
type = SelfState
triggerall = time >= 15
triggerall = Vel Y > -1
triggerall = alive
trigger1 = Command = "recovery"
value = 5210 ;HITFALL_AIRRECOVER

[State 2601, SelfState]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

;---------------------------------------------------------------------------
;投げぬけ（自分）（y.yさん製作）
[Statedef 830]
type = A
movetype = I
physics = A
anim = 5210+var(0)
velset = -3,-5

[State 0, target]
type = targetbind
triggerall = numtarget
trigger1 = !time
pos = 50,0

[State 0, target]
type = targetstate
triggerall = numtarget
trigger1 = !time
value = 840

[State 0, nhb]
type = nothitby
trigger1 = 1
value = SCA

;---------------------------------------------------------------------------
;投げ抜け（相手）
[Statedef 840]
type = A
movetype = I
physics = N
velset = -3,-6

[State 0, pos]
type = posset
trigger1 = !time
y = 0

[State 0, anim]
type = changeanim
trigger1 = !time
value = 5210

[State 0, nhb]
type = nothitby
trigger1 = 1
value = SCA

[State 0, vel]
type = veladd
trigger1 = 1
y = .45

[State 0, end]
type = selfstate
trigger1 = vel y > 0
trigger1 = pos y >= 0
value = 52
ctrl = 1

;===========================================================================
; 必殺技
;===========================================================================
;波紋カッター
[Statedef 1000]
type = S
movetype = A
physics = N
ctrl = 0
velset = 0,0
poweradd = 0
sprpriority = 0
facep2 = 1;-(prevstateno=[100,119])

[State 0, width]
type = width
trigger1 = animelemtime(8) >= 0 && animelemtime(14) < 0 && var(2) != 2
trigger2 = animelemtime(14) >= 0 && animelemtime(24) < 0 && var(2) = 2
value = 45,0

[State 0, pos]
type = posset
trigger1 = !time
y = 0

[State 0, var]
type = varset
trigger1 = !time
triggerall = !var(59)
var(2) = ifelse(command = "236z",2,ifelse(command = "236y",1,0))

[State 1000, VarSet]
type = varset
trigger1 = !time
triggerall = !var(59)
triggerall = var(36)
var(2) = ifelse((var(36)&2**6),2,ifelse((var(36)&2**5),1,0))

[State 1000, VarSet];AI
type = varset
trigger1 = !time
triggerall = var(59)
var(2) = 1

[State 0, anim]
type = changeanim
trigger1 = !time
value = 1000+var(2)

[State 0, snd]
type = playsnd
trigger1 = !time
value = 100,25
channel = 0

[State 0, snd]
type = playsnd
trigger1 = animelemtime(5) = 0 && var(2) = 2
value = 2,1

[State 0, snd]
type = playsnd
trigger1 = animelemtime(7) = 0 && var(2) != 2
trigger2 = animelemtime(13) = 0 && var(2) = 2
value = 2,2

[State 0, explod]
type = explod
trigger1 = anim = 1000 || anim = 1001
trigger1 = animelemtime(6) = 0
anim = 1010+var(2)
id = 1010+var(2)
facing = 1
postype = p1
pos = 0,0
sprpriority = 2
ownpal = 1
;bindtime = -1
vel = 2;*const(size.xscale),0
removeongethit = 1
scale = .833,1.07

[State 0, explod]
type = explod
trigger1 = anim = 1002
trigger1 = animelemtime(12) = 0
anim = 1010+var(2)
id = 1010+var(2)
facing = 1
postype = p1
pos = 0,0
sprpriority = 2
ownpal = 1
;bindtime = -1
vel = 2;*const(size.xscale),0
removeongethit = 1
scale = .833,1.07

[State 0, explod]
type = explod
trigger1 = var(2) = 2
trigger1 = animelemtime(5) = 0 && facing = 1
anim = 815
id = 815
facing = 1
postype = p1
pos = 0,0
sprpriority = 1
ownpal = 1
bindtime = -1
scale = .833,1.07

[State 0, explod]
type = explod
trigger1 = var(2) = 2
trigger1 = animelemtime(5) = 0 && facing = -1
anim = 816
id = 816
facing = 1
postype = p1
pos = 0,0
sprpriority = 1
ownpal = 1
bindtime = -1
scale = .833,1.07

[State 0, attack]
Type = attackdist
trigger1 = !time
value = 220

[State 0, hit]
type = hitdef
triggerall = !movecontact
triggerall = anim = 1000
trigger1 = animelem = 8
trigger2 = animelem = 9
attr = S, SP
damage = ceil(ifelse((105*fvar(0))<7,7,(105*fvar(0)))),ceil(ifelse((105*fvar(0)*.25)<7,7,(105*fvar(0)*.25)))
priority = 5,Hit
hitflag = MAF
guardflag = MA
animtype = hard
air.animtype = low
fall.animtype = low
pausetime = 0,11
sparkno = s6004
sparkxy = -10,-70
guard.sparkno = s6010
hitsound = -1
guardsound = -1
getpower = 0,0
givepower = 10,0
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -10
guard.velocity = -8
air.type = Low
air.velocity = -3,12.4*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
airguard.velocity = -4,-3*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 20
fall = 0
air.fall = 1
guard.kill = 0
yaccel = .36
id = stateno
p2facing = 1

[State 0, hit]
type = hitdef
triggerall = !movecontact
triggerall = anim = 1001
trigger1 = animelem = 8
trigger2 = animelem = 9
attr = S, SP
damage = ceil(ifelse((105*fvar(0))<7,7,(105*fvar(0)))),ceil(ifelse((105*fvar(0)*.25)<7,7,(105*fvar(0)*.25)))
priority = 5,Hit
hitflag = MAF
guardflag = MA
animtype = hard
air.animtype = low
fall.animtype = low
pausetime = 0,11
sparkno = s6004
sparkxy = -10,-70
guard.sparkno = s6010
hitsound = -1
guardsound = -1
getpower = 0,0
givepower = 10,0
ground.type = Low
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -10
guard.velocity = -8
air.type = Low
air.velocity = -3,12.4*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
airguard.velocity = -4,-3*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 20
fall = 0
air.fall = 1
guard.kill = 0
yaccel = .36
id = stateno
p2facing = 1

[State 0, hit]
type = hitdef
triggerall = anim = 1002
triggerall = var(6) = 0
trigger1 = animelem = 14
trigger2 = animelem = 15
trigger3 = animelem = 16
trigger4 = animelem = 17
trigger5 = animelem = 18
trigger6 = animelem = 19
attr = S, SP
damage = ceil(ifelse((35*fvar(0))<7,7,(35*fvar(0)))),ceil(ifelse((35*fvar(0)*.25)<7,7,(35*fvar(0)*.25)))
priority = 5,Hit
hitflag = MAF
guardflag = MA
animtype = hard
air.animtype = low
fall.animtype = low
pausetime = 0,11
sparkno = s6004
sparkxy = -10,-70
guard.sparkno = s6010
hitsound = -1
guardsound = -1
getpower = 0,0
givepower = 10,0
ground.type = Low
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -10
guard.velocity = -8
air.type = Low
air.velocity = -3,12.4*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
airguard.velocity = -4,-3*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 20
fall = 0
air.fall = 1
guard.kill = 0
yaccel = .36
id = stateno
p2facing = 1

[State 0, hit]
type = hitdef
triggerall = anim = 1002
triggerall = var(6) = 1
trigger1 = animelem = 21
trigger2 = animelem = 22
attr = S, SP
damage = ceil(ifelse((35*fvar(0))<7,7,(35*fvar(0)))),ceil(ifelse((35*fvar(0)*.25)<7,7,(35*fvar(0)*.25)))
priority = 5,Hit
hitflag = MAF
guardflag = MA
animtype = hard
air.animtype = low
fall.animtype = low
pausetime = 0,11
sparkno = s6004
sparkxy = -10,-70
guard.sparkno = s6010
hitsound = -1
guardsound = -1
getpower = 0,0
givepower = 10,0
ground.type = Low
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -10
guard.velocity = -8
air.type = Low
air.velocity = -3,12.4*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
airguard.velocity = -4,-3*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 20
fall = 0
air.fall = 1
guard.kill = 0
yaccel = .36
id = stateno
p2facing = 1

[State 0, hit]
type = hitdef
triggerall = anim = 1002
triggerall = var(6) = 2
triggerall = !var(1) >= 2
trigger1 = animelem = 25
trigger2 = animelem = 26
attr = S, SP
damage = ceil(ifelse((35*fvar(0))<7,7,(35*fvar(0)))),ceil(ifelse((35*fvar(0)*.25)<7,7,(35*fvar(0)*.25)))
priority = 5,Hit
hitflag = MAF
guardflag = MA
animtype = hard
air.animtype = low
fall.animtype = low
pausetime = 0,11
sparkno = s6004
sparkxy = -10,-70
guard.sparkno = s6010
hitsound = -1
guardsound = -1
getpower = 0,0
givepower = 10,0
ground.type = Low
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -10
guard.velocity = -8
air.type = Low
air.velocity = -3,12.4*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
airguard.velocity = -4,-3*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 20
fall = 0
air.fall = 1
guard.kill = 0
yaccel = .36
id = stateno
p2facing = 1

[State 0, hit]
type = hitdef
triggerall = anim = 1002
triggerall = var(6) = 2
triggerall = var(1) >= 2
trigger1 = animelem = 25
trigger2 = animelem = 26
attr = S, SP
damage = ceil(ifelse((70*fvar(0))<7,7,(70*fvar(0)))),ceil(ifelse((70*fvar(0)*.25)<7,7,(70*fvar(0)*.25)))
priority = 5,Hit
hitflag = MAF
guardflag = MA
animtype = hard
air.animtype = low
fall.animtype = low
pausetime = 0,11
sparkno = s6004
sparkxy = -10,-70
guard.sparkno = s6010
hitsound = -1
guardsound = -1
getpower = 40,0
givepower = 20,0
ground.type = Low
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -10
guard.velocity = -8
air.type = Low
air.velocity = -6,-3*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
airguard.velocity = -4,-3*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 20
fall = 0
air.fall = 1
guard.kill = 0
palfx.color = 108
palfx.time = 80
palfx.sinadd = 96,96,96,4
yaccel = .36
id = stateno
p2facing = 1

;痺れエフェクト1
[State 0, explod]
type = explod
triggerall = anim = 1002 && var(1) >= 2
trigger1 = animelemtime(26) >= 0
trigger1 = movehit = 1
anim = 6060
id = 6060
postype = p2
pos = 0,-55
bindtime = -1
removetime = 100
scale = .833,1.07
sprpriority = 5
ownpal = 1
pausemovetime = 999999
supermovetime = 999999

;痺れエフェクト2
[State 0, explod]
type = explod
triggerall = anim = 1002 && var(1) >= 2
trigger1 = animelemtime(26) >= 0
trigger1 = movehit = 1
anim = 6061
id = 6060
postype = p2
pos = 0,-85
bindtime = -1
removetime = 100
scale = .833,1.07
sprpriority = 5
ownpal = 1
pausemovetime = 999999
supermovetime = 999999

;痺れエフェクト3
[State 0, explod]
type = explod
triggerall = anim = 1002 && var(1) >= 2
trigger1 = animelemtime(26) >= 0
trigger1 = movehit = 1
anim = 6062
id = 6060
postype = p2
pos = 0,-20
bindtime = -1
removetime = 100
scale = .833,1.07
sprpriority = 5
ownpal = 1
pausemovetime = 999999
supermovetime = 999999

;ヒット音
[State 0, snd]
type = playsnd
trigger1 = movecontact = 1
value = 0,5+(moveguarded=1)*4
ignorehitpause = 1
channel = 1

[State 200, 7]
type = TargetState
triggerall = numtarget
triggerall = anim = 1002
triggerall = var(1) >= 3
trigger1 = numtarget && movehit
trigger1 = target,stateno != [1001,1002]
value = 1001
ignorehitpause = 0
persistent = 0

[State 0, end]
type = varset
trigger1 = !time
var(6) = 0

[State 0, end]
type = varset
triggerall = var(2) = 2
trigger1 = animelemtime(14) >= 0 && animelemtime(20) < 0
var(6) = 1
ignorehitpause=1
[State 0, end]
type = varset
triggerall = var(2) = 2
trigger1 = animelemtime(21) >= 0 && animelemtime(23) < 0
var(6) = 2
ignorehitpause=1
[State 0, end]
type = varset
triggerall = var(2) = 2
trigger1 = animelemtime(25) >= 0 && animelemtime(27) < 0
var(6) = 3
ignorehitpause=1

[State 0, end]
type = varset
trigger1 = !time
var(1) = 0
[State 0, end]
type = varadd
trigger1 = movecontact = 1
var(1) = 1
ignorehitpause=1

[State 0, end]
type = changestate
trigger1 = !animtime
value = 0
ctrl = 1

;===========================================================================
;波紋コーラー
[Statedef 1100]
type = S
movetype = A
physics = N
ctrl = 0
anim = 1100
poweradd = 0
velset = 0,0
sprpriority = 0
facep2 = 1;-(prevstateno=[100,119])

[State 0, pos]
type = posset
trigger1 = !time
y = 0

[State 0, var]
type = varset
trigger1 = !time
triggerall = !var(59)
var(2) = ifelse(command = "623z",2,ifelse(command = "623y",1,0))

[State 1000, VarSet]
type = varset
trigger1 = !time
triggerall = !var(59)
triggerall = var(36)
var(2) = ifelse((var(36)&2**3),2,ifelse((var(36)&2**2),1,0))

[State 1000, VarSet]
type = varset
trigger1 = !time
triggerall = var(59)
triggerall = var(36)
var(2) = 0

[State 0, anim]
type = changeanim
trigger1 = !time
value = 1100+var(2)

[State 0, snd]
type = playsnd
trigger1 = !time
value = 102,8
channel = 0

[State 0, snd]
type = playsnd
triggerall = !var(8)
trigger1 = var(2) = 0 && animelemtime(7) = 0
trigger2 = (var(2) = [1,2]) && animelemtime(11) = 0
value = 2,8

[State 0, snd]
type = playsnd
trigger1 = var(2) = 2
trigger1 = time = 12
value = 2,1

[State 0, explod]
type = helper
trigger1 = var(2) = 0 && animelemtime(7) = 0
trigger2 = (var(2) = [1,2]) && animelemtime(11) = 0
stateno = 1110
id = 1110
facing = 1
postype = p1
pos = 0,0
ownpal = 1

[State 0, explod]
type = explod
triggerall = facing = 1
trigger1 = time = 12
anim = 815
id = 815
facing = 1
postype = p1
pos = 0,0
sprpriority = 1
ownpal = 1
bindtime = -1
removetime = 25
scale = .833,1.07
removeongethit = 1

[State 0, explod]
type = explod
triggerall = facing = -1
trigger1 = time = 12
anim = 816
id = 816
facing = 1
postype = p1
pos = 0,0
sprpriority = 1
ownpal = 1
bindtime = -1
removetime = 25
scale = .833,1.07
removeongethit = 1

[State 0, hit]
type = hitdef
triggerall = anim = 1100
trigger1 = animelem = 7
attr = S, SA
damage = ceil(ifelse((56*fvar(0))<7,7,(56*fvar(0)))),0
priority = 3,Hit
hitflag = MAF
guardflag = M
animtype = hard
air.animtype = Back
fall.animtype = Back
pausetime = 11,11
sparkno = s6005
sparkxy = -10,-85
guard.sparkno = s6010
hitsound = s0,5
guardsound = s0,9
getpower = 40,0
givepower = 20,0
ground.type = high
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -1.5,-8*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
guard.velocity = -8
air.type = High
air.velocity = -1.5,-8*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 14
fall = 1
fall.recovertime = 32
yaccel = .36
id = stateno
p2facing = 1

[State 0, hit]
type = hitdef
triggerall = anim = 1101
trigger1 = animelem = 11
attr = S, SA
damage = ceil(ifelse((70*fvar(0))<7,7,(70*fvar(0)))),0
priority = 3,Hit
hitflag = MAF
guardflag = M
animtype = hard
air.animtype = Back
fall.animtype = Back
pausetime = 11,11
sparkno = s6005
sparkxy = -10,-85
guard.sparkno = s6010
hitsound = s0,5
guardsound = s0,9
getpower = 40,0
givepower = 20,0
ground.type = high
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -1.5,-10*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
guard.velocity = -8
air.type = High
air.velocity = -1.5,-10*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 14
fall = 1
fall.recovertime = 36
yaccel = .36
id = stateno
p2facing = 1

[State 0, hit]
type = hitdef
triggerall = anim = 1102
trigger1 = animelem = 11
attr = S, SA
damage = ceil(ifelse((84*fvar(0))<7,7,(84*fvar(0)))),0
priority = 3,Hit
hitflag = MAF
guardflag = M
animtype = hard
air.animtype = Back
fall.animtype = Back
pausetime = 11,11
sparkno = s6005
sparkxy = -10,-85
guard.sparkno = s6010
hitsound = s0,5
guardsound = s0,9
getpower = 40,0
givepower = 20,0
ground.type = high
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -1.5,-12*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
guard.velocity = -8
air.type = High
air.velocity = -1.5,-12*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 14
fall = 1
fall.recovertime = 36
yaccel = .36
id = stateno
p2facing = 1

[State 0, pos]
type = posfreeze
trigger1 = var(8) > 0

[State 220, CornerPush]
type = VarSet
trigger1 = anim = 200
trigger1 = movecontact = 1
fvar(3) = 11.9
ignorehitpause = 1

[State 0, end]
type = changestate
trigger1 = !animtime
value = 0
ctrl = 1

;===========================================================================
;エフェクト
[Statedef 1110]
type    = S
movetype = I
physics = N
ctrl = 0
velset = 0,0
sprpriority = 2
anim = 1110;+root,var(2)

[State 0, pos]
type = veladd
trigger1 = animelemtime(5) >= 0
y = -2

[State 0, end]
type = destroyself
trigger1 = !animtime

;===========================================================================
;アイアンボーガン
[Statedef 1200]
type = S
movetype = A
physics = N
ctrl = 0
anim = 1100
poweradd = 0
velset = 0,0
sprpriority = 0
facep2 = 1;-(prevstateno=[100,119])

[State 0, pos]
type = posset
trigger1 = !time
y = 0

[State 0, var]
type = varset
trigger1 = !time
triggerall = !var(59)
var(2) = ifelse(command = "63214z",2,ifelse(command = "63214y",1,0))

[State 1000, VarSet]
type = varset
trigger1 = !time
triggerall = var(36)
triggerall = !var(59)
var(2) = ifelse((var(36)&2**9),2,ifelse((var(36)&2**8),1,0))

[State 1000, VarSet]
type = varset
trigger1 = !time
triggerall = var(59)
var(2) = ifelse(random<500,2,1)

[State 0, anim]
type = changeanim
trigger1 = !time
value = 1200+var(2)

[State 0, snd]
type = playsnd
trigger1 = var(2) != 2
trigger1 = animelem = 8
trigger2 = var(2) = 2
trigger2 = animelem = 11
value = 2,9

[State 0, snd]
type = velset
trigger1 = var(2) != 2
trigger1 = animelemtime(8) = 0
trigger2 = var(2) = 2
trigger2 = animelemtime(11) = 0
x = 2

[State 0, snd]
type = velset
trigger1 = var(2) != 2
trigger1 = animelemtime(9) = 0
x = -2

[State 0, snd]
type = velset
trigger1 = var(2) != 2
trigger1 = time = 32
x = 0

[State 0, snd]
type = velset
trigger1 = var(2) = 2
trigger1 = animelemtime(12) = 0
x = 0

[State 0, explod]
type = explod
trigger1 = var(2) != 2
trigger1 = animelemtime(8) = 0
anim = 8070
id = 8070
facing = 1
postype = p1
pos = 20,-70
sprpriority = 2
ownpal = 1
bindtime = -1
scale = .833*.5,1.07*.5
removeongethit = 1

[State 0, explod]
type = explod
trigger1 = var(2) = 2
trigger1 = animelemtime(11) = 0
anim = 8070
id = 8070
facing = -1
postype = p1
pos = -30,-86
sprpriority = 2
ownpal = 1
bindtime = -1
scale = .833*.5,1.07*.5
removeongethit = 1

[State 0, explod]
type = helper
trigger1 = var(2) != 2 && animelemtime(7) = 0
stateno = 1210
id = 1210
facing = 1
postype = p1
pos = 31,-72
ownpal = 1

[State 0, explod]
type = helper
trigger1 = var(2) = 2 && animelemtime(8) = 0
stateno = 1220
id = 1220
facing = -1
postype = p1
pos = -37,-95
ownpal = 1

[State 0, end]
type = changestate
trigger1 = !animtime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;アイアンボーガン(弾)
[Statedef 1210]
type = A
movetype = A
physics = N
ctrl = 0
velset = 0,0
sprpriority = 1
anim = 1210

[State 0, btr]
type = bindtoroot
triggerall = anim = 1210
trigger1 = (root,anim = 1200 || root,anim = 1201) && root,animelemtime(8) < 0
pos = 31,-72

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, anim]
type = changeanim
trigger1 = root,animelemtime(8) = 0
value = 1250+root,var(2)
persistent = 0

[State 0, vel]
type = velset
trigger1 = root,animelemtime(8) = 0
x = 9-(anim=1251)

[State 0, hit]
type = hitdef
trigger1 = anim = 1250
attr = A, SP
damage = ceil(ifelse((70*root,fvar(0))<7,7,(70*root,fvar(0)))),ceil(ifelse((70*root,fvar(0)*.25)<7,7,(70*root,fvar(0)*.25)))
priority = 5,Hit
hitflag = MAF
guardflag = MA
animtype = medium
air.animtype = Back
fall.animtype = Back
pausetime = 0,9
guard.pausetime = 0,0
sparkno = s6004
sparkxy = 0,0
guard.sparkno = s6010
hitsound = s0,4
guardsound = s0,9
getpower = 0,0
givepower = 20,0
ground.type = low
ground.slidetime = 12
ground.hittime = 12
guard.slidetime = 15
guard.hittime = 15
guard.ctrltime = 15
ground.velocity = -6
guard.velocity = -5.5
air.velocity = -3,-1*(1.0-ifelse(root,var(40)>0,root,var(40)*.125,0))*(root,var(40)<=7)
airguard.velocity = -3,-3
air.type = low
air.hittime = 12
fall = 0
air.fall = 1
fall.recovertime = 22
guard.kill = 0
yaccel = .36
persistent = 0
p2facing = 1

[State 0, hit]
type = hitdef
trigger1 = anim = 1251
attr = A, SP
damage = ceil(ifelse((77*root,fvar(0))<7,7,(77*root,fvar(0)))),ceil(ifelse((77*root,fvar(0)*.25)<7,7,(77*root,fvar(0)*.25)))
priority = 5,Hit
hitflag = MAF
guardflag = MA
animtype = medium
air.animtype = Back
fall.animtype = Back
pausetime = 0,9
guard.pausetime = 0,0
sparkno = s6004
sparkxy = 0,0
guard.sparkno = s6010
hitsound = s0,4
guardsound = s0,9
getpower = 0,0
givepower = 20,0
ground.type = low
ground.slidetime = 12
ground.hittime = 12
guard.slidetime = 15
guard.hittime = 15
guard.ctrltime = 15
ground.velocity = -6
guard.velocity = -5.5
air.velocity = -3,-1*(1.0-ifelse(root,var(40)>0,root,var(40)*.125,0))*(root,var(40)<=7)
airguard.velocity = -3,-3
air.type = low
air.hittime = 12
fall = 0
air.fall = 1
fall.recovertime = 22
guard.kill = 0
yaccel = .36
persistent = 0
p2facing = 1

[state -2, var]
type = poweradd
trigger1 = movehit = 1
value = 40

[State 0, vel]
type = parentvaradd
trigger1 = movehit = 1
var(40) = 1
ignorehitpause = 1

[State -2, CornerPush]
type = ParentVarSet
trigger1 = IsHelper
trigger1 = movecontact = 1
trigger1 = time > 1
fvar(3) = 0
ignorehitpause = 1

[State 0, end]
type = statetypeset
trigger1 = movecontact = 1
trigger2 = root,movetype = H && !(root,stateno = [120,160])
trigger3 = (root,stateno = [800,810])
trigger4 = (root,stateno = [3000,3010])
movetype = I

[State 10000, HitBy]
type = HitBy
trigger1 = 1
value = SCA, NP, SP, HP

[State 10000, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 10000, HitOverRide] 
type = HitOverRide
trigger1 = 1
slot = 0
stateno = 1255
attr = SCA, NP, SP, HP
time = -1

[State 0, end]
type = changeanim
trigger1 = pos x <= -280 || pos x >= 280
value = 9999

[State 0, end]
type = DestroySelf
trigger1 = !numtarget
trigger1 = anim = 9999

[State 10000, HitOverRide] 
type = changestate
trigger1 = movecontact = 1
value = 1255

;---------------------------------------------------------------------------
;アイアンボーガン(弾2)
[Statedef 1220]
type = A
movetype = A
physics = N
ctrl = 0
velset = 0,0
sprpriority = 1
anim = 1210

[State 0, btr]
type = bindtoroot
triggerall = anim = 1210
trigger1 = root,anim = 1202 && root,animelemtime(11) < 0
pos = -37,-95

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, anim]
type = changeanim
trigger1 = root,anim = 1202 && root,animelemtime(11) = 0
value = 1250
persistent = 0

[State 0, vel]
type = velset
trigger1 = root,anim = 1202 && root,animelemtime(11) = 0
x = 9

[State 0, vel]
type = varset
trigger1 = root,movetype = H && !(root,stateno = [120,160])
trigger2 = (root,stateno = [800,810])
trigger3 = (root,stateno = [3000,3010])
var(0) = 1

[State 0, hit]
type = hitdef
trigger1 = anim = 1250
attr = A, SP
damage = ceil(ifelse((70*root,fvar(0))<7,7,(70*root,fvar(0)))),ceil(ifelse((70*root,fvar(0)*.25)<7,7,(70*root,fvar(0)*.25)))
priority = 5,Hit
hitflag = MAF
guardflag = MA
animtype = medium
air.animtype = Back
fall.animtype = Back
pausetime = 0,9
guard.pausetime = 0,0
sparkno = s6004
sparkxy = 0,0
guard.sparkno = s6010
hitsound = s0,4
guardsound = s0,9
getpower = 0,0
givepower = 20,0
ground.type = low
ground.slidetime = 12
ground.hittime = 12
guard.slidetime = 15
guard.hittime = 15
guard.ctrltime = 15
ground.velocity = -6
guard.velocity = -5.5
air.velocity = -3,-1*(1.0-ifelse(root,var(40)>0,root,var(40)*.125,0))*(root,var(40)<=7)
airguard.velocity = -3,-3
air.type = low
air.hittime = 12
fall = 0
air.fall = 1
fall.recovertime = 22
guard.kill = 0
yaccel = .36
persistent = 0
p2facing = 1

[State 0, hit]
type = hitdef
trigger1 = anim = 1251
attr = A, SP
damage = ceil(ifelse((77*root,fvar(0))<7,7,(77*root,fvar(0)))),ceil(ifelse((77*root,fvar(0)*.25)<7,7,(77*root,fvar(0)*.25)))
priority = 5,Hit
hitflag = MAF
guardflag = MA
animtype = medium
air.animtype = Back
fall.animtype = Back
pausetime = 0,9
guard.pausetime = 0,0
sparkno = s6004
sparkxy = 0,0
guard.sparkno = s6010
hitsound = s0,4
guardsound = s0,9
getpower = 0,0
givepower = 20,0
ground.type = low
ground.slidetime = 12
ground.hittime = 12
guard.slidetime = 15
guard.hittime = 15
guard.ctrltime = 15
ground.velocity = -6
guard.velocity = -5.5
air.velocity = -3,-1*(1.0-ifelse(root,var(40)>0,root,var(40)*.125,0))*(root,var(40)<=7)
airguard.velocity = -3,-3
air.type = low
air.hittime = 12
fall = 0
air.fall = 1
fall.recovertime = 22
guard.kill = 0
yaccel = .36
persistent = 0
p2facing = 1

[state -2, var]
type = poweradd
trigger1 = movehit = 1
value = 40

[State 0, vel]
type = parentvaradd
trigger1 = movehit = 1
var(40) = 1
ignorehitpause = 1

[State -2, CornerPush]
type = ParentVarSet
trigger1 = IsHelper
trigger1 = movecontact = 1
trigger1 = time > 1
fvar(3) = 0
ignorehitpause = 1

[State 0, end]
type = statetypeset
trigger1 = movecontact = 1
trigger2 = root,movetype = H
trigger3 = (root,stateno = [800,810])
movetype = I

[State 10000, HitBy]
type = HitBy
trigger1 = 1
value = SCA, NP, SP, HP

[State 10000, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 10000, HitOverRide] 
type = HitOverRide
trigger1 = 1
slot = 0
stateno = 1255
attr = SCA, NP, SP, HP
time = -1

[State 0, end]
type =  destroyself
triggerall = var(0)
trigger1 = root,animelemtime(11) < 0
trigger2 = pos x <= -280 || pos x >= 280

[State 0, end]
type = changestate
triggerall = !var(0)
trigger1 = pos x <= -280 && facing = -1
trigger2 = pos x >= 280 && facing = 1
value = 1221

[State 10000, HitOverRide] 
type = changestate
trigger1 = movecontact = 1
value = 1255

;---------------------------------------------------------------------------
;アイアンボーガン(弾2)その２
[Statedef 1221]
type = A
movetype = I
physics = N
ctrl = 0
velset = 0,0
sprpriority = -6
anim = 9999

[State 0, anim]
type = turn
trigger1 = !time

[State 0, anim]
type = posset
trigger1 = time < 5 && facing = -1
x = -280*facing

[State 0, anim]
type = velset
trigger1 = time = 5
x = 7

[State 0, anim]
type = changeanim
trigger1 = !time
value = 1221

[State 0, scale]
type = angledraw
trigger1 = time < 30
scale = .2,.2

[State 0, scale]
type = angledraw
trigger1 = time >= 30 && time <= 60
scale = .2+var(1)*.02,.2+var(1)*.02

[State 0, scale]
type = angledraw
trigger1 = time >= 60
scale = 1,1

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, vel]
type = varset
trigger1 = root,movetype = H && !(root,stateno = [120,160])
trigger2 = (root,stateno = [800,810])
trigger3 = (root,stateno = [3000,3010])
var(0) = 1

[State 0, vel]
type = varadd
trigger1 = time >= 40
var(1) = 1

[State 0, end]
type =  destroyself
triggerall = time > 20 && var(0)
trigger1 = pos x <= -280 || pos x >= 280

[State 0, end]
type = changestate
triggerall = time > 20 && !var(0)
trigger1 = pos x <= -280 && facing = -1
trigger2 = pos x >= 280 && facing = 1
value = 1222

;---------------------------------------------------------------------------
;アイアンボーガン(弾2)その３
[Statedef 1222]
type = A
movetype = A
physics = N
ctrl = 0
velset = -9,0
sprpriority = 2

[State -2, クリップボード]
type     = DisplayToClipBoard
trigger1 = 1
text     = "hit=%d"
params   = var(2)
IgnoreHitPause = 1

[State 0, anim]
type = turn
trigger1 = !time

[State 0, btr]
type = posset
trigger1 = !time
y = -enemy,Const(size.height)

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, anim]
type = changeanim
trigger1 = !time
value = 1250

[State 0, vel]
type = varset
trigger1 = root,movetype = H && !(root,stateno = [120,160])
trigger2 = (root,stateno = [800,810])
trigger3 = (root,stateno = [3000,3010])
var(0) = 1
ignorehitpause = 1

[State 0, vel]
type = varadd
trigger1 = movecontact = 1
var(2) = 1

[State 0, vel]
type = varadd
trigger1 = var(2) = 2
var(3) = 1

[State 0, hit]
type = hitdef
trigger1 = var(2) = 0
attr = A, SP
damage = ceil(ifelse((70*root,fvar(0))<7,7,(70*root,fvar(0)))),ceil(ifelse((70*root,fvar(0)*.25)<7,7,(70*root,fvar(0)*.25)))
priority = 5,Hit
hitflag = MAF
guardflag = MA
animtype = medium
air.animtype = Back
fall.animtype = Back
pausetime = 3,9
guard.pausetime = 0,0
sparkno = s6004
sparkxy = 0,0
guard.sparkno = s6010
hitsound = s0,4
guardsound = s0,9
getpower = 0,0
givepower = 20,0
ground.type = low
ground.slidetime = 12
ground.hittime = 12
guard.slidetime = 15
guard.hittime = 15
guard.ctrltime = 15
ground.velocity = -6
guard.velocity = -5.5
air.velocity = -3,-1*(1.0-ifelse(root,var(40)>0,root,var(40)*.125,0))*(root,var(40)<=7)
airguard.velocity = -3,-3
air.type = low
air.hittime = 12
fall = 0
air.fall = 1
fall.recovertime = 22
guard.kill = 0
yaccel = .36
persistent = 0
p2facing = 1

[State 0, hit]
type = hitdef
trigger1 = var(2) = 1
attr = A, SP
damage = ceil(ifelse((14*root,fvar(0))<7,7,(14*root,fvar(0)))),ceil(ifelse((14*root,fvar(0)*.25)<7,7,(14*root,fvar(0)*.25)))
priority = 5,Hit
hitflag = MAF
guardflag = MA
animtype = medium
air.animtype = Back
fall.animtype = Back
pausetime = 3,9
guard.pausetime = 0,0
sparkno = s6004
sparkxy = 0,0
guard.sparkno = s6010
hitsound = s0,4
guardsound = s0,9
getpower = 0,0
givepower = 20,0
ground.type = low
ground.slidetime = 12
ground.hittime = 12
guard.slidetime = 15
guard.hittime = 15
guard.ctrltime = 15
ground.velocity = -6
guard.velocity = -5.5
air.velocity = -3,-1*(1.0-ifelse(root,var(40)>0,root,var(40)*.125,0))*(root,var(40)<=7)
airguard.velocity = -3,-3
air.type = low
air.hittime = 12
fall = 0
air.fall = 1
fall.recovertime = 22
guard.kill = 0
yaccel = .36
persistent = 1
p2facing = 1

[state -2, var]
type = poweradd
trigger1 = movehit = 1
value = 40
persistent = 0

[State -2, CornerPush]
type = ParentVarSet
trigger1 = IsHelper
trigger1 = movecontact = 1
trigger1 = time > 1
fvar(3) = 0
ignorehitpause = 1

[State 0, vel]
type = parentvaradd
trigger1 = movehit = 1
var(40) = 1

[State 0, end]
type = statetypeset
trigger1 = var(0)
movetype = I

[State 0, end]
type = changeanim
trigger1 = var(0)
value = 1210

[State 10000, HitBy]
type = HitBy
trigger1 = 1
value = SCA, NP, SP, HP

[State 10000, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 10000, HitOverRide] 
type = HitOverRide
trigger1 = 1
slot = 0
stateno = 1255
attr = SCA, NP, SP, HP
time = -1

[State 0, end]
type = changeanim
trigger1 = time >= 20
trigger1 = pos x <= -280 || pos x >= 280
trigger2 = var(3) = 9
value = 9999

[State 0, end]
type = DestroySelf
trigger1 = !numtarget
trigger1 = anim = 9999

[State 10000, HitOverRide] 
type = changestate
trigger1 = moveguarded = 1
value = 1255

;---------------------------------------------------------------------------
;終了
[Statedef 1255]
type = A
movetype = I
physics = N
ctrl = 0
velset = -4.5,0
anim = 1255

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, end]
type = veladd
trigger1 = 1
y = .4

[State 0, end]
type = changeanim
trigger1 = pos y > 0
value = 9999

[State 0, end]
type = DestroySelf
trigger1 = !numtarget
trigger1 = anim = 9999

;===========================================================================
;クラッカーブーメラン
[Statedef 1300]
type = S
movetype = A
physics = N
ctrl = 0
anim = 1300
poweradd = 0
velset = 0,0
sprpriority = 0
facep2 = 1;-(prevstateno=[100,119])

[State 0, pos]
type = posset
trigger1 = !time
y = 0

[State 0, snd]
type = playsnd
trigger1 = animelem = 4
value = 2,1

[State 0, snd]
type = playsnd
trigger1 = animelem = 10
value = 100,2
channel = 0

[State 0, snd]
type = posadd
trigger1 = animelemtime(13) = 0
x = 10

[State 0, snd]
type = posadd
trigger1 = animelemtime(19) = 0
trigger2 = animelemtime(20) = 0
trigger3 = animelemtime(21) = 0
x = 5

[State 0, snd]
type = velset
trigger1 = time = 32
x = 0

[State 0, explod]
type = explod
triggerall = facing = 1
trigger1 = time = 8
anim = 815
id = 815
facing = 1
postype = p1
pos = 0,0
sprpriority = 1
ownpal = 1
bindtime = -1
removetime = 20
scale = .833,1.07
removeongethit = 1

[State 0, explod]
type = explod
triggerall = facing = -1
trigger1 = time = 8
anim = 816
id = 816
facing = 1
postype = p1
pos = 0,0
sprpriority = 1
ownpal = 1
bindtime = -1
removetime = 20
scale = .833,1.07
removeongethit = 1

[State 0, explod]
type = explod
trigger1 = animelemtime(4) = 0
anim = 11301
id = 11301
facing = 1
postype = p1
pos = 0,0
sprpriority = -1
ownpal = 1
bindtime = -1
removetime = 18
scale = .833,1.07
removeongethit = 1
[State 0, explod]
type = explod
trigger1 = animelemtime(4) = 0
anim = 11302
id = 11302
facing = 1
postype = p1
pos = 0,0
sprpriority = -1
ownpal = 1
bindtime = -1
removetime = 18
scale = .833,1.07
removeongethit = 1

[State 0, explod]
type = helper
trigger1 = animelemtime(13) = 0
stateno = 1310
id = 1310
facing = 1
postype = p1
pos = 40,-80
ownpal = 1
size.ground.back = 0
size.ground.front = 0

[State 0, explod]
type = helper
trigger1 = animelemtime(13) = 0
stateno = 1315
id = 1315
facing = 1
postype = p1
pos = 30,-90
ownpal = 1
size.ground.back = 0
size.ground.front = 0

[State 0, end]
type = changestate
trigger1 = !animtime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;クラッカーブーメラン(ヘルパー)
[Statedef 1310]
type = A
movetype = A
physics = N
ctrl = 0
velset = 7,0
sprpriority = 1
anim = 11315

[State 0, assert]
type = parentvarset
trigger1 = time = 1
var(3) = 0
ignorehitpause = 1

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, explod]
type = explod
trigger1 = !time
anim = 6315
id = 6310
facing = 1
postype = p1
pos = 0,0
sprpriority = 2
ownpal = 1
bindtime = -1
removetime = -1
scale = .833,1.07
removeongethit = 1

[State 0, hit]
type = hitdef
trigger1 = 1
attr = S, SP
damage = ceil(ifelse((42*root,fvar(0))<7,7,(42*root,fvar(0)))),ceil(ifelse((42*root,fvar(0)*.25)<7,7,(42*root,fvar(0)*.25)))
priority = 5,Hit
hitflag = MAF
guardflag = MA
animtype = medium
air.animtype = Back
fall.animtype = Back
pausetime = 0,9
sparkno = s6004
sparkxy = 0,0
guard.sparkno = s6010
hitsound = s0,5
guardsound = s0,9
getpower = 0,0
givepower = 20,0
ground.type = low
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -8
guard.velocity = -8
air.velocity = -3,-4*(1.0-ifelse(root,var(40)>0,root,var(40)*.125,0))*(root,var(40)<=7)
airguard.velocity = -3,-4
air.type = low
air.hittime = 12
fall = 0
air.fall = 1
fall.recovertime = 22
guard.kill = 0
yaccel = .36
palfx.color = 60
palfx.time = 40
palfx.sinadd = 120,120,120,3
id = stateno

[state -2, var]
type = poweradd
trigger1 = movehit = 1
value = 40

[State 0, vel]
type = parentvaradd
trigger1 = movehit = 1
var(40) = 1
ignorehitpause = 1

[State -2, CornerPush]
type = ParentVarSet
trigger1 = IsHelper
trigger1 = movecontact = 1
trigger1 = time > 1
fvar(3) = 0
ignorehitpause = 1

[state 11250]
type = helper
triggerall = numtarget
trigger1 = movehit=1 && !numhelper(9020)
id = 9020
stateno=9020
pos = 0,0
postype = p2
ignorehitpause=1

[State 10000, HitBy]
type = notHitBy
trigger1 = numhelper(1315)
trigger1 = helper(1315),stateno = 1315
value = SCA

[State 10000, HitBy]
type = HitBy
trigger1 = numhelper(1315)
trigger1 = helper(1315),stateno != 1315
value = SCA, NP, SP, HP

[State 10000, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 10000, HitOverRide] 
type = HitOverRide
trigger1 = 1
slot = 0
stateno = 1355
attr = SCA, NP, SP, HP
time = -1

[State 0, end]
type = varset
trigger1 = var(0)
fvar(0) = pos x
persistent = 0

[State 0, end]
type = posset
trigger1 = var(0)
x = fvar(0)

[State 0, end]
type = varadd
trigger1 = frontedgedist <= -11
var(0) = 91
persistent = 0

[State 0, end]
type = varadd
trigger1 = var(0)
var(0) = -1

[State 0, end]
type = playsnd
triggerall = numtarget(1310)
trigger1 = anim = 11316 && movehit = 1
value = 100,16
channel = 0

[State 10000, HitOverRide] 
type = changestate
trigger1 = movecontact
trigger2 = frontedgedist <= -10 && anim = 11316
value = 1355

[State 0, end]
type = removeexplod
trigger1 = anim = 11316
trigger1 = (root,stateno = [3000,3010])
id= 6310

[State 0, end]
type = changeanim
trigger1 = anim = 11316
trigger1 = (root,stateno = [3000,3010])
value = 9999

[State 0, end]
type = DestroySelf
trigger1 = !numtarget
trigger1 = anim = 9999

[State 10000, HitOverRide] 
type = changestate
triggerall = anim != 9999
trigger1 = root,movetype = H && !(root,stateno = [120,160])
trigger2 = (root,stateno = [800,810])
trigger3 = (root,stateno = [3000,3010])
value = 1356

[State 10000, HitOverRide] 
type = changeanim
triggerall = anim != 9999
trigger1 = time >= 5
trigger1 = var(0) && anim != 11316
value = 11316

[State 0, end]
type = turn
trigger1 = anim = 11316
persistent = 0

[State 0, end]
type = velset
trigger1 = var(0) = 1
x = 7.5

;---------------------------------------------------------------------------
;クラッカーブーメラン(ヘルパー)その２
[Statedef 1315]
type = A
movetype = A
physics = N
ctrl = 0
velset = 7,0
sprpriority = 1
anim = 11310

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, explod]
type = explod
trigger1 = !time
anim = 6315
id = 6310
facing = 1
postype = p1
pos = 0,0
sprpriority = 2
ownpal = 1
bindtime = -1
removetime = -1
scale = .833,1.07
removeongethit = 1

[State 0, hit]
type = hitdef
trigger1 = 1
attr = S, SP
damage = ceil(ifelse((42*root,fvar(0))<7,7,(42*root,fvar(0)))),ceil(ifelse((42*root,fvar(0)*.25)<7,7,(42*root,fvar(0)*.25)))
priority = 5,Hit
hitflag = MAF
guardflag = MA
animtype = medium
air.animtype = Back
fall.animtype = Back
pausetime = 0,9
sparkno = s6004
sparkxy = 0,0
guard.sparkno = s6010
hitsound = s0,5
guardsound = s0,9
getpower = 0,0
givepower = 20,0
ground.type = low
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -8
guard.velocity = -8
air.velocity = -3,-4*(1.0-ifelse(root,var(40)>0,root,var(40)*.125,0))*(root,var(40)<=7)
airguard.velocity = -3,-4
air.type = low
air.hittime = 12
fall = 0
air.fall = 1
fall.recovertime = 22
guard.kill = 0
yaccel = .36
palfx.color = 60
palfx.time = 40
palfx.sinadd = 120,120,120,3

[state -2, var]
type = poweradd
trigger1 = movehit = 1
value = 40

[State 0, vel]
type = parentvaradd
trigger1 = movehit = 1
var(40) = 1
ignorehitpause = 1

[State -2, CornerPush]
type = ParentVarSet
trigger1 = IsHelper
trigger1 = movecontact = 1
trigger1 = time > 1
fvar(3) = 0
ignorehitpause = 1

[state 11250]
type = helper
triggerall = numtarget
trigger1 = movehit=1 && !numhelper(9020)
id = 9020
stateno=9020
pos = 0,0
postype = p2
ignorehitpause=1

[State 10000, HitBy]
type = HitBy
trigger1 = 1
value = SCA, NP, SP, HP

[State 10000, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 10000, HitOverRide] 
type = HitOverRide
trigger1 = 1
slot = 0
stateno = 1355
attr = SCA, NP, SP, HP
time = -1

[State 0, end]
type = varset
trigger1 = var(0)
fvar(0) = pos x
persistent = 0

[State 0, end]
type = posset
trigger1 = var(0)
x = fvar(0)

[State 0, end]
type = varadd
trigger1 = frontedgedist <= 0
var(0) = 91
persistent = 0

[State 0, end]
type = varadd
trigger1 = var(0)
var(0) = -1

[State 10000, HitOverRide] 
type = changestate
trigger1 = root,movetype = H && !(root,stateno = [120,160])
trigger2 = (root,stateno = [800,810])
trigger3 = (root,stateno = [3000,3010])
value = 1356

[State 10000, HitOverRide] 
type = changestate
trigger1 = var(0) = 1
trigger2 = movecontact
value = 1350

;---------------------------------------------------------------------------
;終了
[Statedef 1350]
type = A
movetype = I
physics = N
ctrl = 0
velset = -4,-3
anim = ifelse(var(0)=1,11350,anim)

[State 4104,0]
type = nothitby
trigger1 = 1
value = SCA

[State 4104, 音]
type = stopsnd
trigger1 = !time
channel = 3

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 195]
type = AssertSpecial
trigger1 = time > 10
trigger1 = !(gametime%2)
flag = invisible

[State 0, end]
type = velmul
trigger1 = time >= 8
x = .95

[State 0, end]
type = veladd
trigger1 = 1
y = .4

[State 0, end]
type = removeexplod
trigger1 = pos y > 0
id= 6310

[State 0, end]
type = changeanim
trigger1 = pos y > 0
value = 9999

[State 0, end]
type = DestroySelf
trigger1 = !numtarget
trigger1 = anim = 9999

;---------------------------------------------------------------------------
;終了2
[Statedef 1355]
type = A
movetype = I
physics = N
ctrl = 0
velset = 0,0

[State 4104,0]
type = nothitby
trigger1 = 1
value = SCA

[State 4104, 音]
type = stopsnd
trigger1 = !time
channel = 3

[State 0, assert]
type = velset
trigger1 = !time
x = -4
y = -3

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 195]
type = AssertSpecial
trigger1 = time > 10
trigger1 = !(gametime%2)
flag = invisible

[State 0, end]
type = velmul
trigger1 = time >= 8
x = .95

[State 0, end]
type = veladd
trigger1 = 1
y = .4

[State 0, end]
type = removeexplod
trigger1 = pos y > 0
id= 6310

[State 0, end]
type = DestroySelf
trigger1 = pos y > 0

;---------------------------------------------------------------------------
;終了3
[Statedef 1356]
type = A
movetype = I
physics = N
ctrl = 0

[State 4104,0]
type = nothitby
trigger1 = 1
value = SCA

[State 0, assert]
type = velset
trigger1 = !time
y = -3

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 195]
type = AssertSpecial
trigger1 = time > 10
trigger1 = !(gametime%2)
flag = invisible

[State 0, end]
type = velmul
trigger1 = time >= 8
x = .95

[State 0, end]
type = veladd
trigger1 = 1
y = .4

[State 0, end]
type = removeexplod
trigger1 = pos y > 0
id= 6310

[State 0, end]
type = DestroySelf
trigger1 = pos y > 0

;===========================================================================
;クラッカーヴォレイ(一段目)
[Statedef 1400]
type = S
movetype = A
physics = N
ctrl = 0
anim = 1400
poweradd = 40
velset = 0,0
sprpriority = 0
facep2 = 1;-(prevstateno=[100,119])

[State 0, pos]
type = turn
trigger1 = p2dist x < 0
trigger1 = !time

[State 0, pos]
type = posset
trigger1 = !time
y = 0

[State 0, attack]
Type = attackdist
trigger1 = 1
value = 180

[State 0, vel]
type = velset
trigger1 = !time
trigger1 = vel x != 0
trigger2 = anim = 1400 && animelemtime(6) = 0
trigger3 = anim = 1405 && animelemtime(5) = 0
x = 0

[State 0, vel]
type = velset
triggerall = !var(8)
trigger1 = anim = 1400 && animelemtime(5) = 0
x = 8

[State 0, vel]
type = velmul
triggerall = !var(8)
trigger1 = anim = 1400 && animelemtime(5) >= 0
x = .9

[State 0, snd]
type = posadd
trigger1 = time = 6
x = 10

[State 0, snd]
type = null;width
trigger1 = anim = 1400 && animelemtime(5) = 0
value = 40,0

[State 0, snd]
type = playsnd
triggerall = !var(8)
trigger1 = !time
value = 100,12
channel = 0

[State 0, snd]
type = playsnd
triggerall = !var(8)
triggerall = anim = 1400
trigger1 = animelem = 5
value = 2,7

[State 0, end]
type = changeanim
trigger1 = movecontact = 1
trigger1 = anim != 1405
value = 1405

;ヒット音
[State 0, snd]
type = playsnd
trigger1 = movecontact = 1
value = 0,4+(moveguarded=1)*5
ignorehitpause = 1
channel = 2

[State 0, explod]
type = explod
trigger1 = !time
anim = 8080
id = 8080
facing = 1
postype = p1
pos = 0,0
sprpriority = 2
ownpal = 1
bindtime = -1
persistent = 0
removeongethit = 1

[State 0, hit]
type = hitdef
triggerall = anim = 1400
trigger1 = AnimElem = 5
attr = S, SA
damage = ceil(ifelse((42*fvar(0))<7,7,(42*fvar(0)))),0
priority = 5,Hit
hitflag = MAF
guardflag = M
animtype = hard
air.animtype = Back
fall.animtype = Back
pausetime = 0,5
guard.pausetime = 0,0
sparkno = s6004
sparkxy = -40,-70
guard.sparkno = s6010
hitsound = -1
guardsound = -1
getpower = 50,0
givepower = 25,0
ground.type = low
ground.slidetime = 19
ground.hittime = 19
guard.slidetime = 18
guard.hittime = 18
ground.velocity = -6
guard.velocity = -5.5
air.type = low
air.velocity = -3,-2*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 18
fall = 0
air.fall = 0
yaccel = .36
id = stateno
p2facing = 1

[State 0, hit]
type = hitdef
triggerall = anim = 1405
trigger1 = AnimElem = 2
attr = S, SA
damage = ceil(ifelse((14*fvar(0))<7,7,(14*fvar(0)))),0
priority = 5,Hit
hitflag = MAF
guardflag = M
animtype = hard
air.animtype = Back
fall.animtype = Back
pausetime = 0,6
guard.pausetime = 0,0
sparkno = s6004
sparkxy = -40,-70
guard.sparkno = s6010
hitsound = -1
guardsound = -1
getpower = 0,0
givepower = 10,0
ground.type = low
ground.slidetime = 19
ground.hittime = 19
guard.slidetime = 18
guard.hittime = 18
ground.velocity = -6
guard.velocity = 0
air.type = low
air.velocity = -3,-2*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 18
fall = 0
air.fall = 0
yaccel = .36
id = stateno
p2facing = 1

[State 0, hit]
type = hitdef
triggerall = anim = 1405
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
attr = S, SA
damage = ceil(ifelse((7*fvar(0))<7,7,(7*fvar(0)))),0
priority = 5,Hit
hitflag = MAF
guardflag = M
animtype = hard
air.animtype = Back
fall.animtype = Back
pausetime = 0,6
guard.pausetime = 0,0
sparkno = s6004
sparkxy = -40,-70
guard.sparkno = s6010
hitsound = -1
guardsound = -1
getpower = 0,0
givepower = 10,0
ground.type = low
ground.slidetime = 19
ground.hittime = 19
guard.slidetime = 18
guard.hittime = 18
ground.velocity = -6
guard.velocity = 0
air.type = low
air.velocity = -3,-2*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 18
fall = 0
air.fall = 0
yaccel = .36
id = stateno
p2facing = 1

[State 0, pos]
type = posfreeze
trigger1 = var(8) > 0

[State 220, CornerPush]
type = VarSet
trigger1 = movecontact = 1
fvar(3) = 0
ignorehitpause = 1

[State 0, end]
type = changestate
trigger1 = !animtime
value = 0
ctrl = 1

;===========================================================================
;クラッカーヴォレイ(二段目)
[Statedef 1410]
type = S
movetype = A
physics = N
ctrl = 0
anim = 1410
poweradd = 40
sprpriority = 0
facep2 = 1;-(prevstateno=[100,119])

[State 0, pos]
type = turn
trigger1 = p2dist x < 0
trigger1 = !time

[State 0, pos]
type = posset
trigger1 = !time
y = 0

[State 0, attack]
Type = attackdist
trigger1 = 1
value = 180

[State 0, vel]
type = velset
trigger1 = !time
trigger1 = vel x != 0
trigger2 = anim = 1410 && animelemtime(6) = 0
trigger3 = anim = 1415 && animelemtime(5) = 4
x = 0

[State 0, vel]
type = velset
trigger1 = anim = 1410 && animelemtime(4) = 0
x = 4.5

[State 0, snd]
type = width
trigger1 = anim = 1410 && animelemtime(4) = 0
value = 60,0

[State 0, snd]
type = playsnd
triggerall = !var(8)
trigger1 = !time
value = 102,5
channel = 0

[State 0, snd]
type = playsnd
triggerall = !var(8)
triggerall = anim = 1410
trigger1 = animelem = 4
value = 2,7

[State 0, end]
type = changeanim
trigger1 = movecontact = 1
trigger1 = anim != 1415
value = 1415

;ヒット音
[State 0, snd]
type = playsnd
trigger1 = movecontact = 1
value = 0,4+(moveguarded=1)*5
ignorehitpause = 1
channel = 2

[State 0, explod]
type = explod
trigger1 = !time
anim = 8080
id = 8080
facing = 1
postype = p1
pos = 10,0
sprpriority = 2
ownpal = 1
bindtime = -1
persistent = 0
removeongethit = 1

[State 0, hit]
type = hitdef
triggerall = anim = 1410
trigger1 = AnimElem = 4
trigger2 = AnimElem = 5
attr = S, SA
damage = ceil(ifelse((63*fvar(0))<7,7,(63*fvar(0)))),0
priority = 5,Hit
hitflag = MAF
guardflag = M
animtype = hard
air.animtype = Back
fall.animtype = Back
pausetime = 0,5
guard.pausetime = 0,0
sparkno = s6004
sparkxy = -40,-70
guard.sparkno = s6010
hitsound = -1
guardsound = -1
getpower = 50,0
givepower = 25,0
ground.type = low
ground.slidetime = 14
ground.hittime = 14
guard.slidetime = 15
guard.hittime = 15
ground.velocity = -6
guard.velocity = -8
air.type = low
air.velocity = -4,-3*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 18
fall = 0
air.fall = 0
yaccel = .36
id = stateno
p2facing = 1

[State 0, hit]
type = hitdef
triggerall = anim = 1415
trigger1 = AnimElem = 2
attr = S, NA
damage = ceil(ifelse((14*fvar(0))<7,7,(14*fvar(0)))),0
priority = 5,Hit
hitflag = MAF
guardflag = M
animtype = hard
air.animtype = Back
fall.animtype = Back
pausetime = 0,6
guard.pausetime = 0,0
sparkno = s6004
sparkxy = -40,-70
guard.sparkno = s6010
hitsound = -1
guardsound = -1
getpower = 0,0
givepower = 10,0
ground.type = low
ground.slidetime = 14
ground.hittime = 14
guard.slidetime = 15
guard.hittime = 15
ground.velocity = -6
guard.velocity = -8
air.type = low
air.velocity = -4,-3*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 18
fall = 0
air.fall = 0
yaccel = .36
id = stateno
p2facing = 1

[State 0, hit]
type = hitdef
triggerall = anim = 1415
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
attr = S, NA
damage = ceil(ifelse((7*fvar(0))<7,7,(7*fvar(0)))),0
priority = 5,Hit
hitflag = MAF
guardflag = M
animtype = hard
air.animtype = Back
fall.animtype = Back
pausetime = 0,6
guard.pausetime = 0,0
sparkno = s6004
sparkxy = -40,-70
guard.sparkno = s6010
hitsound = -1
guardsound = -1
getpower = 0,0
givepower = 10,0
ground.type = low
ground.slidetime = 14
ground.hittime = 14
guard.slidetime = 15
guard.hittime = 15
ground.velocity = -6
guard.velocity = -8
air.type = low
air.velocity = -4,-3*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 18
fall = 0
air.fall = 0
yaccel = .36
id = stateno
p2facing = 1

[State 0, pos]
type = posfreeze
trigger1 = var(8) > 0

[State 220, CornerPush]
type = VarSet
trigger1 = movehit = 1
fvar(3) = 8.3
ignorehitpause = 1

[State 220, CornerPush]
type = VarSet
trigger1 = moveguarded = 1
fvar(3) = 16
ignorehitpause = 1

[State 0, end]
type = changestate
trigger1 = !animtime
value = 0
ctrl = 1

;===========================================================================
;クラッカーヴォレイ(三段目)
[Statedef 1420]
type = C
movetype = A
physics = N
ctrl = 0
anim = 1420
poweradd = 40
sprpriority = 0
facep2 = 1;-(prevstateno=[100,119])

[State 0, pos]
type = turn
trigger1 = p2dist x < 0
trigger1 = !time

[State 0, pos]
type = posset
trigger1 = !time
y = 0

[State 0, vel]
type = velset
trigger1 = prevstateno != [100,105]
trigger1 = !time
trigger1 = vel x != 0
trigger2 = animelemtime(5) = 0
x = 0

[State 0, snd]
type = playsnd
triggerall = !var(8)
triggerall = anim = 1420
trigger1 = animelem = 4
value = 2,7

[State 0, end]
type = changeanim
trigger1 = movecontact = 1
trigger1 = anim != 1425
value = 1425

;ヒット音
[State 0, snd]
type = playsnd
trigger1 = movecontact = 1
value = 0,4+(moveguarded=1)*5
ignorehitpause = 1
channel = 2

[State 0, vel]
type = velset
trigger1 = !time
x = 6.5

[State 0, vel]
type = velmul
triggerall = !var(8)
trigger1 = time > 4
x = .9

[State 0, explod]
type = explod
trigger1 = !time
anim = 8080
id = 8080
facing = 1
postype = p1
pos = 5,0
sprpriority = 2
ownpal = 1
bindtime = -1
persistent = 0
removeongethit = 1

[State 0, hit]
type = hitdef
triggerall = anim = 1420
trigger1 = AnimElem = 4
attr = S, SA
damage = ceil(ifelse((56*fvar(0))<7,7,(56*fvar(0)))),0
priority = 5,Hit
hitflag = MAF
guardflag = M
animtype = hard
air.animtype = up
fall.animtype = up
pausetime = 0,4
guard.pausetime = 0,0
sparkno = s6004
sparkxy = -20,-50
guard.sparkno = s6010
hitsound = -1
guardsound = -1
getpower = 50,0
givepower = 25,0
ground.type = low
ground.slidetime = 14
ground.hittime = 14
guard.slidetime = 15
guard.hittime = 15
ground.velocity = -1,-9*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
guard.velocity = -8
air.type = low
air.velocity = -1,-9*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 18
fall = 1
fall.recovertime = 35
yaccel = .36
id = stateno
p2facing = 1

[State 0, hit]
type = hitdef
triggerall = anim = 1425
trigger1 = AnimElem = 2
attr = S, SA
damage = ceil(ifelse((7*fvar(0))<7,7,(7*fvar(0)))),0
priority = 5,Hit
hitflag = MAF
guardflag = M
animtype = hard
air.animtype = up
fall.animtype = up
pausetime = 0,5
guard.pausetime = 0,0
sparkno = s6004
sparkxy = -20,-80
guard.sparkno = s6010
hitsound = -1
guardsound = -1
getpower = 50,0
givepower = 10,0
ground.type = low
ground.slidetime = 14
ground.hittime = 14
guard.slidetime = 15
guard.hittime = 15
ground.velocity = -1,-9*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
guard.velocity = -8
air.type = low
air.velocity = -1,-9*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 18
fall = 1
fall.recovertime = 35
yaccel = .36
id = stateno
p2facing = 1

[State 0, hit]
type = hitdef
triggerall = anim = 1425
trigger1 = AnimElem = 4
attr = S, SA
damage = ceil(ifelse((7*fvar(0))<7,7,(7*fvar(0)))),0
priority = 5,Hit
hitflag = MAF
guardflag = M
animtype = hard
air.animtype = up
fall.animtype = up
pausetime = 0,5
guard.pausetime = 0,0
sparkno = s6004
sparkxy = -20,-80
guard.sparkno = s6010
hitsound = -1
guardsound = -1
getpower = 50,0
givepower = 10,0
ground.type = low
ground.slidetime = 14
ground.hittime = 14
guard.slidetime = 15
guard.hittime = 15
ground.velocity = -1,-9*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
guard.velocity = -8
air.type = low
air.velocity = -1,-9*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 18
fall = 1
fall.recovertime = 35
yaccel = .36
id = stateno
p2facing = 1

[State 0, pos]
type = posfreeze
trigger1 = var(8) > 0

[State 220, CornerPush]
type = VarSet
trigger1 = movecontact = 1
fvar(3) = 16
ignorehitpause = 1

[State 0, end]
type = changestate
trigger1 = !animtime
value = 0
ctrl = 1

;===========================================================================
;クラッカーヴォレイ(三段目屈S)
[Statedef 1430]
type = C
movetype = A
physics = N
ctrl = 0
anim = 1430
poweradd = 40
sprpriority = 0
facep2 = 1;-(prevstateno=[100,119])

[State 0, pos]
type = turn
trigger1 = p2dist x < 0
trigger1 = !time

[State 0, pos]
type = posset
trigger1 = !time
y = 0

[State 0, vel]
type = velset
trigger1 = prevstateno != [100,105]
trigger1 = !time
trigger1 = vel x != 0
trigger2 = animelemtime(12) = 0
x = 0

[State 0, snd]
type = width
trigger1 = anim = 430 && animelemtime(9) = 0
value = 30,0

[State 0, snd]
type = playsnd
triggerall = !var(8)
triggerall = anim = 1430
trigger1 = animelem = 10
value = 2,7

[State 0, end]
type = changeanim
trigger1 = movecontact = 1
trigger1 = anim != 1435
value = 1435

;ヒット音
[State 0, snd]
type = playsnd
trigger1 = movecontact = 1
value = 0,4+(moveguarded=1)*5
ignorehitpause = 1
channel = 2

[State 0, vel]
type = velset
triggerall = !var(8)
triggerall = anim = 1430
trigger1 = animelemtime(8) = 0
x = 6

[State 0, vel]
type = velmul
triggerall = !var(8) && vel x
trigger1 = animelemtime(8) >= 0
x = .9

[State 0, explod]
type = explod
trigger1 = !time
anim = 8080
id = 8080
facing = 1
postype = p1
pos = 0,0
sprpriority = 2
ownpal = 1
bindtime = -1
persistent = 0
removeongethit = 1

[State 0, hit]
type = hitdef
triggerall = anim = 1430
trigger1 = AnimElem = 12
attr = C, SA
damage = ceil(ifelse((63*fvar(0))<7,7,(63*fvar(0)))),0
priority = 5,Hit
hitflag = MAF
guardflag = L
animtype = hard
air.animtype = Back
fall.animtype = Back
pausetime = 0,3
;guard.pausetime = 3,3
sparkno = s6004
sparkxy = -40,-5
guard.sparkno = s6010
hitsound = -1
guardsound = -1
getpower = 50,0
givepower = 25,0
ground.type = low
ground.slidetime = 22
ground.hittime = 22
guard.slidetime = 14
guard.hittime = 14
ground.velocity = -10
guard.velocity = -8
air.type = low
air.velocity = -4,-3*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 18
fall = 0
air.fall = 0
yaccel = .36
id = stateno
p2facing = 1

[State 0, hit]
type = hitdef
trigger1 = anim = 1430
trigger1 = AnimElem = 13
trigger2 = anim = 1435
trigger2 = AnimElem = 2
attr = C, SA
damage = ceil(ifelse((14*fvar(0))<7,7,(14*fvar(0)))),0
priority = 5,Hit
hitflag = MAF
guardflag = L
animtype = hard
air.animtype = Back
fall.animtype = Back
pausetime = 0,3
;guard.pausetime = 3,3
sparkno = s6004
sparkxy = -40,-5
guard.sparkno = s6010
hitsound = -1
guardsound = -1
getpower = 0,0
givepower = 10,0
ground.type = Trip
ground.slidetime = 21
ground.hittime = 21
guard.slidetime = 13
guard.hittime = 13
ground.velocity = -3,-6*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
guard.velocity = -8
air.type = low
air.velocity = -4,-3*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 18
fall = 0
air.fall = 0
yaccel = .36
id = stateno
p2facing = 1

[State 0, hit]
type = hitdef
triggerall = !movehit
trigger1 = anim = 1430
trigger1 = AnimElem = 14
trigger2 = anim = 1435
trigger2 = AnimElem = 4
attr = C, SA
damage = ceil(ifelse((63*fvar(0))<7,7,(63*fvar(0)))),0
priority = 5,Hit
hitflag = MAF
guardflag = L
animtype = hard
air.animtype = Back
fall.animtype = Back
pausetime = 0,3
;guard.pausetime = 3,3
sparkno = s6004
sparkxy = -40,-5
guard.sparkno = s6010
hitsound = -1
guardsound = -1
getpower = 0,0
givepower = 10,0
ground.type = low
ground.slidetime = 21
ground.hittime = 21
guard.slidetime = 13
guard.hittime = 13
ground.velocity = -10
guard.velocity = -8
air.type = low
air.velocity = -4,-3*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 18
fall = 0
air.fall = 0
yaccel = .36
id = stateno
p2facing = 1

[State 0, pos]
type = posfreeze
trigger1 = var(8) > 0

[State 220, CornerPush]
type = VarSet
trigger1 = movecontact = 1
fvar(3) = 16
ignorehitpause = 1

[State 0, end]
type = changestate
trigger1 = !animtime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;クラッカーヴォレイ(三段目6S)
[Statedef 1440]
type    = A
movetype= A
physics = N
poweradd= 40
velset = 0,0
ctrl = 0
anim = 1440
facep2 = 1;-(prevstateno=[100,119])

[State 0, pos]
type = turn
trigger1 = p2dist x < 0
trigger1 = !time

[State 0, snd]
type = velset
triggerall = !var(8)
trigger1 = !time
x = 1
y = -3

[State 0, snd]
type = velset
triggerall = !var(8)
trigger1 = animelemtime(11) = 0
x = 1.5

[State 0, snd]
type = velmul
trigger1 = time > 8
y = .85

[State 0, snd]
type = veladd
triggerall = !var(8)
trigger1 = time > 18
y = .4

[State 0, snd]
type = playsnd
triggerall = !var(8)
trigger1 = !time
value = 100,1
channel = 0

[State 0, snd]
type = playsnd
triggerall = !var(8)
triggerall = anim = 1440
trigger1 = animelem = 5
value = 2,7

[State 0, end]
type = changeanim
trigger1 = movecontact = 1
trigger1 = anim != 1445
value = 1445

;ヒット音
[State 0, snd]
type = playsnd
trigger1 = movecontact = 1
value = 0,4+(moveguarded=1)*5
ignorehitpause = 1
channel = 2

[State 0, hit]
type = hitdef
triggerall = anim = 1440
trigger1 = AnimElem = 4
attr = A, SA
damage = ceil(ifelse((63*fvar(0))<7,7,(63*fvar(0)))),0
priority = 5,Hit
hitflag = MAF
guardflag = HA
animtype = hard
air.animtype = Back
fall.animtype = Back
pausetime = 0,4
sparkno = s6004
sparkxy = -20,-40
guard.sparkno = s6010
hitsound = -1
guardsound = -1
getpower = 50,0
givepower = 25,0
ground.type = high
ground.slidetime = 14
ground.hittime = 14
ground.velocity = -6
guard.velocity = -5.5
air.type = high
air.velocity = -3,-1.5*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
airguard.velocity = -3,-3*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 18
fall = 0
air.fall = 0
yaccel = .36
id = stateno
p2facing = 1

[State 0, hit]
type = hitdef
triggerall = anim = 1445
trigger1 = AnimElem = 2
attr = A, SA
damage = ceil(ifelse((14*fvar(0))<7,7,(14*fvar(0)))),0
priority = 5,Hit
hitflag = MAF
guardflag = HA
animtype = hard
air.animtype = Back
fall.animtype = Back
pausetime = 0,4
sparkno = s6004
sparkxy = -20,-40
guard.sparkno = s6010
hitsound = -1
guardsound = -1
getpower = 0,0
givepower = 10,0
ground.type = high
ground.slidetime = 14
ground.hittime = 14
ground.velocity = -6
guard.velocity = -8
air.type = high
air.velocity = -3,-1.5*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
airguard.velocity = -3,-3*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 18
fall = 0
air.fall = 0
yaccel = .36
id = stateno
p2facing = 1

[State 0, hit]
type = hitdef
triggerall = anim = 1445
trigger1 = AnimElem = 4
trigger2 = AnimElem = 6
attr = A, SA
damage = ceil(ifelse((7*fvar(0))<7,7,(7*fvar(0)))),0
priority = 5,Hit
hitflag = MAF
guardflag = HA
animtype = hard
air.animtype = Back
fall.animtype = Back
pausetime = 0,4
sparkno = s6004
sparkxy = -20,-40
guard.sparkno = s6010
hitsound = -1
guardsound = -1
getpower = 0,0
givepower = 10,0
ground.type = high
ground.slidetime = 14
ground.hittime = 14
ground.velocity = -6
guard.velocity = -8
air.type = high
air.velocity = -3,-1.5*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
airguard.velocity = -3,-3*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 14
fall = 0
air.fall = 0
yaccel = .36
id = stateno
p2facing = 1

[State 0, pos]
type = posfreeze
trigger1 = var(8) > 0

[State 220, CornerPush]
type = VarSet
trigger1 = movecontact = 1
fvar(3) = 0
ignorehitpause = 1

[State -3, Variable Height]
type = PlayerPush
triggerall = statetype=A && movetype!=H && numenemy
triggerall = p2bodydist x = [-(enemynear,const(size.ground.back) + enemynear,const(size.ground.front)), 0]
trigger1 = p2statetype=S
trigger1 = p2dist y >= (enemynear,const(size.height) - 12); Value depends on each char
trigger2 = p2statetype=C
trigger2 = p2dist y >= (enemynear,const(size.height) - 28); Value depends on each char
trigger3 = p2statetype=L
trigger3 = p2dist y >= 12
value=0
ignorehitpause=1

[State 4030, ChangeState]
type = ChangeState
triggerall = !var(8)
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 52

;===========================================================================
;ƒ~ƒ‰[ƒ}ƒWƒbƒN
[statedef 2200]
type=s
movetype=i
physics=s
ctrl=0
anim=1600

[state 2200,Žó‚¯Ž~‚ß’è‹`]
type=reversaldef
trigger1=animelemtime(9)=0
reversal.attr=sca,aa,ap
pausetime=0,14
numhits=0
p1stateno=2210

[state 2200,H‚ç‚¢ã‘‚«]
type=hitoverride
trigger1=animelemno(0)=9
time=1
attr=sca,aa,ap
stateno=2210
ignorehitpause=1

[state 2200,I—¹]
type=changestate
trigger1=animtime=0
value=0
ctrl=1

;---------------------------------------------------------------------------
;ƒ~ƒ‰[ƒ}ƒWƒbƒNE¬Œ÷
[statedef 2210]
type=s
movetype=i
physics=s
ctrl=0
velset=0,0
anim=1601

[state 2210,–³“G]
type=nothitby
trigger1=1
value=sca

[State 1000, ??×???\?\???]
type = Helper
Trigger1 = time = 0
id = 9573
stateno = 9573
postype = p1
pos = 0,-45
pausemovetime = 999
supermovetime = 999
ownpal = 1
persistent = 0
ignorehitpause = 1

[state 2210,ƒKƒ‰ƒX]
type=explod
trigger1=time=0
anim=1602
pos=0,-70
postype=p1
scale=const(size.xscale),const(size.yscale)
bindtime=1
ontop=1
ownpal=1
pausemovetime=2147483647
supermovetime=2147483647

[state 2210,ƒKƒ‰ƒX‚ªŠ„‚ê‚é‰¹]
type=playsnd
trigger1=time=0
value=2200,0

[state 2210,ŽžŠÔ’âŽ~]
type=pause
trigger1=time=0
time=20
movetime=20
ignorehitpause=1

[state 2210,“G‚Ì”wŒã‚ÉuŠÔˆÚ“®]
type=posset
trigger1=time=1
x=enemynear,pos x+facing*50

[state 2210,U‚èŒü‚«]
type=turn
trigger1=time=1
trigger1=p2dist x<0

[state 2210,I—¹]
type=changestate
trigger1=animtime=0
value=0
ctrl=1
;===========================================================================
; 超必殺技
;===========================================================================
;忘れぬ思い
[Statedef 3000]
type    = S
movetype = A
physics = N
ctrl = 0
velset = 0,0
anim = 3000
poweradd = 40
facep2 = 1;-(prevstateno=[100,119])

[State 0, vel]
type = nothitby
trigger1 = time <= 44
value = SCA
time = 1

[State 0, super]
type = superpause
trigger1 = time = 4
time = 30
movetime = 30
anim = -1
sound = s0,21
darken = 0
p2defmul = 1
poweradd = -1000

[State 0, explod]
type = explod
trigger1 = time = 4
anim = 7100
id = 7100
pos = ceil(0*const(size.xscale)),ceil(-70*const(size.yscale))
postype = p1
scale = .8,.8
sprpriority = 3
pausemovetime = 999999
supermovetime = 999999

[state 0, helper]
type = helper
trigger1 = time = 4
helpertype = normal
name = "super"
stateno = 7000
id = 7000
pos = 0,0
postype = p1
pausemovetime = 999999
supermovetime = 999999

[State 0, hit]
type = hitdef
triggerall = !var(8)
trigger1 = animelem = 8
attr = S, HA
damage = ceil(ifelse((7*fvar(0))<7,7,(7*fvar(0)))),0
priority = 7,Hit
hitflag = MAF
animtype = up
guardflag = MA
pausetime = 0,0
sparkno = s6004
sparkxy = -14,-70
guard.sparkno = s6010
hitsound = s0,5
guardsound = s0,9
getpower = 0,0
givepower = 10,0
ground.slidetime = 16
ground.hittime = 16
ground.type = low
ground.velocity = -1,-6
guard.velocity = -5.5
air.type = Low
air.velocity = -3,ifelse(var(40)<12,-3+(var(40)*.42),0)
airguard.velocity = -4,ifelse(var(40)<12,-3+(var(40)*.42),0)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.kill = 0
p2facing = 1
ID = stateno
kill = 0

[State 901, Throw]
type = TargetState
triggerall = numtarget(3000)
trigger1 = time > 1 && movehit
value = 3020
ignorehitpause = 1
;persistent = 0
id = 3000

[State 10000, ChangeState]
type = ChangeState
triggerall = numtarget(3000)
triggerall = !var(8)
trigger1 = time > 1 && movehit
value = 3010
ignorehitpause = 0
id = 3000

[state 3003]
type = null;TargetBind
triggerall = numtarget(3000)
trigger1 = time > 1 && movehit
time = 1
ID = 3000
pos = 50,-20
ignorehitpause = 1
persistent = 0

[State 0, vel]
type = nothitby
triggerall = numtarget(3000)
trigger1 = movehit
value = SCA
ignorehitpause = 1

[State 0, pos]
type = posfreeze
trigger1 = var(8) > 0

[State 220, CornerPush]
type = VarSet
trigger1 = movecontact = 1
fvar(3) = 8.3
ignorehitpause = 1

[State 3000, 8]
type = Changestate
trigger1 = !animtime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;忘れぬ思い成功
[Statedef 3010]
type    = S
movetype = A
physics = N
ctrl = 0
velset = 0,0
anim = 3001

[state 3003]
type = helper
trigger1 = time = 0
name = "risa"
helpertype = normal
stateno = 3005
id = 3005
pos = 45,-100
postype = p1
ownpal = 1
keyctrl = 0
sprpriority = 4
supermovetime = 9999999
pausemovetime = 9999999
scale = .833,1.07
facing = ifelse(facing=1,1,-1)

[State 0, vel]
type = playsnd
trigger1 = !time
value = 100,4
channel = 0

[State 0, vel]
type = nothitby
trigger1 = 1
value = SCA
time = 1

[State 0, explod]
type = explod
trigger1 = animelemtime(8) = 0 && facing = 1
anim = 815
id = 815
facing = 1
postype = p1
pos = 0,20
sprpriority = 1
ownpal = 1
bindtime = -1
removetime = 12
scale = .833,1.07

[State 0, explod]
type = explod
trigger1 = animelemtime(8) = 0 && facing = -1
anim = 816
id = 815
facing = 1
postype = p1
pos = 0,20
sprpriority = 1
ownpal = 1
bindtime = -1
removetime = 12
scale = .833,1.07

[State 2601, SelfState]
type = targetstate
triggerall = numtarget
trigger1 = time = 58
value = 3021

[State 191, Wood 1]
type = Explod
trigger1 = animelemtime(16) = 0
anim = 3006
id = 3006
postype = back
pos = 270, 120
sprpriority = -3
bindtime = -1
removetime = -1
ownpal = 1
scale = const(size.xscale),1

[State 191, Wood 1]
type = Explod
trigger1 = animelemtime(16) = 12
anim = 3007
id = 3007
postype = back
pos = 60, 260
sprpriority = -3
bindtime = -1
removetime = -1
ownpal = 1
scale = const(size.xscale),1

[State 191, Wood 1]
type = Explod
trigger1 = animelemtime(16) = 24
anim = 3008
id = 3008
postype = back
pos = 270, 240
sprpriority = -3
bindtime = -1
removetime = -1
ownpal = 1
scale = const(size.xscale),1

[State 191, Wood 1]
type = Explod
trigger1 = animelemtime(16) = 36
anim = 3009
id = 3009
postype = back
pos = 120, 120
sprpriority = -3
bindtime = -1
removetime = -1
ownpal = 1
scale = const(size.xscale),1

[State 191, Wood 1]
type = Explod
trigger1 = animelemtime(16) = 70
anim = 3006
id = 3016
postype = back
pos = 270, 120
sprpriority = -3
removetime = -1
vel = -9,0
ownpal = 1
scale = const(size.xscale),1

[State 191, Wood 1]
type = Explod
trigger1 = animelemtime(16) = 70
anim = 3007
id = 3017
postype = back
pos = 60, 260
sprpriority = -3
removetime = -1
vel = -9,0
ownpal = 1
scale = const(size.xscale),1

[State 191, Wood 1]
type = Explod
trigger1 = animelemtime(16) = 70
anim = 3008
id = 3018
postype = back
pos = 270, 240
sprpriority = -3
removetime = -1
vel = -9,0
ownpal = 1
scale = const(size.xscale),1

[State 191, Wood 1]
type = Explod
trigger1 = animelemtime(16) = 70
anim = 3009
id = 3019
postype = back
pos = 120, 120
sprpriority = -3
removetime = -1
vel = -9,0
ownpal = 1
scale = const(size.xscale),1

[state 3000]
type = removeExplod
trigger1 = animelemtime(16) = 70
id = 3006
[state 3000]
type = removeExplod
trigger1 = animelemtime(16) = 70
id = 3007
[state 3000]
type = removeExplod
trigger1 = animelemtime(16) = 70
id = 3008
[state 3000]
type = removeExplod
trigger1 = animelemtime(16) = 70
id = 3009
[state 3000]
type = removeExplod
trigger1 = animelem = 17
id = 3016
[state 3000]
type = removeExplod
trigger1 = animelem = 17
id = 3017
[state 3000]
type = removeExplod
trigger1 = animelem = 17
id = 3018
[state 3000]
type = removeExplod
trigger1 = animelem = 17
id = 3019

[State 0, explod]
type = explod
trigger1 = animelemtime(16) = 0
trigger2 = animelemtime(16) = 12
trigger3 = animelemtime(16) = 24
trigger4 = animelemtime(16) = 36
trigger5 = animelemtime(16) = 48
trigger6 = animelemtime(16) = 60
anim = 6004
id = 6004
facing = 1
postype = p2
pos = 0,-45
sprpriority = 5
ownpal = 1
bindtime = -1
scale = .833,1.07

[state 4100, 1]
type = envcolor
trigger1 = animelemtime(16) = 0
trigger2 = animelemtime(16) = 12
trigger3 = animelemtime(16) = 24
trigger4 = animelemtime(16) = 36
trigger5 = animelemtime(16) = 48
trigger6 = animelemtime(16) = 60
time = 1
ignorehitpause = 1

[state 4100, 1]
type = hitadd
triggerall = numtarget
trigger1 = animelemtime(16) = 0
trigger2 = animelemtime(16) = 12
trigger3 = animelemtime(16) = 24
trigger4 = animelemtime(16) = 36
trigger5 = animelemtime(16) = 48
trigger6 = animelemtime(16) = 60
value = numtarget
ignorehitpause = 1

[state 4100, 1]
type = targetlifeadd
triggerall = numtarget
trigger1 = animelemtime(16) = 0
trigger2 = animelemtime(16) = 12
trigger3 = animelemtime(16) = 24
trigger4 = animelemtime(16) = 36
trigger5 = animelemtime(16) = 48
value = ceil(ifelse((-42*fvar(0))>-7,-7,(-42*fvar(0))))
kill = 0
ignorehitpause = 1

[state 4100, 1]
type = targetlifeadd
triggerall = numtarget
trigger1 = animelemtime(16) = 60
value = ceil(ifelse((-84*fvar(0))>-7,-7,(-84*fvar(0))))
kill = 1
id = 3000
ignorehitpause = 1

[state 4100, 1]
type = targetpoweradd
triggerall = numtarget
trigger1 = animelemtime(16) = 0
trigger2 = animelemtime(16) = 12
trigger3 = animelemtime(16) = 24
trigger4 = animelemtime(16) = 36
trigger5 = animelemtime(16) = 48
trigger6 = animelemtime(16) = 60
value = 10
ignorehitpause = 1

[State 0, explod]
type = playsnd
trigger1 = animelemtime(16) = 0
trigger2 = animelemtime(16) = 12
trigger3 = animelemtime(16) = 24
trigger4 = animelemtime(16) = 36
trigger5 = animelemtime(16) = 48
value = 0,5
channel = 1

[State 0, explod]
type = playsnd
trigger1 = numtarget
trigger1 = target,alive
trigger1 = animelemtime(16) = 61
value = 5,5
channel = 1

[State 0, explod]
type = explod
trigger1 = animelemtime(16) = 0
anim = 3003
id = 3003
facing = -1
postype = p1
pos = 100,-80
sprpriority = 4
ownpal = 1
bindtime = -1
removetime = -1
scale = .833*1.5,1.07*1.5

[State 0, vel]
type = removeexplod
trigger1 = time = 122
id = 3003

[State 0, explod]
type = explod
trigger1 = time = 122
anim = 3002
id = 3002
facing = -1
postype = p1
pos = 100,-80
sprpriority = 4
ownpal = 1
bindtime = -1
scale = .833*1.5,1.07*1.5

[State 210, 3]
type = ScreenBound
trigger1 = time >= 122
value = 0

[State -2, BG]
type = Helper
trigger1 = animelemtime(16) = 13
ID = 8750
stateno = 8750
postype = left
pos = -999,-999
pausemovetime = 99999999
ignorehitpause = 1

[state 3003]
type = helper
trigger1 = time = 110
name = "jojo"
helpertype = normal
stateno = 3012
id = 3012
pos = 0,0
postype = back
ownpal = 1
keyctrl = 0
sprpriority = -1

[State 901, Throw]
type = TargetState
triggerall = numtarget
trigger1 = animelemtime(16) = 61 && !target,alive
value = 3030
id = 3000
ignorehitpause = 1
persistent = 0

;痺れエフェクト1
[State 0, explod]
type = explod
trigger1 = numtarget
trigger1 = target,alive
trigger1 = animelemtime(16) = 61
anim = 6060
id = 6060
postype = p2
pos = 0,-55
bindtime = -1
removetime = 100
scale = .833,1.07
sprpriority = 5
ownpal = 1
pausemovetime = 999999
supermovetime = 999999

;痺れエフェクト2
[State 0, explod]
type = explod
trigger1 = numtarget
trigger1 = target,alive
trigger1 = animelemtime(16) = 61
anim = 6061
id = 6060
postype = p2
pos = 0,-85
bindtime = -1
removetime = 100
scale = .833,1.07
sprpriority = 5
ownpal = 1
pausemovetime = 999999
supermovetime = 999999

;痺れエフェクト3
[State 0, explod]
type = explod
trigger1 = numtarget
trigger1 = target,alive
trigger1 = animelemtime(16) = 61
anim = 6062
id = 6060
postype = p2
pos = 0,-20
bindtime = -1
removetime = 100
scale = .833,1.07
sprpriority = 5
ownpal = 1
pausemovetime = 999999
supermovetime = 999999

[state 3000]
type = ChangeState
triggerall = animelemtime(24) >= 2
triggerall = BackEdgeBodyDist >= 0
trigger1 = numtarget
trigger1 = (target,stateno = [5100,5120])
trigger2 = !numtarget(3000)
value = 0
ctrl = 1

[state 3000]
type = ChangeState
triggerall = animelemtime(24) >= 2
triggerall = BackEdgeBodyDist < 0
trigger1 = numtarget
trigger1 = (target,stateno = [5100,5120])
trigger2 = !numtarget(3000)
value = 3011

;-----------------------------------------------
;思いヒット後
[Statedef 3011]
type    = S
movetype= I
physics = N
velset = 0,0
anim = 100
ctrl = 0
sprpriority = 2

[state 3000]
type = velset
trigger1 = !time
x = 5

[state 3000]
type = velset
trigger1 = anim = 101
x = 0

[state 3000]
type = nothitby
trigger1 = 1
value = SCA

[State 210, 3]
type = ScreenBound
trigger1 = anim != 101
value = 0

[state 3000]
type = Changeanim
trigger1 = BackEdgeBodyDist >= 50 && anim != 101
value = 101

[state 3000]
type = Changestate
trigger1 = anim = 101 && !animtime
value = 0
ctrl = 1

;-----------------------------------------------
;ジョセフカット
[Statedef 3012]
type    = A
movetype= I
physics = N
velset = 0,0
anim = 3010
sprpriority = -1

[State 191, 2] 
type = AssertSpecial
trigger1 = 1
flag = invisible

[State 1000, 5]
type = explod
trigger1 = time = 0
anim = 3010
id = 3010
pos = 0,240
postype = back
sprpriority = -1
removetime = -1
removeongethit = 1
scale = 1.233*const(size.xscale),1.5
vel = 50,0
ownpal = 1

[State 1000, 5]
type = explod
trigger1 = time = 5
anim = 3010
id = 3012
pos = 250,240
postype = back
sprpriority = -1
removetime = -1
removeongethit = 1
scale = 1.233*const(size.xscale),1.5
vel = -6.7,0
accel = 0.52,0
ownpal = 1

[State 1000, 5]
type = explod
trigger1 = time = 20
anim = 3012
id = 3013
pos = 180,232
postype = back
sprpriority = -1
removetime = -1
removeongethit = 1
scale = 1.233*const(size.xscale),1.5
vel = -6,0
ownpal = 1

[State 1000, 5]
type = explod
trigger1 = time = 25
trigger2 = time = 37
anim = 3010
id = 3015
pos = 125,220
postype = back
sprpriority = -1
removetime = -1
removeongethit = 1
bindtime = -1
scale = 1.633*const(size.xscale),1.9
ownpal = 1

[State 1000, 2]
type = Varset
trigger1 = Time = 19
v = 13
value = 0

[State 1000, 2]
type = VarAdd
trigger1 = Time >= 20
trigger1 = Time <= 25
v = 13
value = 1

[State 1000, 3]
type = ModifyExplod
trigger1 = Time >= 20
trigger1 = Time <= 25
ID = 3013
scale = (1.5+Var(13)/14.0)*const(size.xscale) , 1.5+Var(13)/14.0

[State 1000, 3]
type = removeExplod
trigger1 = time = 5
ID = 3010

[State 1000, 3]
type = removeExplod
trigger1 = time = 20
ID = 3012

[State 1000, 3]
type = removeExplod
trigger1 = time = 25
ID = 3013

[State 1000, 3]
type = removeExplod
trigger1 = time = 37
trigger2 = parent,animelem = 24
ID = 3014

[State 1000, 3]
type = removeExplod
trigger1 = parent,animelem = 24
ID = 3015

[state 3000]
type = destroyself
trigger1 = parent,animelem = 24

;-----------------------------------------------
;シィィィィザアァァァァァ
[Statedef 3005]
type    = A
movetype= I
physics = N
velset = 0,0
anim = 3005
sprpriority = 4

[State 191, 2] 
type = AssertSpecial
trigger1 = 1
flag = invisible

[state 3000]
type = playsnd
trigger1 = time = 20
value = 4,1

[state 3000]
type = pause
trigger1 = time = 0
time = 40
movetime = 40

[State 1000, 5]
type = explod
trigger1 = time = 0
anim = 3005
id = 3005
pos = 0,0
postype = p1
sprpriority = 4
bindtime = -1
pausemovetime = 999999
removeongethit = 1
ownpal = 1

[State 1000, 2]
type = Varset
trigger1 = Time = 0
v = 13
value = 0

[State 1000, 2]
type = VarAdd
trigger1 = Time >= 0
v = 13
value = 1

[State 1000, 3]
type = ModifyExplod
trigger1 = 1
ID = 3005
scale = (1+Var(13)/200.0)*parent,const(size.xscale) , 1+Var(13)/200.0
pausemovetime = 999999

[State 3000, Super A]
type = BGPalfx
trigger1 = Time > 0
time = 1
add = 0,0,0
mul = 130,130,130

[State 0, explod]
type = explod
trigger1 = time = 0
anim = 3004
id = 3004
pos = 160,120
postype = left
bindtime = -1
scale = .833,1.08
sprpriority = -20
ownpal = 1
pausemovetime = 999999
supermovetime = 999999
ignorehitpause = 1

;[State 5110, 7]
;type = Envcolor
;trigger1 = time = 0
;value = 255,255,255
;time = 2
;under = 1

[state 3000]
type = removeexplod
trigger1 = animtime = 0
id = 3005

[state 3000]
type = destroyself
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;相手1
[Statedef 3020]
type = A
movetype = H
physics = N
velset = 0,0

[State 2500, ScreenBound]
type = velset
trigger1 = time = 6
x = -1
y = -7.5

[State 2500, ScreenBound]
type = screenbound
trigger1 = 1
value = 1
movecamera = 30,10

[State 2601, ChangeAnim] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
trigger1 = !time
trigger1 = SelfAnimExist(5051)
value = 5051

[State 2601, ChangeAnim] ;Change anim when done with transition
type = ChangeAnim
trigger1 = !time
trigger1 = (Anim != [5051, 5059]) && (Anim != [5061, 5069])
trigger1 = Anim != 5090 ;Not if hit off ground anim
value = 5050
persistent = 0

[State 5050, 2] ;Coming down anim
type = ChangeAnim
trigger1 = time >= 6
trigger1 = anim = [5050,5059]
trigger1 = Vel Y >= ifelse(anim = 5050, 1, -2)
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0

[State 2601, EnvShake]
type = EnvShake
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
time = 10

[State 2601, Vel]
type = VelAdd
trigger1 = time >= 10
y = .3

[State 2601, Vel]
type = nothitby
trigger1 = 1
value = SCA

[State 2601, Vel]
type = playerpush
trigger1 = 1
value = 0

[State 2601, SelfState]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

;---------------------------------------------------------------------------
;相手2
[Statedef 3021]
type = A
movetype = H
physics = N
velset = 0,0

[State 2601, Pal]
type = PalFX
trigger1 = time = 64
time = 80
sinadd = 96,96,96,4
color = 108

[State 2601, Vel]
type = changeanim2
trigger1 = !time
value = 3020

[State 2601, Vel]
type = nothitby
trigger1 = 1
value = SCA

[State 2601, Vel]
type = playerpush
trigger1 = 1
value = 0

[State 1025, Anim]
type = ChangeAnim
trigger1 = time = 64
trigger1 = SelfAnimExist(5900) && anim != 5900
value = 5900

[State 210, 3]
type = ScreenBound
trigger1 = time <= 65
trigger2 = time >= 98
value = 1

[State 1026, Velocity]
type = VelSet
trigger1 = Time = 65
x = -10
y = -6.5

[State 1026, Gravity]
type = VelAdd
trigger1 = Time > 65
y = .3

[State 1026, Hit wall]
type = ChangeState
trigger1 = Time > 65
trigger1 = BackEdgeBodyDist <= 20
value = 1002

[State 1026, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y > 10)
value = 5100

;---------------------------------------------------------------------------
;敵（死亡時）
[Statedef 3030]
type = A
movetype = H
physics = N
anim = 5030
velset = -5,-6

[State 0, screen]
type = screenbound
trigger1 = 1
value = 1
movecamera = 1,0

[State 0, nhb]
type = null;nothitby
trigger1 = 1
value = SCA

[State 0, vel]
type = veladd
trigger1 = 1
y = .4

[State 0, push]
type = playerpush
trigger1 = 1
value = 0

[State 0, anim]
type = changeanim
trigger1 = anim = 5030
trigger1 = !animtime
trigger1 = SelfAnimExist(5035)
value = 5035
persistent = 0

[State 0, anim]
type = changeanim
trigger1 = vel y > 0
value = 5050
persistent = 0

[State 0, end]
type = selfstate
trigger1 = vel y > 0
trigger1 = pos y >= 0
value = 5100

;---------------------------------------------------------------------------
;エイジャの赤石
[Statedef 3100]
type    = S
movetype = A
physics = N
ctrl = 0
velset = 0,0
anim = 3100
facep2 = 1;-(prevstateno=[100,119])

[State 0, attack]
Type = attackdist
trigger1 = 1
value = 0

[State 0, vel]
type = nothitby
trigger1 = time <= 35
value = SCA
time = 1

[State 3000, 8]
type = playsnd
trigger1 = time = 1
value = 100,20
channel = 0

[State 0, super]
type = superpause
trigger1 = time = 1
time = 30
movetime = 30
anim = -1
sound = s0,21
darken = 0
p2defmul = 1
poweradd = -1000

[State 0, explod]
type = explod
trigger1 = time = 1
anim = 7100
id = 7100
pos = ceil(-20*const(size.xscale)),ceil(-70*const(size.yscale))
postype = p1
scale = .8,.8
sprpriority = 3
pausemovetime = 999999
supermovetime = 999999

[state 0, helper]
type = helper
trigger1 = time = 1
helpertype = normal
name = "super"
stateno = 7000
id = 7000
pos = 0,0
postype = p1
pausemovetime = 999999
supermovetime = 999999

[State 0, explod]
type = helper
trigger1 = animelemtime(3) = 0 && !numhelper(3150)
stateno = 3150
id = 3150
facing = 1
postype = p1
pos = 0,0
ownpal = 1

[State 3000, 8]
type = playsnd
trigger1 = anim = 3100
trigger1 = animelem = 3
value = 2,11

[State 3000, 8]
type = playsnd
trigger1 = anim = 3101
value = 2,12
persistent = 0

[State 0, explod]
type = explod
trigger1 = anim = 3101
anim = 8100
id = 8100
pos = ceil(0*const(size.xscale)),ceil(0*const(size.yscale))
postype = p1
scale = .833,1.07
sprpriority = -2
pausemovetime = 999999
supermovetime = 999999
persistent = 0

[State 0, explod]
type = explod
trigger1 = time = 40
anim = 3180
id = 3180
facing = 1
postype = p1
pos = -10,-40
sprpriority = 4
ownpal = 1
bindtime = -1
removeongethit = 1
scale = .833*.5,1.07*.5
persistent = 0
[State 0, explod]
type = explod
trigger1 = time = 45
anim = 3181
id = 3180
facing = 1
postype = p1
pos = -10,-40
sprpriority = 4
ownpal = 1
bindtime = -1
removeongethit = 1
scale = .833*.5,1.07*.5
persistent = 0
[State 0, explod]
type = explod
trigger1 = time = 50
anim = 3182
id = 3180
facing = 1
postype = p1
pos = -10,-40
sprpriority = 4
ownpal = 1
bindtime = -1
removeongethit = 1
scale = .833*.5,1.07*.5
persistent = 0
[State 0, explod]
type = explod
trigger1 = time = 55
anim = 3183
id = 3180
facing = 1
postype = p1
pos = -10,-40
sprpriority = 4
ownpal = 1
bindtime = -1
removeongethit = 1
scale = .833*.5,1.07*.5
persistent = 0

[State 3000, 8]
type = Changeanim
trigger1 = time = 94
value = 3101

[State 0, hit]
type = hitdef
triggerall = anim = 3101
triggerall = (!movecontact && !movereversed)
trigger1 = animelem = 2
trigger2 = animelem = 3
trigger3 = animelem = 4
attr = S, HP
damage = ceil(ifelse((413*fvar(0))<7,7,(413*fvar(0)))),0
priority = 7,Hit
hitflag = MAF
animtype = hard
pausetime = 0,0
sparkno = s6304
sparkxy = -14,-70
guard.sparkno = s6010
hitsound = s0,1
guardsound = -1
getpower = 40,0
givepower = 20,0
ground.slidetime = 16
ground.hittime = 16
ground.type = low
ground.velocity = -8,-4
air.type = Low
air.velocity = -5,ifelse(var(40)<12,-4+(var(40)*.42),0)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.kill = 0
p2facing = 1
ID = stateno

[State 901, Throw]
type = TargetState
triggerall = !movereversed
triggerall = numtarget(3100)
trigger1 = time > 1 && movehit && target,alive
value = 3101
ignorehitpause = 1
persistent = 0
id = 3100

[State 901, Throw]
type = TargetState
triggerall = !movereversed
triggerall = numtarget(3100)
trigger1 = time > 1 && movehit && !target,alive
value = 3102
ignorehitpause = 1
persistent = 0
id = 3100

[State 0, vel]
type = nothitby
triggerall = numtarget(3100)
trigger1 = movehit
value = SCA
ignorehitpause = 1

[State 0, pos]
type = posfreeze
trigger1 = var(8) > 0

[State 220, CornerPush]
type = VarSet
trigger1 = movecontact = 1
fvar(3) = 0
ignorehitpause = 1

[state 3000]
type = ChangeState
triggerall = animelemtime(14) >= 1
trigger1 = numtarget;(3100)
trigger1 = (target,stateno = [5100,5120])
trigger2 = !numtarget;(3100)
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;赤石
[Statedef 3150]
type    = S
movetype = I
physics = N
ctrl = 0
velset = 0,0
sprpriority = 2
anim = 3150

[State 0, explod]
type = helper
trigger1 = !time && !numhelper(3170)
stateno = 3170
id = 3170
facing = 1
postype = p1
pos = 0,0
ownpal = 1

[State 0, btr]
type = bindtoroot
trigger1 = 1
pos = 0,0

[State 0, turn]
type = turn
trigger1 = facing != root,facing

[State 3000, 8]
type = Changeanim
trigger1 = root,anim = 3101 && anim != 3151
value = 3151

[State 0, explod]
type = explod
trigger1 = anim = 3151
anim = 3160
id = 3160
facing = 1
postype = p1
pos = 0,0
sprpriority = 2
ownpal = 1
bindtime = -1
removeongethit = 1
scale = .833,1.07
persistent = 0

[State 0, end]
type = removeexplod
trigger1 = root,stateno != 3100
trigger2 = root,anim = 3101 && root,animelemtime(5) = 0
id = 3160

[State 0, end]
type = destroyself
trigger1 = root,stateno != 3100
trigger2 = root,anim = 3101 && root,animelemtime(5) = 0

;---------------------------------------------------------------------------
;エフェクト
[Statedef 3170]
type    = S
movetype = I
physics = N
ctrl = 0
velset = 0,0
sprpriority = 3
anim = 3170

[State 0, btr]
type = bindtoroot
trigger1 = time <= 55
pos = -36,-80

[State 0, turn]
type = turn
trigger1 = facing != root,facing

[State 0, scale]
type = angledraw
trigger1 = time <= 54
scale = .2+time*.01,.2+time*.01

[State 3000, 8]
type = Changeanim
trigger1 = time = 55
value = 3171

[State 0, scale]
type = angledraw
trigger1 = time >= 55 && time <= 58
scale = .5,.5

[State 0, scale]
type = angledraw
trigger1 = time >= 59 && time <= 60
scale = .25,.25

[State 0, scale]
type = angledraw
trigger1 = time >= 61
scale = .15,.15

[State 0, end]
type = removeexplod
trigger1 = root,stateno != 3100
trigger2 = anim = 3171 && !animtime
id = 3080

[State 0, end]
type = destroyself
trigger1 = root,stateno != 3100
trigger2 = anim = 3171 && !animtime

;===========================================================================
;This is war!
[Statedef 3200]
type    = S
movetype = A
physics = N
ctrl = 0
velset = 0,0
anim = 3200
poweradd = 40
facep2 = 1;-(prevstateno=[100,119])

[State 0, vel]
type = nothitby
trigger1 = time <= 44
value = SCA
time = 1

[State 0, super]
type = superpause
trigger1 = time = 1
time = 30
movetime = 30
anim = -1
sound = s0,21
darken = 0
p2defmul = 1
poweradd = -1000

[State 0, explod]
type = explod
trigger1 = time = 1
anim = 7100
id = 7100
pos = ceil(0*const(size.xscale)),ceil(-70*const(size.yscale))
postype = p1
scale = .8,.8
sprpriority = 3
pausemovetime = 999999
supermovetime = 999999

[state 0, helper]
type = helper
trigger1 = time = 1
helpertype = normal
name = "super"
stateno = 7000
id = 7000
pos = 0,0
postype = p1
pausemovetime = 999999
supermovetime = 999999

[state 4000,–³“G]
type=nothitby
trigger1=movehit
trigger1=numtarget(3200)
value=sca

[state 4010,‹^Ž—ƒqƒbƒg‰¹]
type=playsnd
trigger1=time=0
value=3200,2

[state 4000,‰Œ‚]
type=hitdef
triggerall=roundstate=2
trigger1=animelemtime(5)=0
attr=s,ha
animtype=diagup
damage=40,0
getpower=0,0
guardflag=ma
pausetime=13,16
sparkno=s6004
guard.sparkno=s6010
sparkxy=0,-110
hitsound=s0,5
guardsound=s0,9
ground.type=high
ground.velocity=-4,-8.5
air.velocity=-4,-8.5
airguard.velocity=-4,-3
ground.slidetime=16
ground.hittime=16
air.hittime=16
p2facing=1
yaccel=0.4
p2facing=1
fall=1
fall.recover=0
kill=0
priority=6,hit
id=3200

[state 4000,–½’†]
type=changestate
trigger1=movehit
trigger1=numtarget(3200)
value=3201

[State 3000, 8]
type = Changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;ƒuƒb‰ó‚·‚Ù‚ÇƒVƒ…[ƒg(¬Œ÷)
[statedef 3201]
type=s
movetype=a
physics=s
anim=3201

[state 4010,‘ÎÛƒXƒe[ƒg]
type=targetstate
trigger1=time=0
value=3220
id=3200

[state 4010,‚±‚Á‚¿‚ðŒü‚©‚¹‚é]
type=targetfacing
trigger1=1
value=-1
id=3200

[state 4010,‘ÎÛ‚Ì‘¬“x]
type=targetvelset
trigger1=time=0
x=-4
y=-8.5
id=3200

[state 4010,‘ÎÛƒXƒe[ƒg•ÏX]
type=targetstate
trigger1=animelemtime(4)>=0
trigger1=time%3=0
value=3221
id=3200

[state 4010,ƒ_ƒ[ƒW]
type=targetlifeadd
trigger1=animelemtime(4)>=0
trigger1=time%3=0
value=-7
id=3200
kill=0

[state 4010,”íƒ_ƒƒQ[ƒW‘‰Á]
type=targetpoweradd
trigger1=animelemtime(4)>=0
trigger1=time%3=0
value=6
id=3000

[state 4010,ƒqƒbƒg”]
type=hitadd
trigger1=animelemtime(4)>=0
trigger1=time%3=0
value=numtarget(3200)

[state 4000,ƒqƒbƒg”]
type=varadd
triggerall=var(1)
trigger1=animelemtime(4)>=0
trigger1=time%3=0
var(3)=1

[state 4010,‹^Ž—ƒqƒbƒgƒXƒp[ƒN]
type=explod
trigger1=animelemtime(4)>=0
trigger1=time%3=0
anim=6003
pos=target(3200),const(size.mid.pos.x),target(3200),const(size.mid.pos.y)
postype=p2
random=100,100
ontop=1
ownpal=1

[State 20000]
type = Helper
trigger1=animelemtime(4)>=0
trigger1=time%3=0
helpertype = normal
name = "moji"
ID = (20006+(random%2=0)*9)
pos = floor(156+random%100), floor(-45-random%100)
postype = p1
facing = facing
stateno = (20006+(random%2=0)*9)
keyctrl = 0
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[state 4010,eŒ‚‰¹]
type=playsnd
trigger1=time = 41
value=3200,0
loop = 1
channel = 17

[state 4010,eŒ‚‰¹]
type=playsnd
trigger1=time = 41
value=1550,3

[state 4010,—¬‚ê’e]
type=projectile
trigger1=animelemtime(4)>=0
attr=s,hp
damage=0,0
getpower=0,0
animtype=hard
pausetime=0,0
offset=target(3200),const(size.mid.pos.x)+(random-500)/5,target(3200),const(size.mid.pos.y)+(random-500)/5
postype=p2
projid=3203
projanim=3203
projhits=1
projremovetime=3
guardflag=ma
sparkno=s6003
guard.sparkno=s6010
sparkxy=0,0
hitsound=-1;s5,5
guardsound=-1;s6,0
ground.type=high
ground.slidetime=10
ground.hittime=10
air.hittime=10
ground.velocity=-0.5,0
air.velocity=0,-0.8
guard.kill=0

[State 0, explod]
type = explod
trigger1 = time = 41
anim = 3204
id = 3204
removetime = 116
facing = 1
pos = 0,0
postype = p1
sprpriority = 3
scale = const(size.xscale),const(size.yscale)

[State -2, BG]
type = Helper
trigger1 = animelem = 4
ID = 8751
stateno = 8751
postype = left
pos = -999,-999
pausemovetime = 99999999
ignorehitpause = 1

[state 4010,I—¹]
type=changestate
trigger1=time>=156
trigger1=time%3=0
;trigger1=target(4000),life=1
value=3202

;---------------------------------------------------------------------------
;ƒuƒb‰ó‚·‚Ù‚ÇƒVƒ…[ƒg(ƒgƒhƒ)
[statedef 3202]
type=s
movetype=a
physics=s
anim=3202

[state 4011,ƒ_ƒ[ƒW]
type=targetlifeadd
trigger1=time=0
value=-49
id=3200
kill = 1

[state 4010,”íƒ_ƒƒQ[ƒW‘‰Á]
type=targetpoweradd
trigger1=time=0
value=6
id=3000

[state 4010,ƒqƒbƒg”]
type=hitadd
trigger1=time=0
value=numtarget(3200)

[state 4010,ƒqƒbƒg”]
type=varadd
triggerall=var(1)
trigger1=time=0
var(3)=1

[state 4010,‹^Ž—ƒqƒbƒg‰¹]
type=playsnd
trigger1=time=0
value=5,5

[state 4010,‹^Ž—ƒqƒbƒgƒXƒp[ƒN]
type=explod
trigger1=time=0
anim=6004
pos=target(3200),const(size.mid.pos.x),target(3200),const(size.mid.pos.y)
postype=p2
ontop=1
ownpal=1

[state 4011,eŒ‚‰¹]
type=playsnd
trigger1=time=0
value=3200,1

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 0
channel = 17
;ignorehitpause = 
;persistent = 

[state 4011,‘ÎÛƒXƒe[ƒg•ÏX]
type=targetstate
trigger1=time=0
value=3222
id=3200

[state 4011,I—¹]
type=changestate
trigger1=animtime=0
value=0
ctrl=1

;---------------------------------------------------------------------------
;ƒuƒb‰ó‚·‚Ù‚ÇƒVƒ…[ƒg:‘ÎÛ‘¤
[statedef 3220]
type=a
movetype=h
phisics=n
ctrl=0
anim=5030

[state 4020,‚·‚è”²‚¯]
type=playerpush
trigger1=1
value=0

[state 4020,–³“G]
type=nothitby
trigger1=1
value=sca

[state 4020,ƒAƒjƒ•ÏX(‚Á”ò‚Ñ)]
type=changeanim
trigger1=selfanimexist(5035)
trigger1=anim=5030
trigger1=animtime=0
value=5035

[state 4020,d—Í]
type=veladd
trigger1=!gethitvar(isbound)
y=0.4

[state 4020,ƒAƒjƒ•ÏX(—Ž‰º)]
type=changeanim
trigger1=vel y>0
persistent=0
value=ifelse(selfanimexist(5060),5060,5050)

[state 4020,—Ž‰º]
type=selfstate
trigger1=pos y>=0
trigger1=vel y>0
value=5100

;---------------------------------------------------------------------------
;ƒuƒb‰ó‚·‚Ù‚ÇƒVƒ…[ƒg:‘ÎÛ‘¤2
[statedef 3221]
type=a
movetype=h
phisics=n
ctrl=0
velset=0,-0.8

[state 4021,‚·‚è”²‚¯]
type=playerpush
trigger1=1
value=0

[state 4021,–³“G]
type=nothitby
trigger1=1
value=sca

[state 4021,ƒAƒjƒ•ÏX]
type=changeanim
trigger1=time=0
value=5030

[state 4021,d—Í]
type=veladd
trigger1=1
y=0.4

[state 4021,—Ž‰º]
type=selfstate
trigger1=pos y>=0
trigger1=vel y>0
value=5100

;---------------------------------------------------------------------------
;–Y‚ê‚Ê‘z‚¢:‘ÎÛ‘¤(•Ç‚Á”ò‚Ñ)
[statedef 3222]
type = A
movetype = H
physics = N
velset = 0,0

[state 4020,–³“G]
type=nothitby
trigger1=1
value=sca

[State 2601, Vel]
type = playerpush
trigger1 = 1
value = 0

[State 1025, Anim]
type = ChangeAnim
trigger1 = time = 64
trigger1 = SelfAnimExist(5900) && anim != 5900
value = 5900

[State 210, 3]
type = ScreenBound
trigger1 = time <= 65
trigger2 = time >= 98
value = 1

[State 1026, Velocity]
type = VelSet
trigger1 = Time = 0
x = -10
y = -6.5

[State 1026, Gravity]
type = VelAdd
trigger1 = Time > 0
y = .3

[State 1026, Hit wall]
type = ChangeState
trigger1 = Time > 0
trigger1 = BackEdgeBodyDist <= 20
value = 1002

[State 1026, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y > 10)
value = 5100

;===========================================================================
; System Stuff
;===========================================================================
;ガードキャンセル
[Statedef 700]
type = S
movetype = A
physics = N
ctrl = 0
anim = 1101
poweradd = 0
sprpriority = 0
velset = 0,0
facep2 = 1;-(prevstateno=[100,119])

[State 0, pal]
type = palfx
trigger1 = time < 10
trigger1 = time%2
add = 128,128,128
time = 1
ignorehitpause = 1

[State 0, hit]
type = hitby
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP

[State 0, nhb]
type = nothitby
trigger1 = time <= 9
value = SCA

[State 0, pos]
type = posset
trigger1 = !time
y = 0

[State 0, snd]
type = playsnd
trigger1 = !time
value = 100,24
channel = 0

[State 0, snd]
type = playsnd
triggerall = !var(8)
trigger1 = animelemtime(11) = 0
value = 2,8

[State 0, explod]
type = helper
trigger1 = animelemtime(11) = 0
stateno = 1110
id = 1110
facing = 1
postype = p1
pos = 0,0
ownpal = 1

[State 0, hit]
type = hitdef
trigger1 = animelem = 11
attr = S, SA
damage = ceil(ifelse((56*fvar(0))<7,7,(56*fvar(0)))),0
priority = 3,Hit
hitflag = MAF
guardflag = M
animtype = hard
air.animtype = Back
fall.animtype = Back
pausetime = 11,11
sparkno = s6005
sparkxy = -10,-85
guard.sparkno = s6010
hitsound = s0,5
guardsound = s0,9
getpower = 40,0
givepower = 20,0
ground.type = high
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -6,-5*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
guard.velocity = -8
air.type = High
air.velocity = -6,-5*(1.0-ifelse(var(40)>0,var(40)*.125,0))*(var(40)<=7)
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.hittime = 14
fall = 1
fall.recovertime = 36
yaccel = .36
id = stateno
p2facing = 1

[State 0, pos]
type = posfreeze
trigger1 = var(8) > 0

[State 220, CornerPush]
type = VarSet
trigger1 = anim = 200
trigger1 = movecontact = 1
fvar(3) = 11.9
ignorehitpause = 1

[State 0, end]
type = changestate
trigger1 = !animtime
value = 0
ctrl = 1

;===========================================================================
;アドバンシングガード
[Statedef 710]
type = U
movetype = I
physics = N
ctrl = 0
velset = 0,0

[State 0, vel]
type = velset
trigger1 = 1
x = 0

[State 0, explod]
type = explod
trigger1 = !time
anim = 6020
id = 6020
pos = ceil(28*const(size.xscale)),ifelse(statetype=C&&!var(0),ceil(-45*const(size.xscale)),ceil(-90*const(size.xscale)))
postype = p1
scale = const(size.xscale),const(size.yscale)
sprpriority = 2
ownpal = 1
shadow = 0,0,0
pausemovetime = 0
supermovetime = 0

[state 0, helper]
type = helper
trigger1 = !time
helpertype = normal
name = "AVG"
stateno = 715
id = 715
pos = -10,0
postype = p1
keyctrl = 0
pausemovetime = 999999
supermovetime = 999999
size.ground.back = 20
size.ground.front = 20
size.height = 240

[State 810, 1]
type = helper
trigger1 = !time
helpertype = normal
stateno = 8030
id = 8030
pos = 0,0
postype = p2
ownpal = 1
keyctrl = 0
pausemovetime = 999999
supermovetime = 999999

[State 0, snd]
type = playsnd
trigger1 = time = 1
value = 0,20

[State 0, snd]
type = playsnd
trigger1 = time = 1
value = 810,random%8
channel = 0

[State 0, anim]
type = changeanim
trigger1 = !var(59)
trigger1 = time >= 0 && command != "holddown"
value = 150+var(0)

[State 0, anim]
type = changeanim
trigger1 = !var(59)
trigger1 = time >= 0 && command = "holddown"
value = 151+var(0)


[State 0, state]
type = statetypeset
trigger1 = !var(59)
trigger1 = command != "holddown"
statetype = S
physics = S

[State 0, state]
type = statetypeset
trigger1 = !var(59)
trigger1 = command = "holddown"
statetype = C
physics = C

[State 0, nhb]
type = nothitby
trigger1 = time <= 1
value = SCA
time = 1

[State 0, end]
type = changestate
trigger1 = time = 1
value = 151+(command = "holddown")*2

;---------------------------------------------------------------------------
;アドバンシングガード2
[Statedef 711]
type = U
movetype = I
physics = N

[State 0, vel]
type = velset
trigger1 = 1
x = 0

[State 0, anim]
type = changeanim
trigger1 = time >= 0 && command != "holddown"
value = 150+var(0)

[State 0, anim]
type = changeanim
trigger1 = time >= 0 && command = "holddown"
value = 151+var(0)

[State 0, state]
type = statetypeset
trigger1 = command != "holddown"
statetype = S
physics = S

[State 0, state]
type = statetypeset
trigger1 = command = "holddown"
statetype = C
physics = C

[State 0, end]
type = changestate
trigger1 = numhelper(715)
trigger1 = command = "holdback"
value = 151+(command = "holddown")*2

[State 0, end]
type = changestate
trigger1 = !numhelper(715)
value = 130+(command = "holddown")
ctrl = 1

;---------------------------------------------------------------------------
;アドバンシングガード(ヘルパー)
[Statedef 715]
type = S
movetype = I
physics = N
anim = 715
velset = 0,0

[State 0, push]
type = playerpush
trigger1 = 1
value = 1

[State 0, nhb]
type = nothitby
trigger1 = 1
value = SCA

[State 0, vel]
type = velset
trigger1 = !time
x = 20

[State 0, vel]
type = veladd
trigger1 = time > 0
x = -1

[State 0, end]
type = DestroySelf
trigger1 = time = 15

;===========================================================================
;スパコン背景
[Statedef 7000]
ctrl = 0
anim = 9999

[State 8000, AssertSpecial-1]
type = AssertSpecial
trigger1 = time <= 29
flag = NoFG
flag2 = NoBG

[State 0, explod]
type = explod
trigger1 = !time
anim = 7300
id = 7300
pos = 0,0
postype = back
removetime = 30
scale = .84,1.08
sprpriority = -20
pausemovetime = 30
supermovetime = 30

;cut in
[State 0, explod]
type = explod
trigger1 = time = 7
anim = 7000
id = 7000
pos = -20,170
postype = back
removetime = 23
sprpriority = -10
pausemovetime = 23
supermovetime = 23

[State 8000, ModifyExplod-3]
type = ModifyExplod
trigger1 = Numexplod(7000)
Id = 7000
postype = back
pos = ceil(-20+((random%16)*ifelse((time%6=[1,3]),-1,1))),ceil(170+((random%16)*ifelse((time%6=[1,3]),-1,1)))
scale = ifelse(time>=22,2,.2+((time-6)*.125))*.833,ifelse(time>=22,2,.2+((time-6)*.125))*1.07

[State 0, end]
type = DestroySelf
trigger1 = time = 31

;---------------------------------------------------------------------------
; アドバンシングガード(煙)
[Statedef 8030]
type = S
movetype = I
physics = N
velset = 0,0
anim = 8030
sprpriority = 4

[State 0, pos]
type = posset
trigger1 = 1
x = enemynear,pos x
y = 0

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, end]
type = DestroySelf
trigger1 = !animtime
;===========================================================================
;メッセージアイコン
[Statedef 7500]
ctrl = 0
anim = 9999

;ファーストストライク判定
[State 0, var]
type = varset
trigger1 = root,movetype = H && (root,stateno != [120,159])
trigger2 = numpartner
trigger2 = partner,movetype = H && (partner,stateno != [120,159])
var(8) = 2
ignorehitpause = 1
[State 0, var]
type = varset
trigger1 = var(8) = 0
trigger1 = root,p2movetype = H && (root,p2stateno != [120,159])
trigger1 = root,var(40)
var(8) = 1
ignorehitpause = 1

[State 0, var];FIRST ATTACK!
type = varset
trigger1 = var(8) = 1
var(0) = 4
ignorehitpause = 1

[State 0, var]
type = varset
triggerall = root,time = 1
trigger1 = root,stateno = 700
trigger2 = root,stateno = 10700
var(0) = 5
ignorehitpause = 1

[State 0, end]
type = changestate
trigger1 = roundstate = 2
trigger1 = time > 1
trigger1 = var(0)
value = 7500+var(0)

;---------------------------------------------------------------------------
;FIRST ATTACK
[Statedef 7504]
ctrl = 0
anim = 20000

[State 0, var]
type = varset
trigger1 = !time
var(8) = 2
ignorehitpause = 1

[State 0, explod]
type = removeexplod
trigger1 = !time
trigger1 = numexplod(7500)
id = 7500

[State 0, explod]
type = explod
trigger1 = teamside = 1
trigger1 = !time
anim = 7503
id = 7500
pos = -160,78
postype = left
bindtime = -1
scale = .5,.5
sprpriority = 10
pausemovetime = 999999
supermovetime = 999999

[State 0, explod]
type = modifyexplod
trigger1 = teamside = 1
trigger1 = numexplod(7500)
trigger1 = time <= 20
pos = ceil(-160+(time*10)),78
postype = left
id = 7500

[State 0, explod]
type = modifyexplod
trigger1 = teamside = 1
trigger1 = numexplod(7500)
trigger1 = time = 22
pos = 32,78
postype = left
id = 7500

[State 0, explod]
type = explod
trigger1 = teamside = 2
trigger1 = !time
anim = 7508
id = 7500
pos = 160,78
postype = right
bindtime = -1
scale = .5,.5
sprpriority = 10
pausemovetime = 999999
supermovetime = 999999

[State 0, explod]
type = modifyexplod
trigger1 = teamside = 2
trigger1 = numexplod(7500)
trigger1 = time <= 20
pos = ceil(160-(time*10)),78
postype = right
id = 7500

[State 0, explod]
type = modifyexplod
trigger1 = teamside = 2
trigger1 = numexplod(7500)
trigger1 = time = 22
pos = -32,78
postype = right
id = 7500

[State 0, var]
type = varset
trigger1 = !time
var(0) = 0
ignorehitpause = 1

[State 0, var]
type = varset
triggerall = root,time = 1
trigger1 = root,stateno = 700
var(0) = 5
ignorehitpause = 1

[State 0, end]
type = changestate
triggerall = roundstate = 2
triggerall = time > 1
trigger1 = var(0) && var(0) != 4
trigger2 = !var(0)
trigger2 = time > 60
value = 7500+var(0)

[State 0, end]
type = changestate
triggerall = roundstate = 2
triggerall = time > 1
trigger1 = var(0) && var(0) != 4
trigger2 = !var(0)
trigger2 = time > 60
value = 7500+var(0)

;------------------------------------------------------------------------------
;GUARD CANCEL
[Statedef 7505]
ctrl = 0
anim = 9999

[State 0, explod]
type = removeexplod
trigger1 = !time
trigger1 = numexplod(7500)
id = 7500

[State 0, explod]
type = explod
trigger1 = teamside = 1
trigger1 = !time
anim = 7504
id = 7500
pos = -160,78
postype = left
bindtime = -1
scale = .5,.5
sprpriority = 10
pausemovetime = 999999
supermovetime = 999999

[State 0, explod]
type = modifyexplod
trigger1 = teamside = 1
trigger1 = numexplod(7500)
trigger1 = time <= 20
pos = ceil(-160+(time*10)),78
postype = left
id = 7500

[State 0, explod]
type = modifyexplod
trigger1 = teamside = 1
trigger1 = numexplod(7500)
trigger1 = time = 22
pos = 32,78
postype = left
id = 7500

[State 0, explod]
type = explod
trigger1 = teamside = 2
trigger1 = !time
anim = 7509
id = 7500
pos = 160,78
postype = right
bindtime = -1
scale = .5,.5
sprpriority = 10
pausemovetime = 999999
supermovetime = 999999

[State 0, explod]
type = modifyexplod
trigger1 = teamside = 2
trigger1 = numexplod(7500)
trigger1 = time <= 20
pos = ceil(160-(time*10)),78
postype = right
id = 7500

[State 0, explod]
type = modifyexplod
trigger1 = teamside = 2
trigger1 = numexplod(7500)
trigger1 = time = 22
pos = -32,78
postype = right
id = 7500

[State 0, var]
type = varset
trigger1 = root,stateno != 700
trigger1 = root,stateno != 10700
var(0) = 0
ignorehitpause = 1

;ファーストストライク判定
[State 0, var]
type = varset
trigger1 = root,movetype = H && (root,stateno != [120,159])
trigger2 = numpartner
trigger2 = partner,movetype = H && (partner,stateno != [120,159])
var(8) = 2
ignorehitpause = 1
[State 0, var]
type = varset
trigger1 = var(8) = 0
trigger1 = root,p2movetype = H && (root,p2stateno != [120,159])
trigger1 = root,var(40)
var(8) = 1
ignorehitpause = 1

[State 0, var];FIRST ATTACK!
type = varset
trigger1 = var(8) = 1
var(0) = 4
ignorehitpause = 1

[State 0, end]
type = changestate
triggerall = roundstate = 2
triggerall = time > 1
trigger1 = var(0) && var(0) != 5
trigger2 = !var(0)
trigger2 = time > 60
value = 7500

;===========================================================================
;勝利時画面移動停止
[Statedef 6000]
ctrl = 0
anim = 9999

[State 0, screen]
type = screenbound
trigger1 = 1
value = 1
movecamera = -160,0

[State 0, end]
type = DestroySelf
trigger1 = roundstate != [3,4]
trigger1 = root,movetype = H

;===========================================================================
;勝利アイコン
[Statedef 9100]
ctrl = 0
anim = 20000

[state 0, helper]
type = helper
trigger1 = !time
helpertype = normal
name = "config"
stateno = 9105
id = 9105
pausemovetime = 999999
supermovetime = 999999

;「WIN」
[State 0, explod]
type = explod
triggerall = roundstate = 4
trigger1 = teamside = 1
trigger1 = time = 1
trigger1 = var(0)
anim = 9102
id = 9102
pos = -285,80
postype = left
sprpriority = 4

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(9102)
trigger1 = time <= 20
id = 9102
pos = ceil(-285+(time*15)),80
postype = left

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(9102)
trigger1 = time >= 81
id = 9102
pos = ceil(15-((time-80)*15)),80
postype = left


[State 0, explod]
type = explod
triggerall = roundstate = 4
trigger1 = teamside = 2
trigger1 = time = 1
trigger1 = var(0)
anim = 9102
id = 9103
pos = 110,80
postype = right
sprpriority = 4

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(9103)
trigger1 = time <= 20
id = 9103
pos = ceil(110-(time*15)),80
postype = right

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(9103)
trigger1 = time >= 81
id = 9103
pos = ceil(-170+((time-80)*15)),80
postype = right

[State 0, snd]
type = playsnd
trigger1 = time = 20
value = 0,28

;「To Be Continued...」
[State 0, explod]
type = explod
triggerall = roundstate = 4
triggerall = matchover
triggerall = teamside = 1
triggerall = time = 20
triggerall = var(1)
trigger1 = !root,fvar(12)
trigger2 = root,fvar(12)
trigger2 = numpartner
trigger2 = !partner,alive
anim = 9100
id = 9100
pos = 412,210
postype = left
scale = .8,.8
sprpriority = 150

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(9100)
trigger1 = time <= 40
id = 9100
pos = ceil(412-((time-20)*20)),210
postype = left


[State 0, explod]
type = explod
triggerall = roundstate = 4
triggerall = matchover
triggerall = teamside = 2
triggerall = time = 20
triggerall = var(1)
trigger1 = !root,fvar(12)
trigger2 = root,fvar(12)
trigger2 = numpartner
trigger2 = !partner,alive
anim = 9101
id = 9101
pos = -412,210
postype = right
scale = .8,.8
sprpriority = 150

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(9101)
trigger1 = time <= 40
id = 9101
pos = ceil(-412+((time-20)*20)),210
postype = right
;===========================================================================
;敗北演出
[Statedef 9200]
ctrl = 0
anim = 9999

[State 9001, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,19
[State 9001, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,19
[State 9001, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,19

[State 0, turn]
type = turn
trigger1 = !time
trigger1 = facing != root,facing

[State 0, assert]
type = assertspecial
trigger1 = time <= 60
flag = NoBG
flag2 = NoFG

[State 0, pal]
type = palfx
trigger1 = time = [10,34]
add = 5*(time-10),5*(time-10),5*(time-10)
time = 1
ignorehitpause = 1

[State 0, pal]
type = palfx
trigger1 = time > 34
add = 128,128,128
time = 1
ignorehitpause = 1

[State 0, var]
type = varset
trigger1 = time = 1
fvar(0) = 100
ignorehitpause = 1

[State 0, var]
type = varset
trigger1 = time > 1
fvar(0) = ifelse(fvar(0)*.6<.3,.3,fvar(0)*.6)
ignorehitpause = 1

[State 0, var]
type = varadd
trigger1 = 1
fvar(1) = fvar(0)
ignorehitpause = 1

;cut in
[State 0, explod]
type = explod
trigger1 = !time
anim = 9200
id = 9200
pos = 160,120
postype = back
bindtime = -1
removetime = 60
ownpal = 0
scale = 1.23,1.47
sprpriority = -25
pausemovetime = 999999
supermovetime = 999999
ignorehitpause = 1

;back1
[State 0, explod]
type = explod
trigger1 = !time
anim = 8200
id = 8200
pos = 0,0
postype = back
bindtime = -1
removetime = 60
ownpal = 0
sprpriority = -30
pausemovetime = 999999
supermovetime = 999999
ignorehitpause = 1
[State 0, explod]
type = explod
trigger1 = !time
anim = 8200
id = 8205
pos = 0,0
postype = back
bindtime = -1
removetime = 60
ownpal = 0
sprpriority = -30
pausemovetime = 999999
supermovetime = 999999

;back2
[State 0, explod]
type = explod
trigger1 = !time
anim = 8201
id = 8201
pos = 0,96
postype = back
bindtime = -1
removetime = 60
ownpal = 0
sprpriority = -30
pausemovetime = 999999
supermovetime = 999999
ignorehitpause = 1
[State 0, explod]
type = explod
trigger1 = !time
anim = 8201
id = 8206
pos = 0,96
postype = back
bindtime = -1
removetime = 60
ownpal = 0
sprpriority = -30
pausemovetime = 999999
supermovetime = 999999

;back3
[State 0, explod]
type = explod
trigger1 = !time
anim = 8202
id = 8202
pos = 0,160
postype = back
bindtime = -1
removetime = 60
ownpal = 0
sprpriority = -30
pausemovetime = 999999
supermovetime = 999999
ignorehitpause = 1
[State 0, explod]
type = explod
trigger1 = !time
anim = 8202
id = 8207
pos = 0,160
postype = back
bindtime = -1
removetime = 60
ownpal = 0
sprpriority = -30
pausemovetime = 999999
supermovetime = 999999

;back4
[State 0, explod]
type = explod
trigger1 = !time
anim = 8203
id = 8203
pos = 0,224
postype = back
bindtime = -1
removetime = 60
ownpal = 0
sprpriority = -30
pausemovetime = 999999
supermovetime = 999999
ignorehitpause = 1
[State 0, explod]
type = explod
trigger1 = !time
anim = 8203
id = 8208
pos = 0,224
postype = back
bindtime = -1
removetime = 60
ownpal = 0
sprpriority = -30
pausemovetime = 999999
supermovetime = 999999


[State 0, explod]
type = modifyexplod
trigger1 = numexplod(9200)
id = 9200
pos = ceil(400-fvar(1)),120
postype = back
ignorehitpause = 1


[State 0, explod]
type = modifyexplod
trigger1 = numexplod(8200)
id = 8200
pos = -(time*8)%512,0
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(8201)
id = 8201
pos = -(time*12)%512,96
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(8202)
id = 8202
pos = -(time*16)%512,160
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(8203)
id = 8203
postype = back
pos = -(time*20)%512,224
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(8205)
id = 8205
pos = 512-(time*8)%512,0
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(8206)
id = 8206
pos = 512-(time*12)%512,96
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(8207)
id = 8207
pos = 512-(time*16)%512,160
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(8208)
id = 8208
pos = 512-(time*20)%512,224
postype = back
ignorehitpause = 1


[State 0, explod]
type = removeexplod
trigger1 = time = 60
trigger2 = roundstate = 4
id = 9200

[State 0, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = !numexplod(9200)
id = 8200

[State 0, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = !numexplod(9200)
id = 8201

[State 0, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = !numexplod(9200)
id = 8202

[State 0, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = !numexplod(9200)
id = 8203

[State 0, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = !numexplod(9200)
id = 8205

[State 0, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = !numexplod(9200)
id = 8206

[State 0, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = !numexplod(9200)
id = 8207

[State 0, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = !numexplod(9200)
id = 8208

;---------------------------------------------------------------------------
;敗北演出2(蜂の巣)
[Statedef 9201]
ctrl = 0
anim = 9999

[State 9001, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,19
[State 9001, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,19
[State 9001, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,19

[State 0, turn]
type = turn
trigger1 = !time
trigger1 = facing != root,facing

[State 0, var]
type = varset
trigger1 = !time
fvar(2) = 0
ignorehitpause = 1

[State 0, assert]
type = assertspecial
trigger1 = time <= 60
flag = NoBG
flag2 = NoFG

[State 0, pal]
type = palfx
trigger1 = time = [10,34]
add = 5*(time-10),5*(time-10),5*(time-10)
time = 1
ignorehitpause = 1

[State 0, pal]
type = palfx
trigger1 = time > 34
add = 128,128,128
time = 1
ignorehitpause = 1

[State 0, var]
type = varset
trigger1 = time = 1
fvar(0) = 100
ignorehitpause = 1

[State 0, var]
type = varset
trigger1 = time > 1
fvar(0) = ifelse(fvar(0)*.6<.3,.3,fvar(0)*.6)
ignorehitpause = 1

[State 0, var]
type = varadd
trigger1 = 1
fvar(1) = fvar(0)
ignorehitpause = 1

[State 0, var]
type = varadd
trigger1 = time > 6
fvar(2) = fvar(0)
ignorehitpause = 1

;cut in
[State 0, explod]
type = explod
trigger1 = !time
anim = 9200
id = 9200
pos = 160,120
postype = back
bindtime = 0;-1
ownpal = 0
scale = 1.23,1.47
sprpriority = -25
pausemovetime = 999999
supermovetime = 999999
ignorehitpause = 1

;back1
[State 0, explod]
type = explod
trigger1 = !time
anim = 8205
id = 8200
pos = 0,0
postype = back
bindtime = 0;-1
ownpal = 0
sprpriority = -30
pausemovetime = 999999
supermovetime = 999999
ignorehitpause = 1
[State 0, explod]
type = explod
trigger1 = !time
anim = 8205
id = 8205
pos = 0,0
postype = back
bindtime = 0;-1
ownpal = 0
sprpriority = -30
pausemovetime = 999999
supermovetime = 999999

;back2
[State 0, explod]
type = explod
trigger1 = !time
anim = 8206
id = 8201
pos = 0,96
postype = back
bindtime = 0;-1
ownpal = 0
sprpriority = -30
pausemovetime = 999999
supermovetime = 999999
ignorehitpause = 1
[State 0, explod]
type = explod
trigger1 = !time
anim = 8206
id = 8206
pos = 0,96
postype = back
bindtime = 0;-1
ownpal = 0
sprpriority = -30
pausemovetime = 999999
supermovetime = 999999

;back3
[State 0, explod]
type = explod
trigger1 = !time
anim = 8207
id = 8202
pos = 0,160
postype = back
bindtime = 0;-1
ownpal = 0
sprpriority = -30
pausemovetime = 999999
supermovetime = 999999
ignorehitpause = 1
[State 0, explod]
type = explod
trigger1 = !time
anim = 8207
id = 8207
pos = 0,160
postype = back
bindtime = 0;-1
ownpal = 0
sprpriority = -30
pausemovetime = 999999
supermovetime = 999999

;back4
[State 0, explod]
type = explod
trigger1 = !time
anim = 8208
id = 8203
pos = 0,224
postype = back
bindtime = 0;-1
ownpal = 0
sprpriority = -30
pausemovetime = 999999
supermovetime = 999999
ignorehitpause = 1
[State 0, explod]
type = explod
trigger1 = !time
anim = 8208
id = 8208
pos = 0,224
postype = back
bindtime = 0;-1
ownpal = 0
sprpriority = -30
pausemovetime = 999999
supermovetime = 999999

;穴
[State 0, var]
type = varrandom
trigger1 = time = 6
v = 10
range = 0,1
[State 0, explod]
type = explod
trigger1 = time = 6
anim = 9110+var(10)
id = 9110
pos = 16,17
postype = back
bindtime = -1
ownpal = 0
sprpriority = -20
pausemovetime = 999999
supermovetime = 999999

[State 0, var]
type = varrandom
trigger1 = time = 6
v = 10
range = 0,1
[State 0, explod]
type = explod
trigger1 = time = 6
anim = 9110+var(10)
id = 9111
pos = 24,117
postype = back
bindtime = -1
ownpal = 0
sprpriority = -20
pausemovetime = 999999
supermovetime = 999999

[State 0, explod]
type = explod
trigger1 = time = 6
anim = 9110
id = 9112
pos = 9,212
postype = back
bindtime = -1
ownpal = 0
sprpriority = -20
pausemovetime = 999999
supermovetime = 999999

[State 0, var]
type = varrandom
trigger1 = time = 8
v = 10
range = 0,1
[State 0, explod]
type = explod
trigger1 = time = 8
anim = 9110+var(10)
id = 9113
pos = 40,18
postype = back
bindtime = -1
ownpal = 0
sprpriority = -19
pausemovetime = 999999
supermovetime = 999999

[State 0, var]
type = varrandom
trigger1 = time = 8
v = 10
range = 0,1
[State 0, explod]
type = explod
trigger1 = time = 8
anim = 9110+var(10)
id = 9114
pos = 43,115
postype = back
bindtime = -1
ownpal = 0
sprpriority = -19
pausemovetime = 999999
supermovetime = 999999

[State 0, var]
type = varrandom
trigger1 = time = 8
v = 10
range = 0,1
[State 0, explod]
type = explod
trigger1 = time = 8
anim = 9110+var(10)
id = 9115
pos = 22,209
postype = back
bindtime = -1
ownpal = 0
sprpriority = -19
pausemovetime = 999999
supermovetime = 999999

[State 0, var]
type = varrandom
trigger1 = time = 9
v = 10
range = 0,1
[State 0, explod]
type = explod
trigger1 = time = 9
anim = 9110+var(10)
id = 9116
pos = 92,4
postype = back
bindtime = -1
ownpal = 0
sprpriority = -18
pausemovetime = 999999
supermovetime = 999999

[State 0, var]
type = varrandom
trigger1 = time = 9
v = 10
range = 0,1
[State 0, explod]
type = explod
trigger1 = time = 9
anim = 9110+var(10)
id = 9117
pos = 89,127
postype = back
bindtime = -1
ownpal = 0
sprpriority = -18
pausemovetime = 999999
supermovetime = 999999

[State 0, var]
type = varrandom
trigger1 = time = 9
v = 10
range = 0,1
[State 0, explod]
type = explod
trigger1 = time = 9
anim = 9110+var(10)
id = 9118
pos = 36,209
postype = back
bindtime = -1
ownpal = 0
sprpriority = -18
pausemovetime = 999999
supermovetime = 999999

[State 0, explod]
type = explod
trigger1 = time = 12
anim = 9111
id = 9119
pos = 119,38
postype = back
bindtime = -1
ownpal = 0
sprpriority = -17
pausemovetime = 999999
supermovetime = 999999

[State 0, explod]
type = explod
trigger1 = time = 12
anim = 9110
id = 9120
pos = 124,100
postype = back
bindtime = -1
ownpal = 0
sprpriority = -17
pausemovetime = 999999
supermovetime = 999999

[State 0, var]
type = varrandom
trigger1 = time = 12
v = 10
range = 0,1
[State 0, explod]
type = explod
trigger1 = time = 12
anim = 9110+var(10)
id = 9121
pos = 88,188
postype = back
bindtime = -1
ownpal = 0
sprpriority = -17
pausemovetime = 999999
supermovetime = 999999

[State 0, explod]
type = explod
trigger1 = time = 16
anim = 9111
id = 9122
pos = 133,112
postype = back
bindtime = -1
ownpal = 0
sprpriority = -16
pausemovetime = 999999
supermovetime = 999999

[State 0, explod]
type = explod
trigger1 = time = 16
anim = 9110
id = 9123
pos = 131,190
postype = back
bindtime = -1
ownpal = 0
sprpriority = -16
pausemovetime = 999999
supermovetime = 999999

[State 0, explod]
type = explod
trigger1 = time = 20
anim = 9112
id = 9124
pos = 177,68
postype = back
bindtime = -1
ownpal = 0
sprpriority = -15
pausemovetime = 999999
supermovetime = 999999

[State 0, explod]
type = explod
trigger1 = time = 20
anim = 9112
id = 9125
pos = 157,220
postype = back
bindtime = -1
ownpal = 0
sprpriority = -15
pausemovetime = 999999
supermovetime = 999999

[State 0, explod]
type = explod
trigger1 = time = 22
anim = 9110
id = 9126
pos = 166,220
postype = back
bindtime = -1
ownpal = 0
sprpriority = -14
pausemovetime = 999999
supermovetime = 999999

[State 0, explod]
type = explod
trigger1 = time = 26
anim = 9110
id = 9127
pos = 187,28
postype = back
bindtime = -1
ownpal = 0
sprpriority = -13
pausemovetime = 999999
supermovetime = 999999


[State 0, explod]
type = modifyexplod
trigger1 = numexplod(9200)
id = 9200
pos = ceil(400-fvar(1)),120
postype = back
ignorehitpause = 1


[State 0, explod]
type = modifyexplod
trigger1 = numexplod(8200)
id = 8200
pos = -(time*8)%512,0
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(8201)
id = 8201
pos = -(time*12)%512,96
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(8202)
id = 8202
pos = -(time*16)%512,160
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(8203)
id = 8203
postype = back
pos = -(time*20)%512,224
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(8205)
id = 8205
pos = 512-(time*8)%512,0
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(8206)
id = 8206
pos = 512-(time*12)%512,96
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(8207)
id = 8207
pos = 512-(time*16)%512,160
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(8208)
id = 8208
pos = 512-(time*20)%512,224
postype = back
ignorehitpause = 1


[State 0, explod]
type = modifyexplod
trigger1 = numexplod(9110)
id = 9110
pos = ceil(16-fvar(2)),17
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(9111)
id = 9111
pos = ceil(24-fvar(2)),117
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(9112)
id = 9112
pos = ceil(9-fvar(2)),212
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(9113)
id = 9113
pos = ceil(40-fvar(2)),18
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(9114)
id = 9114
pos = ceil(43-fvar(2)),115
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(9115)
id = 9115
pos = ceil(22-fvar(2)),209
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(9116)
id = 9116
pos = ceil(92-fvar(2)),4
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(9117)
id = 9117
pos = ceil(89-fvar(2)),127
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(9118)
id = 9118
pos = ceil(36-fvar(2)),209
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(9119)
id = 9119
pos = ceil(119-fvar(2)),38
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(9120)
id = 9120
pos = ceil(124-fvar(2)),100
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(9121)
id = 9121
pos = ceil(81-fvar(2)),188
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(9122)
id = 9122
pos = ceil(133-fvar(2)),112
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(9123)
id = 9123
pos = ceil(131-fvar(2)),190
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(9124)
id = 9124
pos = ceil(177-fvar(2)),68
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(9125)
id = 9125
pos = ceil(166-fvar(2)),220
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(9126)
id = 9126
pos = ceil(157-fvar(2)),220
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(9127)
id = 9127
pos = ceil(187-fvar(2)),28
postype = back
ignorehitpause = 1


[State 0, explod]
type = removeexplod
trigger1 = time = 60
trigger2 = roundstate = 4
id = 9200

[State 0, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = !numexplod(9200)
id = 8200

[State 0, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = !numexplod(9200)
id = 8201

[State 0, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = !numexplod(9200)
id = 8202

[State 0, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = !numexplod(9200)
id = 8203

[State 0, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = !numexplod(9200)
id = 8205

[State 0, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = !numexplod(9200)
id = 8206

[State 0, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = !numexplod(9200)
id = 8207

[State 0, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = !numexplod(9200)
id = 8208

[State 0, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = !numexplod(9200)
id = 9110

[State 0, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = !numexplod(9200)
id = 9111

[State 0, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = !numexplod(9200)
id = 9112

[State 0, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = !numexplod(9200)
id = 9113

[State 0, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = !numexplod(9200)
id = 9114

[State 0, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = !numexplod(9200)
id = 9115

[State 0, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = !numexplod(9200)
id = 9116

[State 0, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = !numexplod(9200)
id = 9117

[State 0, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = !numexplod(9200)
id = 9118

[State 0, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = !numexplod(9200)
id = 9119

[State 0, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = !numexplod(9200)
id = 9120

[State 0, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = !numexplod(9200)
id = 9121

[State 0, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = !numexplod(9200)
id = 9122

[State 0, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = !numexplod(9200)
id = 9123

[State 0, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = !numexplod(9200)
id = 9124

[State 0, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = !numexplod(9200)
id = 9125

[State 0, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = !numexplod(9200)
id = 9126

[State 0, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = !numexplod(9200)
id = 9127

;---------------------------------------------------------------------------
;敗北演出3(血)
[Statedef 9202]
ctrl = 0
anim = 9999

[State 9001, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,19
[State 9001, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,19
[State 9001, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,19

[State 0, turn]
type = turn
trigger1 = !time
trigger1 = facing != root,facing

[State 0, assert]
type = assertspecial
trigger1 = time <= 60
flag = NoBG
flag2 = NoFG

[State 0, pal]
type = palfx
trigger1 = time = [10,34]
add = 10*(time-10),0*(time-10),0*(time-10)
time = 1
ignorehitpause = 1

[State 0, pal]
type = palfx
trigger1 = time > 34
add = 256,0,0
time = 1
ignorehitpause = 1

[State 0, var]
type = varset
trigger1 = time = 1
fvar(0) = 100
ignorehitpause = 1

[State 0, var]
type = varset
trigger1 = time = 1
fvar(2) = 0
ignorehitpause = 1

[State 0, var]
type = varset
trigger1 = time > 1
fvar(0) = ifelse(fvar(0)*.6<.3,.3,fvar(0)*.6)
ignorehitpause = 1

[State 0, var]
type = varadd
trigger1 = 1
fvar(1) = fvar(0)
ignorehitpause = 1

[State 0, var]
type = varadd
trigger1 = time >= 6
fvar(2) = fvar(0)
ignorehitpause = 1


;cut in
[State 0, explod]
type = explod
trigger1 = !time
anim = 9200
id = 9200
pos = 160,120
postype = back
bindtime = -1
ownpal = 0
scale = 1.23,1.47
sprpriority = -25
pausemovetime = 999999
supermovetime = 999999
ignorehitpause = 1

;back1
[State 0, explod]
type = explod
trigger1 = !time
anim = 8205
id = 8200
pos = 0,0
postype = back
bindtime = -1
ownpal = 0
sprpriority = -30
pausemovetime = 999999
supermovetime = 999999
ignorehitpause = 1
[State 0, explod]
type = explod
trigger1 = !time
anim = 8205
id = 8205
pos = 0,0
postype = back
bindtime = -1
ownpal = 0
sprpriority = -30
pausemovetime = 999999
supermovetime = 999999

;back2
[State 0, explod]
type = explod
trigger1 = !time
anim = 8206
id = 8201
pos = 0,96
postype = back
bindtime = -1
ownpal = 0
sprpriority = -30
pausemovetime = 999999
supermovetime = 999999
ignorehitpause = 1
[State 0, explod]
type = explod
trigger1 = !time
anim = 8206
id = 8206
pos = 0,96
postype = back
bindtime = -1
ownpal = 0
sprpriority = -30
pausemovetime = 999999
supermovetime = 999999

;back3
[State 0, explod]
type = explod
trigger1 = !time
anim = 8207
id = 8202
pos = 0,160
postype = back
bindtime = -1
ownpal = 0
sprpriority = -30
pausemovetime = 999999
supermovetime = 999999
ignorehitpause = 1
[State 0, explod]
type = explod
trigger1 = !time
anim = 8207
id = 8207
pos = 0,160
postype = back
bindtime = -1
ownpal = 0
sprpriority = -30
pausemovetime = 999999
supermovetime = 999999

;back4
[State 0, explod]
type = explod
trigger1 = !time
anim = 8208
id = 8203
pos = 0,224
postype = back
bindtime = -1
ownpal = 0
sprpriority = -30
pausemovetime = 999999
supermovetime = 999999
ignorehitpause = 1
[State 0, explod]
type = explod
trigger1 = !time
anim = 8208
id = 8208
pos = 0,224
postype = back
bindtime = -1
ownpal = 0
sprpriority = -30
pausemovetime = 999999
supermovetime = 999999

;血
[State 0, explod]
type = explod
trigger1 = time = 3
anim = 9150+random%3
id = 9150
pos = 42,9
postype = back
bindtime = -1
scale = 1.4*root,const(size.xscale),1.4*root,const(size.yscale)
ownpal = 0
sprpriority = -20
pausemovetime = 999999
supermovetime = 999999

[State 0, explod]
type = explod
trigger1 = time = 4
anim = 9150+random%3
id = 9151
pos = 18,122
postype = back
bindtime = -1
scale = 1.4*root,const(size.xscale),1.4*root,const(size.yscale)
ownpal = 0
sprpriority = -20
pausemovetime = 999999
supermovetime = 999999

[State 0, explod]
type = explod
trigger1 = time = 5
anim = 9150+random%3
id = 9152
pos = 24,196
postype = back
bindtime = -1
scale = 1.4*root,const(size.xscale),1.4*root,const(size.yscale)
ownpal = 0
sprpriority = -20
pausemovetime = 999999
supermovetime = 999999

[State 0, explod]
type = explod
trigger1 = time = 6
anim = 9150+random%3
id = 9153
pos = 180,55
postype = back
bindtime = -1
scale = 1.4*root,const(size.xscale),1.4*root,const(size.yscale)
ownpal = 0
sprpriority = -20
pausemovetime = 999999
supermovetime = 999999

[State 0, explod]
type = explod
trigger1 = time = 7
anim = 9150+random%3
id = 9154
pos = 30,103
postype = back
bindtime = -1
scale = 1.4*root,const(size.xscale),1.4*root,const(size.yscale)
ownpal = 0
sprpriority = -20
pausemovetime = 999999
supermovetime = 999999

[State 0, explod]
type = explod
trigger1 = time = 8
anim = 9150+random%3
id = 9155
pos = 68,172
postype = back
bindtime = -1
scale = 1.4*root,const(size.xscale),1.4*root,const(size.yscale)
ownpal = 0
sprpriority = -20
pausemovetime = 999999
supermovetime = 999999

[State 0, explod]
type = explod
trigger1 = time = 9
anim = 9150+random%3
id = 9156
pos = 206,44
postype = back
bindtime = -1
scale = 1.4*root,const(size.xscale),1.4*root,const(size.yscale)
ownpal = 0
sprpriority = -20
pausemovetime = 999999
supermovetime = 999999

[State 0, explod]
type = explod
trigger1 = time = 10
anim = 9150+random%3
id = 9157
pos = 49,106
postype = back
bindtime = -1
scale = 1.4*root,const(size.xscale),1.4*root,const(size.yscale)
ownpal = 0
sprpriority = -20
pausemovetime = 999999
supermovetime = 999999

[State 0, explod]
type = explod
trigger1 = time = 11
anim = 9150+random%3
id = 9158
pos = 156,230
postype = back
bindtime = -1
scale = 1.4*root,const(size.xscale),1.4*root,const(size.yscale)
ownpal = 0
sprpriority = -20
pausemovetime = 999999
supermovetime = 999999

[State 0, explod]
type = explod
trigger1 = time = 12
anim = 9150+random%3
id = 9159
pos = 130,138
postype = back
bindtime = -1
scale = 1.4*root,const(size.xscale),1.4*root,const(size.yscale)
ownpal = 0
sprpriority = -20
pausemovetime = 999999
supermovetime = 999999

[State 0, explod]
type = explod
trigger1 = time = 13
anim = 9150+random%3
id = 9160
pos = 191,227
postype = back
bindtime = -1
scale = 1.4*root,const(size.xscale),1.4*root,const(size.yscale)
ownpal = 0
sprpriority = -20
pausemovetime = 999999
supermovetime = 999999

[State 0, explod]
type = explod
trigger1 = time = 14
anim = 9150+random%3
id = 9161
pos = 128,115
postype = back
bindtime = -1
scale = 1.4*root,const(size.xscale),1.4*root,const(size.yscale)
ownpal = 0
sprpriority = -20
pausemovetime = 999999
supermovetime = 999999


[State 0, explod]
type = modifyexplod
trigger1 = numexplod(9200)
id = 9200
pos = ceil(400-fvar(1)),120
postype = back
ignorehitpause = 1


[State 0, explod]
type = modifyexplod
trigger1 = numexplod(8200)
id = 8200
pos = -(time*8)%512,0
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(8201)
id = 8201
pos = -(time*12)%512,96
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(8202)
id = 8202
pos = -(time*16)%512,160
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(8203)
id = 8203
postype = back
pos = -(time*20)%512,224
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(8205)
id = 8205
pos = 512-(time*8)%512,0
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(8206)
id = 8206
pos = 512-(time*12)%512,96
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(8207)
id = 8207
pos = 512-(time*16)%512,160
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(8208)
id = 8208
pos = 512-(time*20)%512,224
postype = back
ignorehitpause = 1


[State 0, explod]
type = modifyexplod
trigger1 = numexplod(9150)
id = 9150
pos = ceil(42-fvar(2)),9
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(9151)
id = 9151
pos = ceil(18-fvar(2)),122
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(9152)
id = 9152
pos = ceil(24-fvar(2)),196
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(9153)
id = 9153
pos = ceil(180-fvar(2)),55
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(9154)
id = 9154
pos = ceil(30-fvar(2)),103
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(9155)
id = 9155
pos = ceil(68-fvar(2)),172
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(9156)
id = 9156
pos = ceil(206-fvar(2)),44
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(9157)
id = 9157
pos = ceil(49-fvar(2)),106
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(9158)
id = 9158
pos = ceil(156-fvar(2)),230
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(9159)
id = 9159
pos = ceil(166-fvar(2)),138
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(9160)
id = 9160
pos = ceil(191-fvar(2)),227
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(9161)
id = 9161
pos = ceil(128-fvar(2)),115
postype = back
ignorehitpause = 1



[State 0, explod]
type = removeexplod
trigger1 = time = 60
trigger2 = roundstate = 4
id = 9200

[State 0, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = !numexplod(9200)
id = 8200

[State 0, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = !numexplod(9200)
id = 8201

[State 0, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = !numexplod(9200)
id = 8202

[State 0, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = !numexplod(9200)
id = 8203

[State 0, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = !numexplod(9200)
id = 8205

[State 0, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = !numexplod(9200)
id = 8206

[State 0, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = !numexplod(9200)
id = 8207

[State 0, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = !numexplod(9200)
id = 8208

[State 0, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = !numexplod(9200)
id = 9150

[State 0, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = !numexplod(9200)
id = 9151

[State 0, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = !numexplod(9200)
id = 9152

[State 0, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = !numexplod(9200)
id = 9153

[State 0, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = !numexplod(9200)
id = 9154

[State 0, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = !numexplod(9200)
id = 9155

[State 0, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = !numexplod(9200)
id = 9156

[State 0, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = !numexplod(9200)
id = 9157

[State 0, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = !numexplod(9200)
id = 9158

[State 0, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = !numexplod(9200)
id = 9159

[State 0, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = !numexplod(9200)
id = 9160

[State 0, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = !numexplod(9200)
id = 9161

;---------------------------------------------------------------------------
;敗北時演出（横切断）
[Statedef 9203]
ctrl = 0
anim = 9999
type = A
movetype = I
physics = N

[State 9001, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,19
[State 9001, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,19
[State 9001, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,19

[State 9000, 1]
type = turn
trigger1 = time = 0
trigger1 = facing != root,facing

[State 9000, Assert]
type = AssertSpecial
trigger1 = time < 60
flag = NoFG
flag2 = NoBG

[State 9000, EnvColor]
type = palfx
trigger1 = time = (10,35)
add = 5*(time-10),5*(time-10),5*(time-10)
time = 1
persistent = 1
ignorehitpause = 1

[State 9000, EnvColor]
type = palfx
trigger1 = time >= 35
add = 128,128,128
time = 1
persistent = 1
ignorehitpause = 1

[State 9001, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 9000, 1

[State 9001, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 9000, 1

[State 9000, VarSet]
type = VarSet
trigger1 = time = 1
fvar(38) = 170

[State 9000, VarSet]
type = VarSet
trigger1 = 1
fvar(38) = ifelse(fvar(38)*.6<.33,.33,fvar(38)*.6)

[State 9000, VarAdd]
type = VarAdd
trigger1 = 1
fvar(39) = fvar(38)
ignorehitpause = 1

[State 9000, VarAdd]
type = VarAdd
trigger1 = time >= 6
fvar(39) = -2.25*root,const(size.xscale)
ignorehitpause = 1

[State 9000, VarAdd]
type = VarAdd
trigger1 = 1
fvar(37) = fvar(38)
ignorehitpause = 1

[State 9000, VarAdd]
type = VarAdd
trigger1 = time >= 6
fvar(37) = 2.25*root,const(size.xscale)
ignorehitpause = 1

[State 9000, VarAdd]
type = VarAdd
trigger1 = time >= 6
fvar(36) = -.85*root,const(size.yscale)
ignorehitpause = 1

[State 9000, Explod]
type = Explod
trigger1 = Time = 0
anim = 9201
id = 7911
pos = 160,120
postype = back
sprpriority = -90
ownpal = 0
bindtime = -1
removetime = 60
scale = 1.23,1.47
pausemovetime = -1
supermovetime = -1

[State 9000, Explod]
type = Explod
trigger1 = Time = 0
anim = 9202
id = 7912
pos = 160,120
postype = back
sprpriority = -90
ownpal = 0
bindtime = -1
removetime = 60
scale = 1.23,1.47
pausemovetime = -1
supermovetime = -1

[State 9000, Explod]
type = Explod
trigger1 = Time = 0
anim = 9203
id = 7911
pos = 160,120
postype = back
sprpriority = -90
ownpal = 0
bindtime = -1
removetime = 60
scale = 1.23,1.47
pausemovetime = -1
supermovetime = -1

[State 9000, Explod]
type = Explod
trigger1 = Time = 0
anim = 9204
id = 7912
pos = 160,120
postype = back
sprpriority = -90
ownpal = 0
bindtime = -1
removetime = 60
scale = 1.23,1.47
pausemovetime = -1
supermovetime = -1

[State 9000, Explod]
type = Explod
trigger1 = Time = 0
anim = 8215
id = 8730
pos = 0,0
postype = back
sprpriority = -105
ownpal = 0
bindtime = -1
removetime = 60
pausemovetime = -1
supermovetime = -1

[State 9000, Explod]
type = Explod
trigger1 = Time = 0
anim = 8216
id = 8731
pos = 0,0
postype = back
sprpriority = -105
ownpal = 0
bindtime = -1
removetime = 60
pausemovetime = -1
supermovetime = -1

[State 9000, Explod]
type = Explod
trigger1 = Time = 0
anim = 8217
id = 8732
pos = 0,0
postype = back
sprpriority = -105
ownpal = 0
bindtime = -1
removetime = 60
pausemovetime = -1
supermovetime = -1

[State 9000, Explod]
type = Explod
trigger1 = Time = 0
anim = 8218
id = 8733
pos = 0,0
postype = back
sprpriority = -105
ownpal = 0
bindtime = -1
removetime = 60
pausemovetime = -1
supermovetime = -1

[State 9000, Explod]
type = Explod
trigger1 = Time = 0
anim = 8215
id = 8735
pos = 0,0
postype = back
sprpriority = -105
ownpal = 0
bindtime = -1
removetime = 60
pausemovetime = -1
supermovetime = -1

[State 9000, Explod]
type = Explod
trigger1 = Time = 0
anim = 8216
id = 8736
pos = 0,0
postype = back
sprpriority = -105
ownpal = 0
bindtime = -1
removetime = 60
pausemovetime = -1
supermovetime = -1

[State 9000, Explod]
type = Explod
trigger1 = Time = 0
anim = 8217
id = 8737
pos = 0,0
postype = back
sprpriority = -105
ownpal = 0
bindtime = -1
removetime = 60
pausemovetime = -1
supermovetime = -1

[State 9000, Explod]
type = Explod
trigger1 = Time = 0
anim = 8218
id = 8738
pos = 0,0
postype = back
sprpriority = -105
ownpal = 0
bindtime = -1
removetime = 60
pausemovetime = -1
supermovetime = -1

[State 9000, ModifyExplod]
type = ModifyExplod
trigger1 = Numexplod(7911)
Id = 7911
postype = back
pos = ceil(400-fvar(39)),ceil(120-fvar(36))
ignorehitpause = 1

[State 9000, ModifyExplod]
type = ModifyExplod
trigger1 = Numexplod(7912)
Id = 7912
postype = back
pos = ceil(400-fvar(37)),ceil(120+fvar(36))
ignorehitpause = 1

[State 9000, ModifyExplod]
type = ModifyExplod
trigger1 = Numexplod(8730)
Id = 8730
postype = back
pos = -(time*8)%512,-8
ignorehitpause = 1

[State 9000, ModifyExplod]
type = ModifyExplod
trigger1 = Numexplod(8731)
Id = 8731
postype = back
pos = -(time*12)%512,88
ignorehitpause = 1

[State 9000, ModifyExplod]
type = ModifyExplod
trigger1 = Numexplod(8732)
Id = 8732
postype = back
pos = -(time*16)%512,152
ignorehitpause = 1

[State 9000, ModifyExplod]
type = ModifyExplod
trigger1 = Numexplod(8733)
Id = 8733
postype = back
pos = -(time*20)%512,216
ignorehitpause = 1

[State 9000, ModifyExplod]
type = ModifyExplod
trigger1 = Numexplod(8735)
Id = 8735
postype = back
pos = 512-(time*8)%512,-8
ignorehitpause = 1

[State 9000, ModifyExplod]
type = ModifyExplod
trigger1 = Numexplod(8736)
Id = 8736
postype = back
pos = 512-(time*12)%512,88
ignorehitpause = 1

[State 9000, ModifyExplod]
type = ModifyExplod
trigger1 = Numexplod(8737)
Id = 8737
postype = back
pos = 512-(time*16)%512,152
ignorehitpause = 1

[State 9000, ModifyExplod]
type = ModifyExplod
trigger1 = Numexplod(8738)
Id = 8738
postype = back
pos = 512-(time*20)%512,216
ignorehitpause = 1

[State 9000, RemoveExplod]
type = RemoveExplod
trigger1 = time = 60
trigger2 = RoundState = 4
id = 7911

[State 9000, RemoveExplod]
type = RemoveExplod
trigger1 = time = 60
trigger2 = RoundState = 4
id = 7912

[State 9000, RemoveExplod]
type = RemoveExplod
trigger1 = RoundState = 4
trigger2 = !NumExplod(7911)
id = 8730

[State 9000, RemoveExplod]
type = RemoveExplod
trigger1 = RoundState = 4
trigger2 = !NumExplod(7911)
id = 8731

[State 9000, RemoveExplod]
type = RemoveExplod
trigger1 = RoundState = 4
trigger2 = !NumExplod(7911)
id = 8732

[State 9000, RemoveExplod]
type = RemoveExplod
trigger1 = RoundState = 4
trigger2 = !NumExplod(7911)
id = 8733

[State 9000, RemoveExplod]
type = RemoveExplod
trigger1 = RoundState = 4
trigger2 = !NumExplod(7911)
id = 8735

[State 9000, RemoveExplod]
type = RemoveExplod
trigger1 = RoundState = 4
trigger2 = !NumExplod(7911)
id = 8736

[State 9000, RemoveExplod]
type = RemoveExplod
trigger1 = RoundState = 4
trigger2 = !NumExplod(7911)
id = 8737

[State 9000, RemoveExplod]
type = RemoveExplod
trigger1 = RoundState = 4
trigger2 = !NumExplod(7911)
id = 8738

;---------------------------------------------------------------------------
;敗北時演出（縦切断）
[Statedef 9204]
ctrl = 0
anim = 9999
type = A
movetype = I
physics = N

[State 9001, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,19
[State 9001, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,19
[State 9001, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,19

[State 9000, 1]
type = turn
trigger1 = time = 0
trigger1 = facing != root,facing

[State 9000, Assert]
type = AssertSpecial
trigger1 = time < 60
flag = NoFG
flag2 = NoBG

[State 9000, EnvColor]
type = palfx
trigger1 = time = (10,35)
add = 5*(time-10),5*(time-10),5*(time-10)
time = 1
persistent = 1
ignorehitpause = 1

[State 9000, EnvColor]
type = palfx
trigger1 = time >= 35
add = 128,128,128
time = 1
persistent = 1
ignorehitpause = 1

[State 9001, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 9000, 1

[State 9001, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 9000, 1

[State 9000, VarSet]
type = VarSet
trigger1 = time = 1
fvar(38) = 170

[State 9000, VarSet]
type = VarSet
trigger1 = 1
fvar(38) = ifelse(fvar(38)*.6<.33,.33,fvar(38)*.6)

[State 9000, VarAdd]
type = VarAdd
trigger1 = 1
fvar(39) = fvar(38)
ignorehitpause = 1

[State 9000, VarAdd]
type = VarAdd
trigger1 = time >= 6
fvar(39) = -1.88*root,const(size.xscale)
ignorehitpause = 1

[State 9000, VarAdd]
type = VarAdd
trigger1 = 1
fvar(37) = fvar(38)
ignorehitpause = 1

[State 9000, VarAdd]
type = VarAdd
trigger1 = time >= 6
fvar(37) = 1.88*root,const(size.xscale)
ignorehitpause = 1

[State 9000, VarAdd]
type = VarAdd
trigger1 = time >= 6
fvar(36) = -4.79*root,const(size.yscale)
ignorehitpause = 1

[State 9000, Explod]
type = Explod
trigger1 = Time = 0
anim = 9201
id = 7911
pos = 160,120
postype = back
sprpriority = -90
ownpal = 0
bindtime = -1
removetime = 60
scale = 1.23,1.47
pausemovetime = -1
supermovetime = -1

[State 9000, Explod]
type = Explod
trigger1 = Time = 0
anim = 9203
id = 7912
pos = 160,120
postype = back
sprpriority = -90
ownpal = 0
bindtime = -1
removetime = 60
scale = 1.23,1.47
pausemovetime = -1
supermovetime = -1

[State 9000, Explod]
type = Explod
trigger1 = Time = 0
anim = 9202
id = 7911
pos = 160,120
postype = back
sprpriority = -90
ownpal = 0
bindtime = -1
removetime = 60
scale = 1.23,1.47
pausemovetime = -1
supermovetime = -1

[State 9000, Explod]
type = Explod
trigger1 = Time = 0
anim = 9204
id = 7912
pos = 160,120
postype = back
sprpriority = -90
ownpal = 0
bindtime = -1
removetime = 60
scale = 1.23,1.47
pausemovetime = -1
supermovetime = -1

[State 9000, Explod]
type = Explod
trigger1 = Time = 0
anim = 8215
id = 8730
pos = 0,0
postype = back
sprpriority = -105
ownpal = 0
bindtime = -1
removetime = 60
pausemovetime = -1
supermovetime = -1

[State 9000, Explod]
type = Explod
trigger1 = Time = 0
anim = 8216
id = 8731
pos = 0,0
postype = back
sprpriority = -105
ownpal = 0
bindtime = -1
removetime = 60
pausemovetime = -1
supermovetime = -1

[State 9000, Explod]
type = Explod
trigger1 = Time = 0
anim = 8217
id = 8732
pos = 0,0
postype = back
sprpriority = -105
ownpal = 0
bindtime = -1
removetime = 60
pausemovetime = -1
supermovetime = -1

[State 9000, Explod]
type = Explod
trigger1 = Time = 0
anim = 8218
id = 8733
pos = 0,0
postype = back
sprpriority = -105
ownpal = 0
bindtime = -1
removetime = 60
pausemovetime = -1
supermovetime = -1

[State 9000, Explod]
type = Explod
trigger1 = Time = 0
anim = 8215
id = 8735
pos = 0,0
postype = back
sprpriority = -105
ownpal = 0
bindtime = -1
removetime = 60
pausemovetime = -1
supermovetime = -1

[State 9000, Explod]
type = Explod
trigger1 = Time = 0
anim = 8216
id = 8736
pos = 0,0
postype = back
sprpriority = -105
ownpal = 0
bindtime = -1
removetime = 60
pausemovetime = -1
supermovetime = -1

[State 9000, Explod]
type = Explod
trigger1 = Time = 0
anim = 8217
id = 8737
pos = 0,0
postype = back
sprpriority = -105
ownpal = 0
bindtime = -1
removetime = 60
pausemovetime = -1
supermovetime = -1

[State 9000, Explod]
type = Explod
trigger1 = Time = 0
anim = 8218
id = 8738
pos = 0,0
postype = back
sprpriority = -105
ownpal = 0
bindtime = -1
removetime = 60
pausemovetime = -1
supermovetime = -1

[State 9000, ModifyExplod]
type = ModifyExplod
trigger1 = Numexplod(7911)
Id = 7911
postype = back
pos = ceil(400-fvar(39)),ceil(120+fvar(36))
ignorehitpause = 1

[State 9000, ModifyExplod]
type = ModifyExplod
trigger1 = Numexplod(7912)
Id = 7912
postype = back
pos = ceil(400-fvar(37)),ceil(120-fvar(36))
ignorehitpause = 1

[State 9000, ModifyExplod]
type = ModifyExplod
trigger1 = Numexplod(8730)
Id = 8730
postype = back
pos = -(time*8)%512,-8
ignorehitpause = 1

[State 9000, ModifyExplod]
type = ModifyExplod
trigger1 = Numexplod(8731)
Id = 8731
postype = back
pos = -(time*12)%512,88
ignorehitpause = 1

[State 9000, ModifyExplod]
type = ModifyExplod
trigger1 = Numexplod(8732)
Id = 8732
postype = back
pos = -(time*16)%512,152
ignorehitpause = 1

[State 9000, ModifyExplod]
type = ModifyExplod
trigger1 = Numexplod(8733)
Id = 8733
postype = back
pos = -(time*20)%512,216
ignorehitpause = 1

[State 9000, ModifyExplod]
type = ModifyExplod
trigger1 = Numexplod(8735)
Id = 8735
postype = back
pos = 512-(time*8)%512,-8
ignorehitpause = 1

[State 9000, ModifyExplod]
type = ModifyExplod
trigger1 = Numexplod(8736)
Id = 8736
postype = back
pos = 512-(time*12)%512,88
ignorehitpause = 1

[State 9000, ModifyExplod]
type = ModifyExplod
trigger1 = Numexplod(8737)
Id = 8737
postype = back
pos = 512-(time*16)%512,152
ignorehitpause = 1

[State 9000, ModifyExplod]
type = ModifyExplod
trigger1 = Numexplod(8738)
Id = 8738
postype = back
pos = 512-(time*20)%512,216
ignorehitpause = 1

[State 9000, RemoveExplod]
type = RemoveExplod
trigger1 = time = 60
trigger2 = RoundState = 4
id = 7911

[State 9000, RemoveExplod]
type = RemoveExplod
trigger1 = time = 60
trigger2 = RoundState = 4
id = 7912

[State 9000, RemoveExplod]
type = RemoveExplod
trigger1 = RoundState = 4
trigger2 = !NumExplod(7911)
id = 8730

[State 9000, RemoveExplod]
type = RemoveExplod
trigger1 = RoundState = 4
trigger2 = !NumExplod(7911)
id = 8731

[State 9000, RemoveExplod]
type = RemoveExplod
trigger1 = RoundState = 4
trigger2 = !NumExplod(7911)
id = 8732

[State 9000, RemoveExplod]
type = RemoveExplod
trigger1 = RoundState = 4
trigger2 = !NumExplod(7911)
id = 8733

[State 9000, RemoveExplod]
type = RemoveExplod
trigger1 = RoundState = 4
trigger2 = !NumExplod(7911)
id = 8735

[State 9000, RemoveExplod]
type = RemoveExplod
trigger1 = RoundState = 4
trigger2 = !NumExplod(7911)
id = 8736

[State 9000, RemoveExplod]
type = RemoveExplod
trigger1 = RoundState = 4
trigger2 = !NumExplod(7911)
id = 8737

[State 9000, RemoveExplod]
type = RemoveExplod
trigger1 = RoundState = 4
trigger2 = !NumExplod(7911)
id = 8738

;===========================================================================
;敗北演出
[Statedef 9205]
ctrl = 0
anim = 6900

[State 9001, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,19
[State 9001, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,19
[State 9001, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,19

[State 0, turn]
type = turn
trigger1 = !time
trigger1 = facing != root,facing

[State 0, assert]
type = assertspecial
trigger1 = time <= 60
flag = NoBG
flag2 = NoFG

[State 0, var]
type = varset
trigger1 = time = 1
fvar(0) = 100
ignorehitpause = 1

[State 0, var]
type = varset
trigger1 = time > 1
fvar(0) = ifelse(fvar(0)*.6<.3,.3,fvar(0)*.6)
ignorehitpause = 1

[State 0, var]
type = varadd
trigger1 = 1
fvar(1) = fvar(0)
ignorehitpause = 1

;cut in
[State 0, explod]
type = explod
trigger1 = !time
anim = 6900
id = 9200
pos = 160,120
postype = back
bindtime = -1
removetime = 60
ownpal = 0
scale = 1.4*root,const(size.xscale),1.4*root,const(size.yscale)
sprpriority = -25
pausemovetime = 999999
supermovetime = 999999
ignorehitpause = 1

;back1
[State 0, explod]
type = explod
trigger1 = !time
anim = 8205
id = 8200
pos = 0,0
postype = back
bindtime = -1
removetime = 60
ownpal = 0
sprpriority = -30
pausemovetime = 999999
supermovetime = 999999
ignorehitpause = 1
[State 0, explod]
type = explod
trigger1 = !time
anim = 8205
id = 8205
pos = 0,0
postype = back
bindtime = -1
removetime = 60
ownpal = 0
sprpriority = -30
pausemovetime = 999999
supermovetime = 999999

;back2
[State 0, explod]
type = explod
trigger1 = !time
anim = 8206
id = 8201
pos = 0,96
postype = back
bindtime = -1
removetime = 60
ownpal = 0
sprpriority = -30
pausemovetime = 999999
supermovetime = 999999
ignorehitpause = 1
[State 0, explod]
type = explod
trigger1 = !time
anim = 8206
id = 8206
pos = 0,96
postype = back
bindtime = -1
removetime = 60
ownpal = 0
sprpriority = -30
pausemovetime = 999999
supermovetime = 999999

;back3
[State 0, explod]
type = explod
trigger1 = !time
anim = 8207
id = 8202
pos = 0,160
postype = back
bindtime = -1
removetime = 60
ownpal = 0
sprpriority = -30
pausemovetime = 999999
supermovetime = 999999
ignorehitpause = 1
[State 0, explod]
type = explod
trigger1 = !time
anim = 8207
id = 8207
pos = 0,160
postype = back
bindtime = -1
removetime = 60
ownpal = 0
sprpriority = -30
pausemovetime = 999999
supermovetime = 999999

;back4
[State 0, explod]
type = explod
trigger1 = !time
anim = 8208
id = 8203
pos = 0,224
postype = back
bindtime = -1
removetime = 60
ownpal = 0
sprpriority = -30
pausemovetime = 999999
supermovetime = 999999
ignorehitpause = 1
[State 0, explod]
type = explod
trigger1 = !time
anim = 8208
id = 8208
pos = 0,224
postype = back
bindtime = -1
removetime = 60
ownpal = 0
sprpriority = -30
pausemovetime = 999999
supermovetime = 999999


[State 0, explod]
type = modifyexplod
trigger1 = numexplod(9200)
id = 9200
pos = ceil(400-fvar(1)),120
postype = back
ignorehitpause = 1


[State 0, explod]
type = modifyexplod
trigger1 = numexplod(8200)
id = 8200
pos = -(time*8)%512,0
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(8201)
id = 8201
pos = -(time*12)%512,96
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(8202)
id = 8202
pos = -(time*16)%512,160
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(8203)
id = 8203
postype = back
pos = -(time*20)%512,224
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(8205)
id = 8205
pos = 512-(time*8)%512,0
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(8206)
id = 8206
pos = 512-(time*12)%512,96
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(8207)
id = 8207
pos = 512-(time*16)%512,160
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(8208)
id = 8208
pos = 512-(time*20)%512,224
postype = back
ignorehitpause = 1

;---------------------------------------------------------------------------
;敗北時演出（縦切断）
[Statedef 9206]
ctrl = 0
anim = 6900
type = A
movetype = I
physics = N

[State 9001, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,19
[State 9001, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,19
[State 9001, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,19

[State 9000, 1]
type = turn
trigger1 = time = 0
trigger1 = facing != root,facing

[State 9000, Assert]
type = AssertSpecial
trigger1 = time < 60
flag = NoFG
flag2 = NoBG

[State 9000, EnvColor]
type = palfx
trigger1 = time = (10,35)
add = 5*(time-10),5*(time-10),5*(time-10)
time = 1
persistent = 1
ignorehitpause = 1

[State 9000, EnvColor]
type = palfx
trigger1 = time >= 35
add = 128,128,128
time = 1
persistent = 1
ignorehitpause = 1

[State 9000, VarSet]
type = VarSet
trigger1 = time = 1
fvar(38) = 170

[State 9000, VarSet]
type = VarSet
trigger1 = 1
fvar(38) = ifelse(fvar(38)*.6<.33,.33,fvar(38)*.6)

[State 9000, VarAdd]
type = VarAdd
trigger1 = 1
fvar(39) = fvar(38)
ignorehitpause = 1

[State 9000, VarAdd]
type = VarAdd
trigger1 = time >= 6
fvar(39) = -1.15*root,const(size.xscale)
ignorehitpause = 1

[State 9000, VarAdd]
type = VarAdd
trigger1 = 1
fvar(37) = fvar(38)
ignorehitpause = 1

[State 9000, VarAdd]
type = VarAdd
trigger1 = time >= 6
fvar(37) = 1.15*root,const(size.xscale)
ignorehitpause = 1

[State 9000, VarAdd]
type = VarAdd
trigger1 = time >= 6
fvar(36) = 3*root,const(size.yscale)
ignorehitpause = 1

[State 9000, Explod]
type = Explod
trigger1 = Time = 0
anim = 9201
id = 7911
pos = 160,120
postype = back
sprpriority = -90
ownpal = 0
bindtime = -1
removetime = 60
scale = 1.23,1.47
pausemovetime = -1
supermovetime = -1

[State 9000, Explod]
type = Explod
trigger1 = Time = 0
anim = 9204
id = 7912
pos = 160,120
postype = back
sprpriority = -90
ownpal = 0
bindtime = -1
removetime = 60
scale = 1.23,1.47
pausemovetime = -1
supermovetime = -1

[State 9000, Explod]
type = Explod
trigger1 = Time = 0
anim = 9202
id = 7913
pos = 160,120
postype = back
sprpriority = -90
ownpal = 0
bindtime = -1
removetime = 60
scale = 1.23,1.47
pausemovetime = -1
supermovetime = -1

[State 9000, Explod]
type = Explod
trigger1 = Time = 0
anim = 9203
id = 7914
pos = 160,120
postype = back
sprpriority = -90
ownpal = 0
bindtime = -1
removetime = 60
scale = 1.23,1.47
pausemovetime = -1
supermovetime = -1

[State 9000, Explod]
type = Explod
trigger1 = Time = 0
anim = 8215
id = 8730
pos = 0,0
postype = back
sprpriority = -105
ownpal = 0
bindtime = -1
removetime = 60
pausemovetime = -1
supermovetime = -1

[State 9000, Explod]
type = Explod
trigger1 = Time = 0
anim = 8216
id = 8731
pos = 0,0
postype = back
sprpriority = -105
ownpal = 0
bindtime = -1
removetime = 60
pausemovetime = -1
supermovetime = -1

[State 9000, Explod]
type = Explod
trigger1 = Time = 0
anim = 8217
id = 8732
pos = 0,0
postype = back
sprpriority = -105
ownpal = 0
bindtime = -1
removetime = 60
pausemovetime = -1
supermovetime = -1

[State 9000, Explod]
type = Explod
trigger1 = Time = 0
anim = 8218
id = 8733
pos = 0,0
postype = back
sprpriority = -105
ownpal = 0
bindtime = -1
removetime = 60
pausemovetime = -1
supermovetime = -1

[State 9000, Explod]
type = Explod
trigger1 = Time = 0
anim = 8215
id = 8735
pos = 0,0
postype = back
sprpriority = -105
ownpal = 0
bindtime = -1
removetime = 60
pausemovetime = -1
supermovetime = -1

[State 9000, Explod]
type = Explod
trigger1 = Time = 0
anim = 8216
id = 8736
pos = 0,0
postype = back
sprpriority = -105
ownpal = 0
bindtime = -1
removetime = 60
pausemovetime = -1
supermovetime = -1

[State 9000, Explod]
type = Explod
trigger1 = Time = 0
anim = 8217
id = 8737
pos = 0,0
postype = back
sprpriority = -105
ownpal = 0
bindtime = -1
removetime = 60
pausemovetime = -1
supermovetime = -1

[State 9000, Explod]
type = Explod
trigger1 = Time = 0
anim = 8218
id = 8738
pos = 0,0
postype = back
sprpriority = -105
ownpal = 0
bindtime = -1
removetime = 60
pausemovetime = -1
supermovetime = -1

[State 9000, ModifyExplod]
type = ModifyExplod
trigger1 = Numexplod(7911)
Id = 7911
postype = back
pos = ceil(400-fvar(39)),ceil(120-fvar(36))
ignorehitpause = 1

[State 9000, ModifyExplod]
type = ModifyExplod
trigger1 = Numexplod(7912)
Id = 7912
postype = back
pos = ceil(400-fvar(37)),ceil(120+fvar(36))
ignorehitpause = 1

[State 9000, ModifyExplod]
type = ModifyExplod
trigger1 = Numexplod(7911)
Id = 7913
postype = back
pos = ceil(400-fvar(39)),ceil(120+fvar(36))
ignorehitpause = 1

[State 9000, ModifyExplod]
type = ModifyExplod
trigger1 = Numexplod(7912)
Id = 7914
postype = back
pos = ceil(400-fvar(37)),ceil(120-fvar(36))
ignorehitpause = 1

[State 9000, ModifyExplod]
type = ModifyExplod
trigger1 = Numexplod(8730)
Id = 8730
postype = back
pos = -(time*8)%512,-8
ignorehitpause = 1

[State 9000, ModifyExplod]
type = ModifyExplod
trigger1 = Numexplod(8731)
Id = 8731
postype = back
pos = -(time*12)%512,88
ignorehitpause = 1

[State 9000, ModifyExplod]
type = ModifyExplod
trigger1 = Numexplod(8732)
Id = 8732
postype = back
pos = -(time*16)%512,152
ignorehitpause = 1

[State 9000, ModifyExplod]
type = ModifyExplod
trigger1 = Numexplod(8733)
Id = 8733
postype = back
pos = -(time*20)%512,216
ignorehitpause = 1

[State 9000, ModifyExplod]
type = ModifyExplod
trigger1 = Numexplod(8735)
Id = 8735
postype = back
pos = 512-(time*8)%512,-8
ignorehitpause = 1

[State 9000, ModifyExplod]
type = ModifyExplod
trigger1 = Numexplod(8736)
Id = 8736
postype = back
pos = 512-(time*12)%512,88
ignorehitpause = 1

[State 9000, ModifyExplod]
type = ModifyExplod
trigger1 = Numexplod(8737)
Id = 8737
postype = back
pos = 512-(time*16)%512,152
ignorehitpause = 1

[State 9000, ModifyExplod]
type = ModifyExplod
trigger1 = Numexplod(8738)
Id = 8738
postype = back
pos = 512-(time*20)%512,216
ignorehitpause = 1

[State 9000, RemoveExplod]
type = RemoveExplod
trigger1 = time = 60
trigger2 = RoundState = 4
id = 7911

[State 9000, RemoveExplod]
type = RemoveExplod
trigger1 = time = 60
trigger2 = RoundState = 4
id = 7912

[State 9000, RemoveExplod]
type = RemoveExplod
trigger1 = time = 60
trigger2 = RoundState = 4
id = 7913

[State 9000, RemoveExplod]
type = RemoveExplod
trigger1 = time = 60
trigger2 = RoundState = 4
id = 7914

[State 9000, RemoveExplod]
type = RemoveExplod
trigger1 = RoundState = 4
trigger2 = !NumExplod(7911)
id = 8730

[State 9000, RemoveExplod]
type = RemoveExplod
trigger1 = RoundState = 4
trigger2 = !NumExplod(7911)
id = 8731

[State 9000, RemoveExplod]
type = RemoveExplod
trigger1 = RoundState = 4
trigger2 = !NumExplod(7911)
id = 8732

[State 9000, RemoveExplod]
type = RemoveExplod
trigger1 = RoundState = 4
trigger2 = !NumExplod(7911)
id = 8733

[State 9000, RemoveExplod]
type = RemoveExplod
trigger1 = RoundState = 4
trigger2 = !NumExplod(7911)
id = 8735

[State 9000, RemoveExplod]
type = RemoveExplod
trigger1 = RoundState = 4
trigger2 = !NumExplod(7911)
id = 8736

[State 9000, RemoveExplod]
type = RemoveExplod
trigger1 = RoundState = 4
trigger2 = !NumExplod(7911)
id = 8737

[State 9000, RemoveExplod]
type = RemoveExplod
trigger1 = RoundState = 4
trigger2 = !NumExplod(7911)
id = 8738

;===========================================================================
;敗北演出
[Statedef 9207]
ctrl = 0
anim = 6900

[State 9001, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,19
[State 9001, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,19
[State 9001, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,19

[State 0, turn]
type = turn
trigger1 = !time
trigger1 = facing != root,facing

[State 0, assert]
type = assertspecial
trigger1 = time <= 60
flag = NoBG
flag2 = NoFG

[State 9000, EnvColor]
type = palfx
trigger1 = time = (10,35)
add = 5*(time-10),5*(time-10),5*(time-10)
time = 1
persistent = 1
ignorehitpause = 1

[State 9000, EnvColor]
type = palfx
trigger1 = time >= 35
add = 128,128,128
time = 1
persistent = 1
ignorehitpause = 1

[State 0, var]
type = varset
trigger1 = time = 1
fvar(0) = 100
ignorehitpause = 1

[State 0, var]
type = varset
trigger1 = time > 1
fvar(0) = ifelse(fvar(0)*.6<.3,.3,fvar(0)*.6)
ignorehitpause = 1

[State 0, var]
type = varadd
trigger1 = 1
fvar(1) = fvar(0)
ignorehitpause = 1

;cut in
[State 0, explod]
type = explod
trigger1 = !time
anim = 9200
id = 9200
pos = 160,120
postype = back
bindtime = -1
removetime = 60
ownpal = 0
scale = 1.23,1.47
sprpriority = -25
pausemovetime = 999999
supermovetime = 999999
ignorehitpause = 1

;back1
[State 0, explod]
type = explod
trigger1 = !time
anim = 8205
id = 8200
pos = 0,0
postype = back
bindtime = -1
removetime = 60
ownpal = 0
sprpriority = -30
pausemovetime = 999999
supermovetime = 999999
ignorehitpause = 1
[State 0, explod]
type = explod
trigger1 = !time
anim = 8205
id = 8205
pos = 0,0
postype = back
bindtime = -1
removetime = 60
ownpal = 0
sprpriority = -30
pausemovetime = 999999
supermovetime = 999999

;back2
[State 0, explod]
type = explod
trigger1 = !time
anim = 8206
id = 8201
pos = 0,96
postype = back
bindtime = -1
removetime = 60
ownpal = 0
sprpriority = -30
pausemovetime = 999999
supermovetime = 999999
ignorehitpause = 1
[State 0, explod]
type = explod
trigger1 = !time
anim = 8206
id = 8206
pos = 0,96
postype = back
bindtime = -1
removetime = 60
ownpal = 0
sprpriority = -30
pausemovetime = 999999
supermovetime = 999999

;back3
[State 0, explod]
type = explod
trigger1 = !time
anim = 8207
id = 8202
pos = 0,160
postype = back
bindtime = -1
removetime = 60
ownpal = 0
sprpriority = -30
pausemovetime = 999999
supermovetime = 999999
ignorehitpause = 1
[State 0, explod]
type = explod
trigger1 = !time
anim = 8207
id = 8207
pos = 0,160
postype = back
bindtime = -1
removetime = 60
ownpal = 0
sprpriority = -30
pausemovetime = 999999
supermovetime = 999999

;back4
[State 0, explod]
type = explod
trigger1 = !time
anim = 8208
id = 8203
pos = 0,224
postype = back
bindtime = -1
removetime = 60
ownpal = 0
sprpriority = -30
pausemovetime = 999999
supermovetime = 999999
ignorehitpause = 1
[State 0, explod]
type = explod
trigger1 = !time
anim = 8208
id = 8208
pos = 0,224
postype = back
bindtime = -1
removetime = 60
ownpal = 0
sprpriority = -30
pausemovetime = 999999
supermovetime = 999999

;‰?
[State 6051, 1]
type = explod
trigger1 = !time
anim = 6130
id = 6130
pos = 320,230
sprpriority = -23
removetime = 60
bindtime = -1
postype = back
scale = .6*root,const(size.xscale),.6*root,const(size.yscale)
supermovetime = -1
pausemovetime = -1
ownpal = 0
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(9200)
id = 9200
pos = ceil(400-fvar(1)),120
postype = back
ignorehitpause = 1


[State 0, explod]
type = modifyexplod
trigger1 = numexplod(8200)
id = 8200
pos = -(time*8)%512,0
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(8201)
id = 8201
pos = -(time*12)%512,96
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(8202)
id = 8202
pos = -(time*16)%512,160
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(8203)
id = 8203
postype = back
pos = -(time*20)%512,224
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(8205)
id = 8205
pos = 512-(time*8)%512,0
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(8206)
id = 8206
pos = 512-(time*12)%512,96
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(8207)
id = 8207
pos = 512-(time*16)%512,160
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(8208)
id = 8208
pos = 512-(time*20)%512,224
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(6130)
id = 6130
pos = 320,230
scale = ifelse(time>22,5.5,(time)*.095)+.6*root,const(size.xscale),ifelse(time>22,5.5,(time)*.095)+.6*root,const(size.yscale)
postype = back
ignorehitpause = 1

;---------------------------------------------------------------------------
;敵横吹っ飛び（生存時）
[Statedef 1281]
type = A
movetype = H
physics = N
anim = 5030
velset = -10,-8

[State 0, screen]
type = screenbound
trigger1 = 1
value = 0

[State 0, nhb]
type = null;nothitby
trigger1 = 1
value = SCA

[State 0, vel]
type = veladd
trigger1 = 1
y = .22

[State 0, push]
type = playerpush
trigger1 = 1
value = 0

[State 0, anim]
type = changeanim
trigger1 = anim = 5030 && !animtime
trigger1 = SelfAnimExist(5035)
value = 5035
persistent = 0

[State 0, anim]
type = changeanim
trigger1 = vel y > 0
value = 5050
persistent = 0

[State 0, end]
type = changestate
trigger1 = backedgebodydist <= 10
value = 1282

[State 0, end]
type = selfstate
trigger1 = vel y > 0
trigger1 = pos y >= 0
value = 5100

;---------------------------------------------------------------------------
;敵横吹っ飛び（壁激突）
[Statedef 1282]
type = A
movetype = H
physics = N
anim = 5012
velset = 0,0

[State 821, 2] 
type = ChangeState
triggerall = Vel Y > 0
triggerall = Pos Y >= -20
triggerall = alive
;triggerall = CanRecover
trigger1 = Command = "recovery"
value = 5200

[State 821, 3] 
type = SelfState
triggerall = Vel Y > 0
triggerall = alive
;triggerall = CanRecover
trigger1 = Command = "recovery"
value = 5210 

[State 0, screen]
type = screenbound
trigger1 = 1
value = 0
;movecamera = 1,0

[State 0, shake]
type = envshake
trigger1 = !time
time = 10
freq = 85
ampl = -5

[State 0, anim]
type = changeanim
trigger1 = time < 6
value = anim

[State 0, anim]
type = changeanim
trigger1 = time = 6
value = 5050

[State 0, vel]
type = velset
trigger1 = time = 6
x = 2.2
y = -4.8

[State 0, turn]
type = turn
trigger1 = time = 6

[State 0, vel]
type = veladd
trigger1 = time > 6
y = .32

[State 0, end]
type = selfstate
trigger1 = vel y > 0
trigger1 = pos y >= 0
value = 5100

;---------------------------------------------------------------------------
;敵吹っ飛び（死亡時）
[Statedef 1290]
type = A
movetype = H
physics = N
anim = 5030
velset = -8,-8

[State 0, screen]
type = screenbound
trigger1 = 1
value = 1
movecamera = 1,0

[State 0, nhb]
type = null;nothitby
trigger1 = 1
value = SCA

[State 0, vel]
type = veladd
trigger1 = 1
y = .44

[State 0, push]
type = playerpush
trigger1 = 1
value = 0

[State 0, anim]
type = changeanim
trigger1 = anim = 5030
trigger1 = !animtime
trigger1 = SelfAnimExist(5035)
value = 5035
persistent = 0

[State 0, anim]
type = changeanim
trigger1 = vel y > 0
value = 5050
persistent = 0

[State 0, end]
type = selfstate
trigger1 = vel y > 0
trigger1 = pos y >= 0
value = 5100

;●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●

;---------------------------------------------------------------------------
;敵横吹っ飛び2（生存時）
[Statedef 1283]
type = A
movetype = H
physics = N
anim = 5030
velset = 10,-8

[State 0, screen]
type = screenbound
trigger1 = 1
value = 0

[State 0, nhb]
type = null;nothitby
trigger1 = 1
value = SCA

[State 0, vel]
type = veladd
trigger1 = 1
y = .22

[State 0, push]
type = playerpush
trigger1 = 1
value = 0

[State 0, anim]
type = changeanim
trigger1 = anim = 5030 && !animtime
trigger1 = SelfAnimExist(5035)
value = 5035
persistent = 0

[State 0, anim]
type = changeanim
trigger1 = vel y > 0
value = 5050
persistent = 0

[State 0, end]
type = changestate
trigger1 = backedgebodydist <= 10
trigger2 = FrontEdgeBodyDist <= 10
value = 1284

[State 0, end]
type = selfstate
trigger1 = vel y > 0
trigger1 = pos y >= 0
value = 5100

;---------------------------------------------------------------------------
;敵横吹っ飛び2（壁激突）
[Statedef 1284]
type = A
movetype = H
physics = N
anim = 5012
velset = 0,0

[State 821, 2] 
type = ChangeState
triggerall = Vel Y > 0
triggerall = Pos Y >= -20
triggerall = alive
;triggerall = CanRecover
trigger1 = Command = "recovery"
value = 5200

[State 821, 3] 
type = SelfState
triggerall = Vel Y > 0
triggerall = alive
;triggerall = CanRecover
trigger1 = Command = "recovery"
value = 5210 

[State 0, screen]
type = screenbound
trigger1 = 1
value = 0
;movecamera = 1,0

[State 0, shake]
type = envshake
trigger1 = !time
time = 10
freq = 85
ampl = -5

[State 0, anim]
type = changeanim
trigger1 = time < 6
value = anim

[State 0, anim]
type = changeanim
trigger1 = time = 6
value = 5050

[State 0, vel]
type = velset
trigger1 = time = 6
x = 2.2
y = -4.8

[State 0, turn]
type = turn
trigger1 = time = 6

[State 0, vel]
type = veladd
trigger1 = time > 6
y = .32

[State 0, end]
type = selfstate
trigger1 = vel y > 0
trigger1 = pos y >= 0
value = 5100

;---------------------------------------------------------------------------
;敵吹っ飛び2（死亡時）
[Statedef 1293]
type = A
movetype = H
physics = N
anim = 5030
velset = 8,-8

[State 0, screen]
type = screenbound
trigger1 = 1
value = 1
movecamera = 1,0

[State 0, nhb]
type = null;nothitby
trigger1 = 1
value = SCA

[State 0, vel]
type = veladd
trigger1 = 1
y = .44

[State 0, push]
type = playerpush
trigger1 = 1
value = 0

[State 0, anim]
type = changeanim
trigger1 = anim = 5030
trigger1 = !animtime
trigger1 = SelfAnimExist(5035)
value = 5035
persistent = 0

[State 0, anim]
type = changeanim
trigger1 = vel y > 0
value = 5050
persistent = 0

[State 0, end]
type = selfstate
trigger1 = vel y > 0
trigger1 = pos y >= 0
value = 5100

;---------------------------------------------------------------------------
;青波紋強吹っ飛び
[statedef 1001]
type    = A
movetype= H
physics = N
velset = 0,0

[State 1025, Anim]
type = ChangeAnim
trigger1 = !time
trigger1 = SelfAnimExist(5900)
value = 5900

[State 1025, Anim]
type = ChangeAnim
trigger1 = anim != 5900
value = anim

[State 210, 3]
type = ScreenBound
trigger1 = 1
value = 1

[State 1026, Velocity]
type = VelSet
trigger1 = Time = 11
x = -10
y = -3.5

[State 1026, Gravity]
type = VelAdd
trigger1 = Time > 11
y = .45

[State 1026, Hit wall]
type = ChangeState
trigger1 = Time > 11
trigger1 = BackEdgeBodyDist <= 20
value = 1002

[State 1026, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y > 10)
value = 5100

;---------------------------------------------------------------------------
;エイジャ吹っ飛び
[statedef 3101]
type    = A
movetype= H
physics = N
velset = 0,0

[State 1025, Anim]
type = ChangeAnim
trigger1 = time < 30
value = 5012

[State 40, Position]
type = PosAdd
trigger1 = Time < 30
x = ifelse(time%2,1,-1)

[State 1025, Anim]
type = ChangeAnim
trigger1 = Time = 30
trigger1 = SelfAnimExist(5900)
value = 5900

[State 1025, Anim]
type = ChangeAnim
trigger1 = Time = 30
trigger1 = anim != 5900
value = anim

[State 210, 3]
type = ScreenBound
trigger1 = 1
value = 1

[State 1026, Velocity]
type = VelSet
trigger1 = Time = 30
x = -10
y = 0

[State 1026, Hit wall]
type = ChangeState
trigger1 = Time > 30
trigger1 = BackEdgeBodyDist <= 20
value = 1002

[State 1026, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y > 10)
value = 5100

;---------------------------------------------------------------------------
;エイジャ吹っ飛び(死亡)
[statedef 3102]
type    = A
movetype= H
physics = N
velset = 0,0

[State 0, screen]
type = screenbound
trigger1 = 1
value = 1
movecamera = 1,0

[State 0, nhb]
type = null;nothitby
trigger1 = 1
value = SCA

[State 1025, Anim]
type = ChangeAnim
trigger1 = time < 30
value = 5012

[State 40, Position]
type = PosAdd
trigger1 = Time < 30
x = ifelse(time%2,1,-1)

[State 40, Position]
type = velset
trigger1 = Time = 30
x = -5
y = -6

[State 1025, Anim]
type = ChangeAnim
trigger1 = time = 30
value = 5030

[State 0, anim]
type = changeanim
trigger1 = time >= 30
trigger1 = anim = 5030
trigger1 = !animtime
trigger1 = SelfAnimExist(5035)
value = 5035
persistent = 0

[State 0, anim]
type = changeanim
trigger1 = time >= 30
trigger1 = vel y > 0
value = 5050
persistent = 0

[State 1025, Anim]
type = ChangeAnim
trigger1 = Time = 30
trigger1 = anim != 5900
value = anim

[State 210, 3]
type = ScreenBound
trigger1 = 1
value = 1

[State 0, vel]
type = veladd
trigger1 = time >= 30
y = .4

[State 1026, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y > 10)
value = 5100

;---------------------------------------------------------------------------
;壁激突
[Statedef 1002]
type    = A
movetype= H
physics = N
velset = 0,0

[State 2600, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0
value = 5012

[State 2600, ChangeAnim]
type = ChangeAnim
trigger1 = Time < 10
value = anim

[State 2601, ChangeAnim] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
trigger1 = time = 10
trigger1 = SelfAnimExist(5051)
value = 5051

[State 2601, ChangeAnim] ;Change anim when done with transition
type = ChangeAnim
trigger1 = time = 10
trigger1 = (Anim != [5051, 5059]) && (Anim != [5061, 5069])
trigger1 = Anim != 5090 ;Not if hit off ground anim
value = 5050
persistent = 0

[State 5050, 2] ;Coming down anim
type = ChangeAnim
trigger1 = time >= 12
trigger1 = anim = [5050,5059]
trigger1 = Vel Y >= ifelse(anim = 5050, 1, -2)
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0

[State 210, 3]
type = ScreenBound
trigger1 = 1
value = 1

[State 2601, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 20

[State 2601, EnvShake]
type = EnvShake
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
time = 10

[State 1027, Turn]
type = Turn
trigger1 = Time = 9

[State 1027, Pos]
type = PosAdd
trigger1 = Time = 10
x = 15

[State 1026, Velocity]
type = VelSet
trigger1 = Time = 10
x = -3
y = -2.5

[State 1026, Gravity]
type = VelAdd
trigger1 = time >= 10
y = .45

[State 1027, Spark]
type = Explod
trigger1 = Time = 0
anim = F72
pos = 0, floor (screenpos y) - 50
postype = back
sprpriority = 3
ownpal = 1

[State 5050, 4]
type = selfState
triggerall = Pos Y >= -20
triggerall = alive
triggerall = time >= 10
triggerall = prevstateno != [3021,3121]
trigger1 = Command = "recovery"
value = 5200

[State 5050, 5]
type = selfState
triggerall = alive
triggerall = time >= 10
triggerall = prevstateno != [3021,3121]
trigger1 = Command = "recovery"
value = 5210

[State 1028, Hit ground]
type = SelfState
trigger1 = Time > 10
trigger1 = (Vel y > 0) && (Pos y > 10)
value = 5110

;---------------------------------------------------------------------------
;感電（相手）
[statedef 9020]
type = S
ctrl = 0
anim = 6315
sprpriority = 3

[state 9020]
type = VarSet
trigger1 = !time
var(0) = enemynear,id

[state 9020]
type = PosSet
trigger1 = 1
x = playerid(var(0)),pos x
y = playerid(var(0)),pos y

[state 9020]
type = PosAdd
trigger1 = 1
y = -floor(20*const(size.yscale))*ifelse(facing!=playerid(var(0)),facing,-1,1)

[State 0, Helper]
type = Explod
trigger1 = !time
id = 7200
anim = 6315
pos = 0+floor(15*const(size.xscale))*ifelse(facing!=playerid(var(0)),facing,-1,1),0-floor(30*const(size.yscale))
postype=p1
ownpal = 1
ontop = 1
sprpriority = 3
scale = .8333333,1.07142857142857
ignorehitpause=1
bindtime=-1
removetime=-1

[State 0, Helper]
type = Explod
trigger1 = !time
id = 7201
anim = 6315
pos = 0-floor(15*const(size.xscale))*ifelse(facing!=playerid(var(0)),facing,-1,1),0-floor(50*const(size.yscale))
postype=p1
ownpal = 1
ontop = 1
sprpriority = 3
scale = .8333333,1.07142857142857
ignorehitpause=1
bindtime=-1
removetime=-1

[state 0]
type = RemoveExplod
trigger1 = time>=60;112
trigger2 = NumHelper(9020)>1&&time

[state 0]
type = DestroySelf
trigger1 = time>=60;112
trigger2 = NumHelper(9020)>1&&time

;===========================================================================
;ヴォレイ
[Statedef 10000]
type = U
movetype = I
physics = N
anim = 9999
ctrl = 0
velset = 0,0
sprpriority = 2

[State 0, btr]
type = bindtoroot
trigger1 = !(root,anim=230&&root,animelemtime(12)>=0&&root,animelemtime(13)<0)||(root,anim=235&&root,animelemtime(5)>=0&&root,animelemtime(6)<0)
trigger1 = !(root,anim=240&&root,animelemtime(9)>=0&&root,animelemtime(10)<0)||(root,anim=245&&root,animelemtime(5)>=0&&root,animelemtime(6)<0)
pos = 0,0

[State 0, btr]
type = bindtoroot
trigger1 = ((root,anim=230&&root,animelemtime(12)>=0&&root,animelemtime(13)<0)||(root,anim=235&&root,animelemtime(5)>=0&&root,animelemtime(6)<0))
trigger2 = ((root,anim=250&&root,animelemtime(5)>=0&&root,animelemtime(6)<0)||(root,anim=255&&root,animelemtime(5)>=0&&root,animelemtime(6)<0))
trigger3 = ((root,anim=1410&&root,animelemtime(6)>=0&&root,animelemtime(7)<0)||(root,anim=1415&&root,animelemtime(5)>=0&&root,animelemtime(6)<0))
pos = -8,0

[State 0, btr]
type = bindtoroot
trigger1 = ((root,anim=240&&root,animelemtime(9)>=0&&root,animelemtime(10)<0)||(root,anim=245&&root,animelemtime(8)>=0&&root,animelemtime(9)<0))
trigger2 = ((root,anim=1420&&root,animelemtime(5)>=0&&root,animelemtime(6)<0)||(root,anim=1425&&root,animelemtime(5)>=0&&root,animelemtime(6)<0))
pos = 2,2

[State 0, btr]
type = sprpriority
trigger1 = ((root,anim=240&&root,animelemtime(2)>=0&&root,animelemtime(8)<0||root,anim=1400&&root,animelemtime(2)<0||root,anim=1420&&root,animelemtime(3)<0))
value = -1

[State 0, btr]
type = sprpriority
trigger1 = !((root,anim=240&&root,animelemtime(2)>=0&&root,animelemtime(8)<0||root,anim=1400&&root,animelemtime(2)<0||root,anim=1420&&root,animelemtime(3)<0))
value = 2

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 0, turn]
type = turn
trigger1 = facing != root,facing

[State 0, anim]
type = changeanim
triggerall = root,movetype != H
triggerall = root,time = 1
trigger1 = root,stateno = 230
trigger2 = root,stateno = 235
trigger3 = root,stateno = 240
trigger4 = root,stateno = 430
trigger5 = root,stateno = 630
trigger6 = root,stateno = 1300
trigger7 = root,stateno = 1400
trigger8 = root,stateno = 1410
trigger9 = root,stateno = 1420
trigger10 = root,stateno = 1430
trigger11 = root,stateno = 1440
value = root,anim+10000

[State 0, anim]
type = changeanim
triggerall = root,movetype != H
trigger1 = root,anim = 230 && root,animelemtime(13) = 0
trigger2 = root,anim = 240 && root,animelemtime(10) = 0
trigger3 = root,anim = 250 && root,animelemtime(6) = 0
trigger4 = root,anim = 430 && root,animelemtime(13) = 0
trigger5 = root,anim = 630 && root,animelemtime(6) = 0
trigger6 = root,anim = 1400 && root,animelemtime(7) = 0
trigger7 = root,anim = 1410 && root,animelemtime(7) = 0
trigger8 = root,anim = 1420 && root,animelemtime(6) = 0
trigger9 = root,anim = 1430 && root,animelemtime(14) = 0
value = root,anim+10001

[State 0, anim]
type = changeanim
triggerall = root,movetype != H
trigger1 = root,anim = 235 && root,animelemtime(6) = 0
trigger2 = root,anim = 245 && root,animelemtime(6) = 0
trigger3 = root,anim = 255 && root,animelemtime(9) = 0
trigger4 = root,anim = 435 && root,animelemtime(6) = 0
trigger5 = root,anim = 635 && root,animelemtime(5) = 0
trigger6 = root,anim = 1405 && root,animelemtime(6) = 0
trigger7 = root,anim = 1415 && root,animelemtime(6) = 0
trigger8 = root,anim = 1425 && root,animelemtime(6) = 0
value = root,anim+9996

[State 0, anim]
type = changeanim
triggerall = root,movetype != H
triggreall = anim = 11410
trigger1 = root,anim = 1410
trigger1 = root,animelemtime(8) = 0
value = anim
elem = 2

[State 0, anim]
type = changeanim
trigger1 = root,movetype = H
trigger2 = root,stateno != 230
trigger2 = root,stateno != 235
trigger2 = root,stateno != 240
trigger2 = root,stateno != 430
trigger2 = root,stateno != 630
trigger2 = root,stateno != 1300
trigger2 = root,stateno != 1400
trigger2 = root,stateno != 1410
trigger2 = root,stateno != 1420
trigger2 = root,stateno != 1430
trigger2 = root,stateno != 1440
trigger3 = root,anim = 1300 && root,animelemtime(4) = 0
value = 9999

;---------------------------------------------------------------------------
;師の教え（背景）
[Statedef 8750]
ctrl = 0
anim = 9999
type = A
movetype = I
physics = N

[State 5201, 1]
type = turn
trigger1 = time = 0
trigger1 = facing != root,facing

[State 9000, Assert]
type = AssertSpecial
trigger1 = parent,stateno = 3010 && parent,animelemtime(17) < 0
flag = NoFG
flag2 = NoBG

[State 9000, Explod]
type = Explod
trigger1 = Time = 0
anim = 8205
id = 8730
pos = 0,0
postype = back
sprpriority = -106
ownpal = 0
bindtime = -1
removetime = -1
pausemovetime = -1
supermovetime = -1

[State 9000, Explod]
type = Explod
trigger1 = Time = 0
anim = 8206
id = 8731
pos = 0,0
postype = back
sprpriority = -106
ownpal = 0
bindtime = -1
removetime = -1
pausemovetime = -1
supermovetime = -1

[State 9000, Explod]
type = Explod
trigger1 = Time = 0
anim = 8207
id = 8732
pos = 0,0
postype = back
sprpriority = -106
ownpal = 0
bindtime = -1
removetime = -1
pausemovetime = -1
supermovetime = -1

[State 9000, Explod]
type = Explod
trigger1 = Time = 0
anim = 8208
id = 8733
pos = 0,0
postype = back
sprpriority = -106
ownpal = 0
bindtime = -1
removetime = -1
pausemovetime = -1
supermovetime = -1

[State 9000, Explod]
type = Explod
trigger1 = Time = 0
anim = 8205
id = 8735
pos = 0,0
postype = back
sprpriority = -106
ownpal = 0
bindtime = -1
removetime = -1
pausemovetime = -1
supermovetime = -1

[State 9000, Explod]
type = Explod
trigger1 = Time = 0
anim = 8206
id = 8736
pos = 0,0
postype = back
sprpriority = -106
ownpal = 0
bindtime = -1
removetime = -1
pausemovetime = -1
supermovetime = -1

[State 9000, Explod]
type = Explod
trigger1 = Time = 0
anim = 8207
id = 8737
pos = 0,0
postype = back
sprpriority = -106
ownpal = 0
bindtime = -1
removetime = -1
pausemovetime = -1
supermovetime = -1

[State 9000, Explod]
type = Explod
trigger1 = Time = 0
anim = 8208
id = 8738
pos = 0,0
postype = back
sprpriority = -106
ownpal = 0
bindtime = -1
removetime = -1
pausemovetime = -1
supermovetime = -1

[State 9000, ModifyExplod]
type = ModifyExplod
trigger1 = Numexplod(8730)
Id = 8730
postype = back
pos = ceil((-(time*8)%512)*root,fvar(11)),ceil(-8*root,fvar(11))
scale = root,fvar(11)+0.005,root,fvar(11)+0.005
ignorehitpause = 1

[State 9000, ModifyExplod]
type = ModifyExplod
trigger1 = Numexplod(8731)
Id = 8731
postype = back
pos = ceil((-(time*12)%512)*root,fvar(11)),ceil(88*root,fvar(11))
scale = root,fvar(11)+0.005,root,fvar(11)+0.005
ignorehitpause = 1

[State 9000, ModifyExplod]
type = ModifyExplod
trigger1 = Numexplod(8732)
Id = 8732
postype = back
pos = ceil((-(time*16)%512)*root,fvar(11)),ceil(152*root,fvar(11))
scale = root,fvar(11)+0.005,root,fvar(11)+0.005
ignorehitpause = 1

[State 9000, ModifyExplod]
type = ModifyExplod
trigger1 = Numexplod(8733)
Id = 8733
postype = back
pos = ceil((-(time*20)%512)*root,fvar(11)),ceil(216*root,fvar(11))
scale = root,fvar(11)+0.005,root,fvar(11)+0.005
ignorehitpause = 1

[State 9000, ModifyExplod]
type = ModifyExplod
trigger1 = Numexplod(8735)
Id = 8735
postype = back
pos = ceil((512-(time*8)%512)*root,fvar(11)),ceil(-8*root,fvar(11))
scale = root,fvar(11)+0.005,root,fvar(11)+0.005
ignorehitpause = 1

[State 9000, ModifyExplod]
type = ModifyExplod
trigger1 = Numexplod(8736)
Id = 8736
postype = back
pos = ceil((512-(time*12)%512)*root,fvar(11)),ceil(88*root,fvar(11))
scale = root,fvar(11)+0.005,root,fvar(11)+0.005
ignorehitpause = 1

[State 9000, ModifyExplod]
type = ModifyExplod
trigger1 = Numexplod(8737)
Id = 8737
postype = back
pos = ceil((512-(time*16)%512)*root,fvar(11)),ceil(152*root,fvar(11))
scale = root,fvar(11)+0.005,root,fvar(11)+0.005
ignorehitpause = 1

[State 9000, ModifyExplod]
type = ModifyExplod
trigger1 = Numexplod(8738)
Id = 8738
postype = back
pos = ceil((512-(time*20)%512)*root,fvar(11)),ceil(216*root,fvar(11))
scale = root,fvar(11)+0.005,root,fvar(11)+0.005
ignorehitpause = 1

[State 9000, RemoveExplod]
type = RemoveExplod
trigger1 = parent,stateno = 3010 && parent,animelem = 24
trigger2 = root,var(44) = 40
id = 8730

[State 9000, RemoveExplod]
type = RemoveExplod
trigger1 = parent,stateno = 3010 && parent,animelem = 24
trigger2 = root,var(44) = 40
id = 8731

[State 9000, RemoveExplod]
type = RemoveExplod
trigger1 = parent,stateno = 3010 && parent,animelem = 24
trigger2 = root,var(44) = 40
id = 8732

[State 9000, RemoveExplod]
type = RemoveExplod
trigger1 = parent,stateno = 3010 && parent,animelem = 24
trigger2 = root,var(44) = 40
id = 8733

[State 9000, RemoveExplod]
type = RemoveExplod
trigger1 = parent,stateno = 3010 && parent,animelem = 24
trigger2 = root,var(44) = 40
id = 8735

[State 9000, RemoveExplod]
type = RemoveExplod
trigger1 = parent,stateno = 3010 && parent,animelem = 24
trigger2 = root,var(44) = 40
id = 8736

[State 9000, RemoveExplod]
type = RemoveExplod
trigger1 = parent,stateno = 3010 && parent,animelem = 24
trigger2 = root,var(44) = 40
id = 8737

[State 9000, RemoveExplod]
type = RemoveExplod
trigger1 = parent,stateno = 3010 && parent,animelem = 24
trigger2 = root,var(44) = 40
id = 8738

[State 9000, DestroySelf]
type = DestroySelf
trigger1 = parent,stateno = 3010 && parent,animelem = 24
trigger2 = root,var(44) = 40

;---------------------------------------------------------------------------
;師の教え（背景）
[Statedef 8751]
ctrl = 0
anim = 9999
type = A
movetype = I
physics = N

[State 5201, 1]
type = turn
trigger1 = time = 0
trigger1 = facing != root,facing

[State 9000, Assert]
type = AssertSpecial
trigger1 = parent,stateno = 3201 && parent,animelemtime(17) < 0
flag = NoFG
flag2 = NoBG

[State 9000, Explod]
type = Explod
trigger1 = Time = 0
anim = 8205
id = 8730
pos = 0,0
postype = back
sprpriority = -106
ownpal = 0
bindtime = -1
removetime = -1
pausemovetime = -1
supermovetime = -1

[State 9000, Explod]
type = Explod
trigger1 = Time = 0
anim = 8206
id = 8731
pos = 0,0
postype = back
sprpriority = -106
ownpal = 0
bindtime = -1
removetime = -1
pausemovetime = -1
supermovetime = -1

[State 9000, Explod]
type = Explod
trigger1 = Time = 0
anim = 8207
id = 8732
pos = 0,0
postype = back
sprpriority = -106
ownpal = 0
bindtime = -1
removetime = -1
pausemovetime = -1
supermovetime = -1

[State 9000, Explod]
type = Explod
trigger1 = Time = 0
anim = 8208
id = 8733
pos = 0,0
postype = back
sprpriority = -106
ownpal = 0
bindtime = -1
removetime = -1
pausemovetime = -1
supermovetime = -1

[State 9000, Explod]
type = Explod
trigger1 = Time = 0
anim = 8205
id = 8735
pos = 0,0
postype = back
sprpriority = -106
ownpal = 0
bindtime = -1
removetime = -1
pausemovetime = -1
supermovetime = -1

[State 9000, Explod]
type = Explod
trigger1 = Time = 0
anim = 8206
id = 8736
pos = 0,0
postype = back
sprpriority = -106
ownpal = 0
bindtime = -1
removetime = -1
pausemovetime = -1
supermovetime = -1

[State 9000, Explod]
type = Explod
trigger1 = Time = 0
anim = 8207
id = 8737
pos = 0,0
postype = back
sprpriority = -106
ownpal = 0
bindtime = -1
removetime = -1
pausemovetime = -1
supermovetime = -1

[State 9000, Explod]
type = Explod
trigger1 = Time = 0
anim = 8208
id = 8738
pos = 0,0
postype = back
sprpriority = -106
ownpal = 0
bindtime = -1
removetime = -1
pausemovetime = -1
supermovetime = -1

[State 9000, ModifyExplod]
type = ModifyExplod
trigger1 = Numexplod(8730)
Id = 8730
postype = back
pos = ceil((-(time*8)%512)*root,fvar(11)),ceil(-8*root,fvar(11))
scale = root,fvar(11)+0.005,root,fvar(11)+0.005
ignorehitpause = 1

[State 9000, ModifyExplod]
type = ModifyExplod
trigger1 = Numexplod(8731)
Id = 8731
postype = back
pos = ceil((-(time*12)%512)*root,fvar(11)),ceil(88*root,fvar(11))
scale = root,fvar(11)+0.005,root,fvar(11)+0.005
ignorehitpause = 1

[State 9000, ModifyExplod]
type = ModifyExplod
trigger1 = Numexplod(8732)
Id = 8732
postype = back
pos = ceil((-(time*16)%512)*root,fvar(11)),ceil(152*root,fvar(11))
scale = root,fvar(11)+0.005,root,fvar(11)+0.005
ignorehitpause = 1

[State 9000, ModifyExplod]
type = ModifyExplod
trigger1 = Numexplod(8733)
Id = 8733
postype = back
pos = ceil((-(time*20)%512)*root,fvar(11)),ceil(216*root,fvar(11))
scale = root,fvar(11)+0.005,root,fvar(11)+0.005
ignorehitpause = 1

[State 9000, ModifyExplod]
type = ModifyExplod
trigger1 = Numexplod(8735)
Id = 8735
postype = back
pos = ceil((512-(time*8)%512)*root,fvar(11)),ceil(-8*root,fvar(11))
scale = root,fvar(11)+0.005,root,fvar(11)+0.005
ignorehitpause = 1

[State 9000, ModifyExplod]
type = ModifyExplod
trigger1 = Numexplod(8736)
Id = 8736
postype = back
pos = ceil((512-(time*12)%512)*root,fvar(11)),ceil(88*root,fvar(11))
scale = root,fvar(11)+0.005,root,fvar(11)+0.005
ignorehitpause = 1

[State 9000, ModifyExplod]
type = ModifyExplod
trigger1 = Numexplod(8737)
Id = 8737
postype = back
pos = ceil((512-(time*16)%512)*root,fvar(11)),ceil(152*root,fvar(11))
scale = root,fvar(11)+0.005,root,fvar(11)+0.005
ignorehitpause = 1

[State 9000, ModifyExplod]
type = ModifyExplod
trigger1 = Numexplod(8738)
Id = 8738
postype = back
pos = ceil((512-(time*20)%512)*root,fvar(11)),ceil(216*root,fvar(11))
scale = root,fvar(11)+0.005,root,fvar(11)+0.005
ignorehitpause = 1

[State 9000, RemoveExplod]
type = RemoveExplod
trigger1 = parent,stateno = 3201 && parent,animelem = 24
trigger2=root,stateno!=3201
id = 8730

[State 9000, RemoveExplod]
type = RemoveExplod
trigger1 = parent,stateno = 3201 && parent,animelem = 24
trigger2=root,stateno!=3201
id = 8731

[State 9000, RemoveExplod]
type = RemoveExplod
trigger1 = parent,stateno = 3201 && parent,animelem = 24
trigger2=root,stateno!=3201
id = 8732

[State 9000, RemoveExplod]
type = RemoveExplod
trigger1 = parent,stateno = 3201 && parent,animelem = 24
trigger2=root,stateno!=3201
id = 8733

[State 9000, RemoveExplod]
type = RemoveExplod
trigger1 = parent,stateno = 3201 && parent,animelem = 24
trigger2=root,stateno!=3201
id = 8735

[State 9000, RemoveExplod]
type = RemoveExplod
trigger1 = parent,stateno = 3201 && parent,animelem = 24
trigger2=root,stateno!=3201
id = 8736

[State 9000, RemoveExplod]
type = RemoveExplod
trigger1 = parent,stateno = 3201 && parent,animelem = 24
trigger2=root,stateno!=3201
id = 8737

[State 9000, RemoveExplod]
type = RemoveExplod
trigger1 = parent,stateno = 3201 && parent,animelem = 24
trigger2=root,stateno!=3201
id = 8738

[State 9000, DestroySelf]
type = DestroySelf
trigger1=root,stateno!=3201

;---------------------------------------------------------------------------
; HITA_RECOV (recovering in air, not falling)
[Statedef 890]
type    = A
movetype= H
physics = N

[State 1000, 0]
type = HitFallSet
trigger1 = time = 0
value = 0

[State 5040, 1]
type = SelfState
trigger1 = time = 0
value = 5040

;---------------------------------------------------------------------------
; HIT_TRIP2 (fall through air)
[Statedef 895]
type    = L
movetype= H
physics = N
anim = 5070
velset = 0,0

[State 5071, 1]
type = VelSet
trigger1 = Time = 0
x = -10

[State 5071, 2]
type = VelMul
trigger1 = 1
x = .88

[State 5071, 1]
type = VelSet
trigger1 = Time = 16
x = 0

[State 5071, 4] ;Hit ground
type = SelfState
trigger1 = Time = 16
value = 5110

;---------------------------------------------------------------------------
;敵横吹っ飛び（壁激突）
[Statedef 4921]
type = A
movetype = H
physics = N
anim = 5012
velset = 0,0

[State 0, screen]
type = screenbound
trigger1 = 1
value = 0
;movecamera = 1,0

[State 0, shake]
type = envshake
trigger1 = !time
time = 10
freq = 85
ampl = -5

[State 0, anim]
type = changeanim
trigger1 = time < 6
value = anim

[State 0, anim]
type = changeanim
trigger1 = time = 6
value = 5050

[State 0, vel]
type = velset
trigger1 = time = 6
x = 2.2
y = -4.8

[State 0, turn]
type = turn
trigger1 = time = 6

[State 0, vel]
type = veladd
trigger1 = time > 6
y = .32

[State 0, end]
type = selfstate
trigger1 = vel y > 0
trigger1 = pos y >= 0
value = 5100

;------------------------------------------------------------------------------
;背景（縦）
[Statedef 9301]
ctrl = 0
anim = 9999

[State 0, turn]
type = turn
trigger1 = !time
trigger1 = facing != root,facing

[State 0, assert]
type = assertspecial
trigger1 = 1
flag = NoBG
flag2 = NoFG

;back1
[State 0, explod]
type = explod
trigger1 = !time
anim = 8210
id = 8210
pos = 0,0
postype = back
bindtime = -1
scale = .84,1
ownpal = 0
sprpriority = -30
pausemovetime = 999999
supermovetime = 999999
ignorehitpause = 1
[State 0, explod]
type = explod
trigger1 = !time
anim = 8210
id = 8215
pos = 0,0
postype = back
bindtime = -1
scale = .84,1
ownpal = 0
sprpriority = -30
pausemovetime = 999999
supermovetime = 999999

;back2
[State 0, explod]
type = explod
trigger1 = !time
anim = 8211
id = 8211
pos = 107,0
postype = back
bindtime = -1
scale = .84,1
ownpal = 0
sprpriority = -30
pausemovetime = 999999
supermovetime = 999999
ignorehitpause = 1
[State 0, explod]
type = explod
trigger1 = !time
anim = 8211
id = 8216
pos = 107,0
postype = back
bindtime = -1
scale = .84,1
ownpal = 0
sprpriority = -30
pausemovetime = 999999
supermovetime = 999999

;back3
[State 0, explod]
type = explod
trigger1 = !time
anim = 8212
id = 8212
pos = 214,0
postype = back
bindtime = -1
scale = .84,1
ownpal = 0
sprpriority = -30
pausemovetime = 999999
supermovetime = 999999
ignorehitpause = 1
[State 0, explod]
type = explod
trigger1 = !time
anim = 8212
id = 8217
pos = 214,0
postype = back
bindtime = -1
scale = .84,1
ownpal = 0
sprpriority = -30
pausemovetime = 999999
supermovetime = 999999

;back4
[State 0, explod]
type = explod
trigger1 = !time
anim = 8213
id = 8213
pos = 320,0
postype = back
bindtime = -1
scale = .84,1
ownpal = 0
sprpriority = -30
pausemovetime = 999999
supermovetime = 999999
ignorehitpause = 1
[State 0, explod]
type = explod
trigger1 = !time
anim = 8213
id = 8218
pos = 320,0
postype = back
bindtime = -1
scale = .84,1
ownpal = 0
sprpriority = -30
pausemovetime = 999999
supermovetime = 999999


[State 0, explod]
type = modifyexplod
trigger1 = numexplod(8210)
id = 8210
pos = 0,-(time*8)%512
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(8211)
id = 8211
pos = 107,-(time*8)%512
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(8212)
id = 8212
pos = 214,-(time*8)%512
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(8213)
id = 8213
postype = back
pos = 320,-(time*8)%512
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(8215)
id = 8215
pos = 0,512-(time*8)%512
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(8216)
id = 8216
pos = 107,512-(time*8)%512
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(8217)
id = 8217
pos = 214,512-(time*8)%512
postype = back
ignorehitpause = 1

[State 0, explod]
type = modifyexplod
trigger1 = numexplod(8218)
id = 8218
pos = 320,512-(time*8)%512
postype = back
ignorehitpause = 1

[State 0, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = root,stateno != 4900
id = 8210

[State 0, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = root,stateno != 4900
id = 8211

[State 0, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = root,stateno != 4900
id = 8212

[State 0, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = root,stateno != 4900
id = 8213

[State 0, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = root,stateno != 4900
id = 8215

[State 0, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = root,stateno != 4900
id = 8216

[State 0, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = root,stateno != 4900
id = 8217

[State 0, explod]
type = removeexplod
trigger1 = roundstate = 4
trigger2 = root,stateno != 4900
id = 8218

[State 0, end]
type = DestroySelf
trigger1 = roundstate = 4
trigger2 = root,stateno != 4900

;---------------------------------------------------------------------------
;?????
[Statedef 1900]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 1900
sprpriority = 1

[State 730, Flash]
type = palfx
trigger1 = 1
time = 1
add = 25 + ceil(sin(time / 2.0 * pi) * 150), 25 + ceil(sin(time / 2.0 * pi) * 150), 100 + ceil(sin(time / 2.0 * pi) * 150)

[State 0, ??]
type = explod
trigger1 = animelemtime(3) = 0
anim = 956
id = 956
pos = 10,-85
postype = p1
sprpriority = 4
ownpal = 1
facing = ifelse(facing=1,1,-1)
shadow = 0,0,0
scale = .5,.5
pausemovetime = 0
supermovetime = 0

[State 0, ??]
type = explod
trigger1 = animelemtime(4) = 0
anim = 956
id = 956
pos = -10,-45
postype = p1
sprpriority = 3
ownpal = 1
facing = ifelse(facing=1,1,-1)
shadow = 0,0,0
scale = .5,.5
pausemovetime = 0
supermovetime = 0

[State 0, ??]
type = explod
trigger1 = animelemtime(5) = 0
anim = 956
id = 956
pos = 10,-60
postype = p1
sprpriority = 0
ownpal = 1
facing = ifelse(facing=1,1,-1)
shadow = 0,0,0
scale = .5,.5
pausemovetime = 0
supermovetime = 0

[State 0, ??]
type = explod
trigger1 = animelemtime(6) = 0
anim = 956
id = 956
pos = -13,-76
postype = p1
sprpriority = 3
ownpal = 1
facing = ifelse(facing=1,1,-1)
shadow = 0,0,0
scale = .5,.5
pausemovetime = 0
supermovetime = 0

[State 0, ??]
type = explod
trigger1 = animelemtime(7) = 0
anim = 956
id = 956
pos = 46,-36
postype = p1
sprpriority = 3
ownpal = 1
facing = ifelse(facing=1,1,-1)
shadow = 0,0,0
scale = .5,.5
pausemovetime = 0
supermovetime = 0

[State 3000, ?????]
type = PowerAdd
trigger1 = 1;time%2
value = 2

[State 1000, ?????]
type = PlaySnd
trigger1 = Time = 0
value = 1, 20
loop = 1
channel = 0

[State 1000, ?????]
type = PlaySnd
trigger1 = Time = 0
value = 1900,random%2
channel = 1

[State 1010, ??????]
type = ChangeState
trigger1 = time > 8
trigger1 = command != "hold_c"
value = 1901

;---------------------------------------------------------------------------
;?????END
[Statedef 1901]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 1901
sprpriority = 1

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 0
channel = 0
;ignorehitpause = 
;persistent = 

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 0
channel = 1
;ignorehitpause = 
;persistent = 

[State 1010, ??????]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1

[Statedef 750 - Stylish Cancel]
type     = S
movetype = I
physics  = S
anim     = 750
;velset   = 0,0
ctrl     = 0
 
[State 200, 7 - Fixed Bug]
type = TargetState
trigger1 = prevstateno = 1151
trigger1 = !var(24)
trigger1 = numtarget
trigger1 = target,stateno != [2600,2601]
trigger1 = target,stateno != [150,155]
trigger1 = !var(0)
value = 2700
ignorehitpause = 1
persistent = 0

[State 0, explod]
type = explod
trigger1 = time = 0
anim = 8015
id = 7100
pos = ceil(-30*const(size.xscale)),ceil(-92*const(size.yscale))
postype = p1
scale = .3,.5
sprpriority = 3
pausemovetime = 999999
supermovetime = 999999

[State 750]
type = PosFreeze
trigger1 = 1
value = 1

[State 900]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 750]
type = PowerAdd
trigger1 = Time = 0
value = -500

[State 750, helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "bgef"
ID = 755
pos = 40, -80
postype = p1
facing = 1
stateno = 755
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 20000]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "moji"
ID = 756
pos = 0, -75
postype = p1
facing = facing
stateno = 756
keyctrl = 0
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
size.xscale = .5
size.yscale = .5
ignorehitpause = 0

[State 750]
type = PlaySnd
trigger1 = time = 0
value = s6,21
channel = -1
[State 750]
type = PlaySnd
trigger1 = time = 0
value = s750,0+random%2
channel = 0

[State 750]
type = Pause
trigger1 = time = 0
time = 31
anim = -1
sound = -1
pos = 0,-50
movetime = 31
darken = 0
p2defmul = 1
poweradd = 0
unhittable = 1

;????????
[State -2]
type = VelSet
trigger1 = 1;animtime = 0
x = 0
ignorehitpause = 1

[state 0 - No corner push]
type = varset
trigger1 = time = 0
var(24) = 0

[state 0 - No corner push]
type = varset
trigger1 = time = 0
fvar(2) = 0

[State 750, ??????]
type = ChangeState
trigger1 = !var(49)
trigger1 = AnimTime = 0
trigger2 = var(49)
trigger2 = time >= 31
value = 0
ctrl = 1

[Statedef 755 - Stylish Cancel Helper]
type     = S
movetype = I
physics  = S
anim     = 20000
velset   = 0,0
ctrl     = 0

[State 750]
type = AssertSpecial
trigger1 = 1
flag = nofg

[State 750]
type = BGPalFX
trigger1 = time <= 31
time = 1
add = 0,0,0
mul = 76,76,76
sinadd = 256,256,256,10
invertall = 0
color = 256
[State 750]
type = BGPalFX
trigger1 = time > 31
time = 1
add = 0,0,0
mul = (76+9*(time-31)),(76+9*(time-31)),(76+9*(time-31))
sinadd = 256,256,256,10
invertall = 0
color = 256



[State 750, ??????]
type = DestroySelf
trigger1 = time >= 51

;---------------------------------------------------------------------------
;プッツーン
[Statedef 756]
type    = S
physics = N
anim = 20026
ctrl = 0
sprpriority = 3
velset = 0,0

[State 100, 2]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 0, scale]
type = angledraw
trigger1 = time < 10
scale = .2+time*.08,.2+time*.08

[State 0, scale]
type = angledraw
trigger1 = time >= 10
scale = .85+time*.01,.85+time*.01

[State 820, 消去]
type = destroyself
trigger1 = time >= 31

;=================================================
;============================================
[Statedef 214210 - Kanji]
type     = A
movetype = I
physics  = N
juggle   = 1
ctrl     = 0
anim     = 21311
poweradd = 0
sprpriority = 6

[State 20000]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 20000]
type = VarSet
trigger1 = time = 0
fv = 20
value = 0.5
[State 20000]
type = VarAdd
trigger1 = time%2 = 0
fv = 20
value = 0.01

[State 20000]
type = AngleDraw
trigger1 = 1
scale = fvar(20),fvar(20)


[State 20000]
type = DestroySelf
trigger1 = time > 30

;=================================================
;============================================
[Statedef 214211 - Kanji]
type     = A
movetype = I
physics  = N
juggle   = 1
ctrl     = 0
anim     = 21313
poweradd = 0
sprpriority = 6

[State 20000]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 20000]
type = VarSet
trigger1 = time = 0
fv = 20
value = 0.5
[State 20000]
type = VarAdd
trigger1 = time%2 = 0
fv = 20
value = 0.01

[State 20000]
type = AngleDraw
trigger1 = 1
scale = fvar(20),fvar(20)


[State 20000]
type = DestroySelf
trigger1 = time > 30

;================================================
;================================================
[Statedef 21422 - Kanji]
type     = A
movetype = I
physics  = N
juggle   = 1
ctrl     = 0
anim     = 21314
poweradd = 0
sprpriority = 6

[State 20000]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 20000]
type = VarSet
trigger1 = time = 0
fv = 20
value = 0.4
[State 20000]
type = VarAdd
trigger1 = time%2 = 0
fv = 20
value = 0.01

[State 20000]
type = AngleDraw
trigger1 = 1
scale = fvar(20),fvar(20)


[State 20000]
type = DestroySelf
trigger1 = time > 30

;================================================
;================================================
[Statedef 21423 - Kanji]
type     = A
movetype = I
physics  = N
juggle   = 1
ctrl     = 0
anim     = 21315
poweradd = 0
sprpriority = 6

[State 20000]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 20000]
type = VarSet
trigger1 = time = 0
fv = 20
value = 0.4
[State 20000]
type = VarAdd
trigger1 = time%2 = 0
fv = 20
value = 0.01

[State 20000]
type = AngleDraw
trigger1 = 1
scale = fvar(20),fvar(20)


[State 20000]
type = DestroySelf
trigger1 = time > 30

;---------------------------------------------------------------------------
;•¶ŽšƒGƒtƒFƒNƒgƒwƒ‹ƒp[-ƒhƒLƒƒ
[Statedef 20006]
type     = A
movetype = I
physics  = N
juggle   = 1
ctrl     = 0
anim     = 21316
poweradd = 0
sprpriority = 6

[State 20000]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 20000]
type = VarSet
trigger1 = time = 0
fv = 20
value = 0.4
[State 20000]
type = VarAdd
trigger1 = time%2 = 0
fv = 20
value = 0.01

[State 20000]
type = AngleDraw
trigger1 = 1
scale = fvar(20),fvar(20)


[State 20000]
type = DestroySelf
trigger1 = time > 30

;---------------------------------------------------------------------------
;•¶ŽšƒGƒtƒFƒNƒgƒwƒ‹ƒp[-ƒhƒLƒƒ
[Statedef 20015]
type     = A
movetype = I
physics  = N
juggle   = 1
ctrl     = 0
anim     = 21317
poweradd = 0
sprpriority = 6

[State 20000]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 20000]
type = VarSet
trigger1 = time = 0
fv = 20
value = 0.4
[State 20000]
type = VarAdd
trigger1 = time%2 = 0
fv = 20
value = 0.01


[State 20000]
type = AngleDraw
trigger1 = 1
scale = fvar(20),fvar(20)


[State 20000]
type = DestroySelf
trigger1 = time > 30

;---------------------------------------------------------------------------
[Statedef 9573]
type = S
anim = 9573
velset = 0,0
sprpriority = 10
ctrl = 0

[State 100, 2]
type = AssertSpecial
Trigger1 = Root,Anim = 1402
flag = invisible

[State 8600, ChangeAnim]
type = ChangeAnim
Trigger1 = Root,Anim = 1402
value = anim

[State 20503, ‰e????]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 20503, ?^?[?“]
type = Turn
trigger1 = Time = 0
trigger1 = root,facing = -1
persistent = 0
ignorehitpause = 1

[State 20503, 1.0?X?P?[????’?]
Type = AngleDraw
Trigger1 = 1
Value = 0
scale = 0.5,0.5
ignorehitpause = 1

[State 20503, ????]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;ゴゴゴ漆黒中オーラ　ヘルパー
[Statedef 17000]
type = A
Physics = N
sprpriority = -2
anim = 9999
ctrl = 0

[State 発動時の色の変数]
type = varset
trigger1 = time < 6
var(0)=30
[State 発動時の色の変数]
type = varset
trigger1 = time = [6,22]
var(0)=30+ (255-30)*(time-6)/16.0
[State 発動時の色修了]
type = varset
trigger1 = time > 22 && var(0)
var(0)=0

[State ゴゴゴカットイン]
type = Explod
trigger1 = !time
anim = 17000
postype = L
pos = -10,160
ID = 17000
ontop = 1
OwnPal = 1
bindtime = 2147483647
removetime = 80
scale = 0.29,0.29
[State 技名表示 出す1p]
type = modifyExplod
triggerall = numexplod(17000) && root,teamside=1
trigger1 = time<=10
postype = L
pos = -10 -150+150*(time/10.0),160
ID = 17000
bindtime = 2147483647
[State 技名表示 出す2p]
type = modifyExplod
triggerall = numexplod(17000) && root,teamside=2
trigger1 = time<=10
postype = L
pos = -10+GameWidth-102 +150-150*(time/10.0),160
ID = 17000
bindtime = 2147483647
[State 技名表示 帰す]
type = modifyExplod
trigger1 = numexplod(17000) && time>=72
postype = L
pos = -10 -150*((time-72)/10.0) *ifelse(root,teamside=1,1,-1) +(root,teamside!=1)*(GameWidth-102),160
ID = 17000
bindtime = 2147483647

[state 99999, 間違いで本体が来たら立ちへ移行]
type = selfstate
trigger1 = !ishelper
value = 0
[state 99999, 影不可視化]
type = assertspecial
trigger1 = 1
flag= noshadow
[state 99999, 無敵化]
type = nothitby
trigger1 = 1
value = SCA,AA,AP,AT

[State 声]
type = playsnd
trigger1 = time = 0
value = 8500,random%2
channel = 0;意味はない
persistent = 0
[State ゴゴゴゴゴ…]
type = playsnd
trigger1 = time = 0
value = 8500,10
persistent = 0

[State 100, 2]
type = turn
trigger1 = facing != root,facing
IgnoreHitPause = 1

[State 10001 固定 通常]
type = BindToroot
trigger1 = 1
time = 2
pos = 0,0
IgnoreHitPause = 1

[state 99999, 不可視化]
type = assertspecial
trigger1 = root,alive=0
trigger2 = roundstate!=2
trigger3 = root,var(21)=1;ステート奪取
flag = invisible

;---------------------------------------------------------------------------
;管理ヘルパー
[Statedef 20032]
ctrl = 0
anim = 9999
ownpal = 1

;●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●
;アドガ用
[State 8500, 1]
type = varset
trigger1 = parent,stateno != [150,715]
var(16) = 0

[State 8500, 1]
type = varset
trigger1 = parent,stateno = 150
trigger2 = parent,stateno = 152
var(16) = parent,GetHitVar(ctrltime)

[State 8500, 1]
type = varset
trigger1 = parent,stateno != [150,715]
var(15) = 0

[State 8500, 1]
type = varadd
trigger1 = parent,stateno = 153
var(15) = 1

[State 8500, 1]
type = varset
trigger1 = parent,stateno != [150,715]
var(14) = 0

[State 8500, 1]
type = varadd
trigger1 = parent,stateno = 151
var(14) = 1

[State 8500, 1]
type = varset
trigger1 = parent,stateno != [150,715]
var(13) = 0

[State 8500, 1]
type = varset
trigger1 = parent,stateno = 150
trigger2 = parent,stateno = 152
var(13) = parent,GetHitVar(hittime)

;-------------------------------------------------------------------------
;AI起動用ヘルパー
[Statedef 50000]
anim=20000;なにも表示しないｱﾆﾒでもいいけど入れなくても全然問題ない
ctrl=0

[State 10000,間違いで本体が来たら立ちへ移行]
type=selfstate
trigger1=!ishelper
value=0

;----------------------------------------------------------------------------------
; AIフラグセット
;----------------------------------------------------------------------------------
[State 10000,プレイヤー判定]
type=varset
trigger1=command="up"&&root,command="up"
trigger2=command="down"&&root,command="down"
trigger3=command="back"&&root,command="back"
trigger4=command="fwd"&&root,command="fwd"
trigger5=command="a"&&root,command="a"
trigger6=command="b"&&root,command="b"
trigger7=command="c"&&root,command="c"
trigger8=command="x"&&root,command="x"
trigger9=command="y"&&root,command="y"
trigger10=command="z"&&root,command="z"
trigger11=command="start"&&root,command="start"
var(59)=-1

[State 10000,ﾌﾗｸﾞON]
type=varset
triggerall=var(59)!=-1
trigger1=root,command="up"
trigger2=root,command="down"
trigger3=root,command="back"
trigger4=root,command="fwd"
trigger5=root,command="a"
trigger6=root,command="b"
trigger7=root,command="c"
trigger8=root,command="x"
trigger9=root,command="y"
trigger10=root,command="z"
trigger11=root,command="start"
var(59)=1

;----------------------------------------------------------------------------------
; コンボ分岐
;----------------------------------------------------------------------------------
;short
:------
[State -1, コンボ分岐];シーザーへ
type = parentvarset
triggerall = roundstate = 2 && root,movehit = 2 && !root,Ishelper
triggerall = !root,var(31)
triggerall = power >= 1000
triggerall = (root,prevstateno = [100,105])
triggerall = random < 600+power/10
triggerall = root,p2bodydist x < 28
trigger1 = root,numtarget
trigger1 = root,stateno = 420 && root,anim = 401
var(31) = 105
ignorehitpause = 1
[State -1, コンボ分岐];シーザーへ
type = parentvarset
triggerall = roundstate = 2 && root,movehit && !root,Ishelper
triggerall = !root,var(31) || root,var(31) = 102
triggerall = power >= 1000
triggerall = random < 600+power/10
triggerall = root,p2bodydist x < 28
trigger1 = root,numtarget
trigger1 = root,stateno = 425 && root,p2stateno = 5040
var(31) = 105
ignorehitpause = 1

[State -1, コンボ分岐];ヴォレイへ
type = parentvarset
triggerall = roundstate = 2 && root,movehit = 2 && !root,Ishelper
triggerall = !root,var(31) || root,var(31) = 150 || root,var(31) = 104 || root,var(31) = 108
;triggerall = (root,prevstateno != [100,105])
triggerall = root,p2statetype != A
triggerall = random < 500
trigger1 = root,stateno = 400 && root,p2bodydist x <= 32
trigger2 = root,stateno = 210 && root,p2bodydist x <= 76
trigger3 = root,stateno = 420 && root,p2bodydist x <= 65
var(31) = 101
ignorehitpause = 1

[State -1, コンボ分岐];カッターへ
type = parentvarset
triggerall = roundstate = 2 && root,movecontact = 2 && !root,Ishelper
triggerall = !root,var(31) || root,var(31) = 150 || root,var(31) = 108
;triggerall = (root,prevstateno != [100,105])
trigger1 = root,stateno = 400
trigger2 = root,stateno = 210
trigger3 = root,stateno = 410
trigger4 = root,stateno = 415
trigger5 = root,stateno = 420
trigger6 = root,stateno = 425 && root,moveguarded
var(31) = 100
ignorehitpause = 1

[State -1, コンボ分岐];ブーメランへ
type = parentvarset
triggerall = roundstate = 2 && root,movecontact = 2 && !root,Ishelper
triggerall = !root,var(31)
;triggerall = (root,prevstateno != [100,105])
trigger1 = root,stateno = 425 && root,movehit && random < 700
var(31) = 102
ignorehitpause = 1

[State -1, コンボ分岐];ブーメランへ
type = parentvarset
triggerall = roundstate = 2 && root,movecontact = 2 && !root,Ishelper
triggerall = !root,var(31)
;triggerall = (root,prevstateno != [100,105])
trigger1 = root,stateno = 420 && root,anim = 401 && root,movehit && random < 700
var(31) = 103
ignorehitpause = 1

[State -1, コンボ分岐];ブーメランから弱
type = parentvarset
triggerall = roundstate = 2 && !root,Ishelper
triggerall = !root,var(31)
;triggerall = (root,prevstateno != [100,105])
triggerall = root,numhelper(1310)
trigger1 = root,stateno = 1300 && helper(1310),stateno = 1355 && random < 800
trigger1 = !(enemynear(root,var(48)),backedgebodydist < 27)
trigger1 = root,p2bodydist x < 18
var(31) = 104
ignorehitpause = 1

[State -1, コンボ分岐];ブーメランからシーザー
type = parentvarset
triggerall = roundstate = 2 && !root,Ishelper
;triggerall = !root,var(31)
triggerall = root,var(40)
;triggerall = (root,prevstateno != [100,105])
triggerall = root,numhelper(1310)
triggerall = power > 1000
trigger1 = root,stateno = 1300 && helper(1310),stateno = 1355 && root,time = 44 && (random < 500+power/10||p2life<250)
trigger1 = (enemynear(root,var(48)),backedgebodydist < 27)
trigger1 = root,p2bodydist x < 33
var(31) = 106
ignorehitpause = 1

[State -1, コンボ分岐];ブーメランからJ
type = parentvarset
triggerall = roundstate = 2 && !root,Ishelper
triggerall = !root,var(31) && (root,var(40) = 2 || root,var(40) = 4)
;triggerall = (root,prevstateno != [100,105])
triggerall = root,numhelper(1310)
trigger1 = root,stateno = 1300 && helper(1310),stateno = 1355 && root,time = 44
trigger1 = (enemynear(root,var(48)),backedgebodydist < 27)
trigger1 = root,p2bodydist x < 70
var(31) = 107
ignorehitpause = 1

[State -1, コンボ分岐];ブーメランからJ
type = parentvarset
triggerall = roundstate = 2 && !root,Ishelper
triggerall = root,var(31) = 107
trigger1 = root,stateno = 42
var(31) = 108
ignorehitpause = 1

[State -1, コンボ分岐];J攻から
type = parentvarset
triggerall = roundstate = 2 && root,movecontact = 2 && !root,Ishelper
triggerall = !root,var(31)
;triggerall = (root,prevstateno != [100,105])
trigger1 = (root,stateno = [600,620])
var(31) = ifelse(root,p2bodydist x < 90&&random<200,20,150)
ignorehitpause = 1

;----------------------------------------------------------------------------------
; 相手クラッシュ
;----------------------------------------------------------------------------------
[State -1, コンボ分岐];ソバットへ
type = parentvarset
triggerall = roundstate = 2 && !root,Ishelper
;triggerall = !root,var(31)
triggerall = p2statetype != A
triggerall = ((p2stateno = [4000,4100]) || (p2stateno = [6000,6001]) && p2movetype = H) || (p2stateno = 5910)
trigger1 = root,stateno = 1000 && root,time = 20
trigger1 = root,p2life < 40 || power < 1000 || (root,life-root,p2life > 300 && random < 600)
var(31) = 110

[State -1, コンボ分岐];ヴォレイへ
type = parentvarset
triggerall = roundstate = 2 && !root,Ishelper
triggerall = !(root,var(31)>=110)
triggerall = p2statetype != A
triggerall = ((p2stateno = [4000,4100]) || (p2stateno = [6000,6001]) && p2movetype = H) || (p2stateno = 5910)
trigger1 = root,stateno = 1000 && root,time = 20 && root,p2bodydist x < 120
trigger2 = !root,numtarget && root,p2bodydist x < 120
var(31) = 112

[State -1, コンボ分岐];エイジャへ
type = parentvarset
triggerall = roundstate = 2 && !root,Ishelper
;triggerall = !root,var(31)
triggerall = power > 1000
;triggerall = root,p2statetype != A
triggerall = (root,p2stateno = 4100&&(enemynear(root,var(48)),authorname="Nimame"||enemynear(root,var(48)),authorname="Izumo"))
trigger1 = root,stateno = 1000 && root,time = 20
trigger1 = random < 700+power/10
var(31) = 111

;----------------------------------------------------------------------------------
; 当て投げ
;----------------------------------------------------------------------------------
[State -1, 当て投げ分岐]
type = parentvarset
triggerall = roundstate = 2 && root,moveguarded = 2
triggerall = !root,var(31)
triggerall = root,p2bodydist x < 90
triggerall = root,p2statetype != A
triggerall = random < 900
trigger1 = root,stateno = 600
trigger2 = root,stateno = 610
trigger3 = root,stateno = 620
trigger4 = root,stateno = 630
trigger5 = root,stateno = 400
trigger6 = root,stateno = 415
var(31) = 20

[State -1, あて投げモード解除]
type = parentvarset
triggerall = root,var(31) = 20
trigger1 = root,p2statetype = A || root,p2statetype = L
trigger2 = root,movetype = H
trigger3 = root,p2bodydist x > 100
trigger4 = (root,stateno = [800,802])
var(31) = 0

;----------------------------------------------------------------------------------
; めくり対策
;----------------------------------------------------------------------------------
[state ]
type=posset
trigger1=1
x=root,pos x-30*facing
y=0
[state ]
type=varadd
trigger1=var(57):=0||1
var(57)=inguarddist
[state ]
type=posset
trigger1=1
x=root,pos x+30*facing
y=0
[state ]
type=varadd
trigger1=1
var(57)=inguarddist
[state ]
type=posset
trigger1=1
x=root,pos x-60*facing
y=0
[state ]
type=varadd
trigger1=1
var(57)=inguarddist
[state ]
type=posset
trigger1=1
x=root,pos x+60*facing
y=0
[state ]
type=varadd
trigger1=1
var(57)=inguarddist
[state ]
type=posset
trigger1=1
x=root,pos x-90*facing
y=0
[state ]
type=varadd
trigger1=1
var(57)=inguarddist
[state ]
type=posset
trigger1=1
x=root,pos x+90*facing
y=0
[state ]
type=varadd
trigger1=1
var(57)=inguarddist

[state ]
type=turn
trigger1=facing!= root,facing

;----------------------------------------------------------------------------------
; 立ち下段学習
;----------------------------------------------------------------------------------
;学習用
[State -2];地上中段＆空中下段学習用
type = varset
trigger1 = root,stateno = 131||(root,stateno = [152,153])
var(4) = 1
ignorehitpause = 1

[State -2];地上中段＆空中下段学習用
type = varset
trigger1 = root,stateno = 130||(root,stateno = [150,151])
var(4) = -1
ignorehitpause = 1

[State -2];地上＆空中下段中段学習用
type = varset
trigger1 = !((root,stateno = [130,131])||(root,stateno = [150,153]))
trigger1 = root,time >= 2
var(4) = 0
ignorehitpause = 1

[State -2];地上中段学習用
type = varset
trigger1 = var(4)=1
trigger1 = !var(5)
trigger1 = root,movetype = H
trigger1 = root,stateno >= 200
trigger1 = root,P2Statetype != A
trigger1 = root,P2Movetype = A
var(5) = root,P2Stateno
ignorehitpause = 1

[State -2];地上中段学習用
type = varset
trigger1 = var(4)=-1
trigger1 = var(5)=root,P2stateno
trigger1 = root,movetype = H
trigger1 = root,stateno > 200
trigger1 = root,P2statetype != A
trigger1 = root,P2movetype = A
var(5) = 0
ignorehitpause = 1

[State -2];立ち下段学習用
type = varset
trigger1 = var(4)=-1
trigger1 = !var(6)
trigger1 = root,movetype = H
trigger1 = root,stateno >= 200
trigger1 = root,P2Statetype = S
trigger1 = root,P2Movetype = A
var(6) = root,P2Stateno
ignorehitpause = 1

[State -2];立ち下段学習用
type = varset
trigger1 = var(4)=1
trigger1 = var(6)=root,P2Stateno
trigger1 = root,movetype = H
trigger1 = root,stateno > 200
trigger1 = root,P2Statetype = S
trigger1 = root,P2Movetype = A
var(6) = 0
ignorehitpause = 1

;----------------------------------------------------------------------------------
; 暗転計測
;----------------------------------------------------------------------------------
[State -1]
type = VarSet
trigger1 = root,var(59) > 0
trigger1 = enemynear(root,var(48)),time = 1
v = 7
value = 0
[State -1]
type = VarAdd
trigger1 = root,var(59)
v = 7
value = 1
ignorehitpause = 1

;----------------------------------------------------------------------------------
; ガードしている時間の計測(ガーキャン条件用)
;----------------------------------------------------------------------------------
[State -1]
type = Varadd
trigger1 = root,var(59)
trigger1 = (root,stateno = [150,153]) || root,stateno = 710
var(8) = 1
ignorehitpause = 1
[State -1]
type = Varset
trigger1 = root,stateno != [150,153]
trigger1 = root,stateno != 710
var(8) = 0
ignorehitpause = 1

;===========================================================================
; ヘルパー式射撃感知
;===========================================================================
[Statedef 51000]
anim=20000;なにも表示しないｱﾆﾒでもいいけど入れなくても全然問題ない
ctrl=0

[State 10000,間違いで本体が来たら立ちへ移行]
type=selfstate
trigger1=!ishelper
value=0

[state 51000]	;ID初期値設定開始
type = varset
trigger1 = var(0) = 0
trigger1 = var(1) = 0
v = 1
value = 70+root,RoundsExisted*200

[state 30000]	;定期更新用ヘルパー射出
type=helper
trigger1 = NumHelper(51010)=0 && ishelper
trigger1 = roundstate<=2 && root,alive
helpertype=normal
name="Clear"
stateno=51010
ID=51010
pos=0,0
pausemovetime=2147483647
supermovetime=2147483647
persistent = 999

[state 30000]	;常駐ヘルパーの除外
type = varadd
trigger1 = var(0) = 0
trigger1 = var(1) > 0
trigger1 = !playerIDexist(var(1))
v = 1
value = -1

[state 30000]	;ID初期値確定フラグ
type = varadd
trigger1 = var(0) = 0
trigger1 = playerIDexist(var(1))
trigger1 = var(0):= 1
v = 1
value = 1

------------------------------ loop start -----------------------------------

[state 30000]	;ID登録(var(3)～var(22))
type = varset
trigger1 = var(0)=1
trigger1 = var(2)<20
trigger1 = playerIDexist(var(1))
v = 3+var(2)
value = var(1)

[state 30000]	;ID量把握
type = varadd
trigger1 = var(0)=1
trigger1 = playerIDexist(var(1))
v = 2
value = 1

[state 30000]	;許容値以上で最初へ
type = varset
trigger1 = var(0)=1
trigger1 = var(2)>=20
v = 2
value = 0

[state 30000]	;次のIDへ
type = varadd
trigger1 = var(0)=1
trigger1 = playerIDexist(var(1))
v = 1
value = 1

--------------------------------- loop --------------------------------------

[state 30000]	;ID登録(var(3)～var(22))
type = varset
trigger1 = var(0)=1
trigger1 = var(2)<20
trigger1 = playerIDexist(var(1))
v = 3+var(2)
value = var(1)

[state 30000]	;ID量把握
type = varadd
trigger1 = var(0)=1
trigger1 = playerIDexist(var(1))
v = 2
value = 1

[state 30000]	;許容値以上で最初へ
type = varset
trigger1 = var(0)=1
trigger1 = var(2)>=20
v = 2
value = 0

[state 30000]	;次のIDへ
type = varadd
trigger1 = var(0)=1
trigger1 = playerIDexist(var(1))
v = 1
value = 1

--------------------------------- loop --------------------------------------

[state 30000]	;ID登録(var(3)～var(22))
type = varset
trigger1 = var(0)=1
trigger1 = var(2)<20
trigger1 = playerIDexist(var(1))
v = 3+var(2)
value = var(1)

[state 30000]	;ID量把握
type = varadd
trigger1 = var(0)=1
trigger1 = playerIDexist(var(1))
v = 2
value = 1

[state 30000]	;許容値以上で最初へ
type = varset
trigger1 = var(0)=1
trigger1 = var(2)>=20
v = 2
value = 0

[state 30000]	;次のIDへ
type = varadd
trigger1 = var(0)=1
trigger1 = playerIDexist(var(1))
v = 1
value = 1

--------------------------------- loop --------------------------------------

[state 30000]	;ID登録(var(3)～var(22))
type = varset
trigger1 = var(0)=1
trigger1 = var(2)<20
trigger1 = playerIDexist(var(1))
v = 3+var(2)
value = var(1)

[state 30000]	;ID量把握
type = varadd
trigger1 = var(0)=1
trigger1 = playerIDexist(var(1))
v = 2
value = 1

[state 30000]	;許容値以上で最初へ
type = varset
trigger1 = var(0)=1
trigger1 = var(2)>=20
v = 2
value = 0

[state 30000]	;次のIDへ
type = varadd
trigger1 = var(0)=1
trigger1 = playerIDexist(var(1))
v = 1
value = 1

--------------------------------- loop --------------------------------------

[state 30000]	;ID登録(var(3)～var(22))
type = varset
trigger1 = var(0)=1
trigger1 = var(2)<20
trigger1 = playerIDexist(var(1))
v = 3+var(2)
value = var(1)

[state 30000]	;ID量把握
type = varadd
trigger1 = var(0)=1
trigger1 = playerIDexist(var(1))
v = 2
value = 1

[state 30000]	;許容値以上で最初へ
type = varset
trigger1 = var(0)=1
trigger1 = var(2)>=20
v = 2
value = 0

[state 30000]	;次のIDへ
type = varadd
trigger1 = var(0)=1
trigger1 = playerIDexist(var(1))
v = 1
value = 1

--------------------------------- loop --------------------------------------

[state 30000]	;ID登録(var(3)～var(22))
type = varset
trigger1 = var(0)=1
trigger1 = var(2)<20
trigger1 = playerIDexist(var(1))
v = 3+var(2)
value = var(1)

[state 30000]	;ID量把握
type = varadd
trigger1 = var(0)=1
trigger1 = playerIDexist(var(1))
v = 2
value = 1

[state 30000]	;許容値以上で最初へ
type = varset
trigger1 = var(0)=1
trigger1 = var(2)>=20
v = 2
value = 0

[state 30000]	;次のIDへ
type = varadd
trigger1 = var(0)=1
trigger1 = playerIDexist(var(1))
v = 1
value = 1

--------------------------------- loop --------------------------------------

[state 30000]	;ID登録(var(3)～var(22))
type = varset
trigger1 = var(0)=1
trigger1 = var(2)<20
trigger1 = playerIDexist(var(1))
v = 3+var(2)
value = var(1)

[state 30000]	;ID量把握
type = varadd
trigger1 = var(0)=1
trigger1 = playerIDexist(var(1))
v = 2
value = 1

[state 30000]	;許容値以上で最初へ
type = varset
trigger1 = var(0)=1
trigger1 = var(2)>=20
v = 2
value = 0

[state 30000]	;次のIDへ
type = varadd
trigger1 = var(0)=1
trigger1 = playerIDexist(var(1))
v = 1
value = 1

--------------------------------- loop --------------------------------------

[state 30000]	;ID登録(var(3)～var(22))
type = varset
trigger1 = var(0)=1
trigger1 = var(2)<20
trigger1 = playerIDexist(var(1))
v = 3+var(2)
value = var(1)

[state 30000]	;ID量把握
type = varadd
trigger1 = var(0)=1
trigger1 = playerIDexist(var(1))
v = 2
value = 1

[state 30000]	;許容値以上で最初へ
type = varset
trigger1 = var(0)=1
trigger1 = var(2)>=20
v = 2
value = 0

[state 30000]	;次のIDへ
type = varadd
trigger1 = var(0)=1
trigger1 = playerIDexist(var(1))
v = 1
value = 1

--------------------------------- loop --------------------------------------

[state 30000]	;ID登録(var(3)～var(22))
type = varset
trigger1 = var(0)=1
trigger1 = var(2)<20
trigger1 = playerIDexist(var(1))
v = 3+var(2)
value = var(1)

[state 30000]	;ID量把握
type = varadd
trigger1 = var(0)=1
trigger1 = playerIDexist(var(1))
v = 2
value = 1

[state 30000]	;許容値以上で最初へ
type = varset
trigger1 = var(0)=1
trigger1 = var(2)>=20
v = 2
value = 0

[state 30000]	;次のIDへ
type = varadd
trigger1 = var(0)=1
trigger1 = playerIDexist(var(1))
v = 1
value = 1

--------------------------------- loop --------------------------------------

[state 30000]	;ID登録(var(3)～var(22))
type = varset
trigger1 = var(0)=1
trigger1 = var(2)<20
trigger1 = playerIDexist(var(1))
v = 3+var(2)
value = var(1)

[state 30000]	;ID量把握
type = varadd
trigger1 = var(0)=1
trigger1 = playerIDexist(var(1))
v = 2
value = 1

[state 30000]	;許容値以上で最初へ
type = varset
trigger1 = var(0)=1
trigger1 = var(2)>=20
v = 2
value = 0

[state 30000]	;次のIDへ
type = varadd
trigger1 = var(0)=1
trigger1 = playerIDexist(var(1))
v = 1
value = 1

------------------------------- loop end ------------------------------------

[statedef 51010]
type     = A
movetype = I
physics  = N
ctrl     = 0
anim     = 20000

[State 10000,間違いで本体が来たら立ちへ移行]
type=selfstate
trigger1=!ishelper
value=0

[state 30000]
type = assertspecial
trigger1 = 1
flag = invisible
flag2 = noshadow

[state 30000]
type = Nothitby
trigger1 = 1
value = SCA

[state 30000]	;ID初期値設定開始
type = varset
trigger1 = var(30) = 0
trigger1 = var(31) = 0
v = 31
value = parent,var(1)+120+(parent,var(1)=58)*1000

[state 30000]	;既存ヘルパーの除外
type = varadd
trigger1 = var(30) = 0
trigger1 = var(31) > 0
trigger1 = !playerIDexist(var(31))
v = 31
value = -1

[state 30000]	;ID初期値確定フラグ
type = varadd
trigger1 = var(30) = 0
trigger1 = playerIDexist(var(31))
trigger1 = var(30):= 1
v = 31
value = 1

[state 30000]	;フィードバック
type = parentvarset
trigger1 = var(30) = 1
trigger1 = parent,var(1)<var(31)
v = 1
value = var(31)

[state 30000]	;消滅
type = destroyself
trigger1 = var(30) = 1



[ja.Quotes]
victory1 = "いかんいかん。どうも意地悪かったな、今のオレ"
victory2 = "エリナおばあちゃんを喜ばせる………それだけよ！"
victory3 = "おれとだまし比べてはりあうには１０年早いぜッ！"
victory4 = "おれ、ヒジョーに好きなのよ。だましの「手品」がッ！"
victory5 = "おれもジョースターの血すじってわけか…"
victory6 = "こいつの生命にだけは敬意を払うぜ"
victory7 = "生き残るためには手段は選ばんもんネーーー、ボクちゃん………"
victory8 = "これが現代の闘い方よ"
victory9 = "はっ！思わずカッとなってまたやっちまった！！"
victory10 = "またなんか策を考えなくっちゃあな。やれやれ……！！"
victory11 = "またまたやらせていただいたよん"
victory12 = "またまたやらせていただきましたァン！"
victory13 = "最近のおれの運勢、どーしてカッコイイ場面がぜんぜんねーの？"
victory14 = "中国の兵法書に「孫子」ってのがあってこう書かれている。『勝利とは戦う前に全てすでに決定されている』"
victory15 = "礼をいうぜ……グラッツェ！"