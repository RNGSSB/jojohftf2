










[Data]
life              = 960
power             = 10000
attack            = 100
defence           = 100
fall.defence_up   = 0
liedown.time      = 36
airjuggle         = 15
sparkno           = 2
guard.sparkno     = 40
KO.echo           = 0
volume            = 0
IntPersistIndex  = 55,59
FloatPersistIndex = 40





























[Size]
xscale = 0.90
yscale = 1.00
ground.back      = 15
ground.front     = 16
air.back         = 12
air.front        = 12
height           = 60
attack.dist      = 160
proj.attack.dist = 90
proj.doscale     = 0
head.pos         = -5,-90
mid.pos          = -5,-60
shadowoffset     = 0
draw.offset      = 0,0




[Velocity]
walk.fwd     = 2.5
walk.back    = -2.3
run.fwd      = 6,0
run.back     = -6,0
jump.neu     = 0,-9.0
jump.back    = -3.5
jump.fwd     = 3.5
runjump.back = -3.5,-10.8
runjump.fwd  = 3.5,10.8
airjump.neu  = 0,-6
airjump.back = -2.9
airjump.fwd  = 2.9




[Movement]
airjump.num     = 0
airjump.height  = 35
yaccel          = .5
stand.friction  = .85
crouch.friction = .82



[ja.Quotes]
victory1 = "ナメてんじゃねーぞ"
victory2 = "じゃあ死ね！覚悟はして来てんだろ？"
victory3 = "自分の幸福を願うならよォーーー\n背中見せてここから消えるんだ…"








;==============================================================================;
;Command Buffering File for: Homura Akemi                                      ;
;Tiny Buffering! An easy, simple and compact buffering system!                 ;
;by Vans                                                                       ;
;http://www.trinitymugen.net/                                                  ;
;==============================================================================;
;Introduction:
;Welcome to Tiny Buffering! A simple and compact system for handling command
; buffering in MUGEN.
;
;This system is capable of providing command buffering, reversed commands among
; many other features!
;
;To begin editing commands, skip over to the BUFFER DEFINITION section!
;
;Here is a small reference of the variables used for Tiny Buffering:
;Fundamental movement		= System variables  
;Buttons:				= var(0)  - var(19) 
;Special commands:			= var(20) - var(39)
;Super commands:			= var(40) - var(49)
;MISC. commands:			= var(50) - var(58)
;Mid-Air Jump Limiter:		= fvar(39)

[Statedef 10371 - Van's Buffer] ;Define a state number for the helper here. 
anim = 1251199		;This can be any animation that is empty.
ctrl = 0

;------------------------------[BASIC SETUP]-----------------------------------;
;Make sure the helper draws no graphics.
[State 10371, No graphics] 
type = AssertSpecial
trigger1 = 1
flag = invisible ;Just in case.
ignorehitpause = 1

;This controller binds the buffering helper to the root.
; it is only used for reference.
[State 10371, BindToRoot]
type = BindToRoot
trigger1 = 1
time = 1
pos = Const(size.head.pos.x),Const(size.head.pos.y) ;You can use this to check head.pos! 
ignorehitpause = 1

;================================================================================
; ------- Reisen/Chizuru compatibility --------
;===============================================================================

[State 10371, NO SPECIAL COMMANDS]
type = VarRangeSet
trigger1 = root,numprojid(131035)
value = 0
first = 20
last = 59

;------------------------------------------------------------------------------;

;----------------------------[BUFFER DECREASE]---------------------------------;
;This section of the code is used to decrease the timers for the buffering.
; Since the buttons are already fixed, only the COMMANDS section needs to be
; modified.

;--------------------------------[BUTTONS]-------------------------------------;
;NON-NEGATIVE EDGE:
;var(0)  = x
;var(1)  = y 
;var(2)  = z 
;var(3)  = a 
;var(4)  = b 
;var(5)  = c 
;var(6)  = Start
;NEGATIVE EDGE:
;var(7)  = x
;var(8)  = y
;var(9)  = z
;var(10) = a
;var(11) = b
;var(12) = c
;var(13) = Start
;DOUBLE/TRIPLE BUTTON:
;var(14) = x+y 
;var(15) = y+z
;var(16) = x+z
;var(17) = a+b
;var(18) = b+c
;var(19) = a+c

[State 10371, x Dec]
type = VarAdd
triggerall = root, HitPauseTime = 0 
trigger1 = var(0)
var(0) = -1

[State 10371, y Dec]
type = VarAdd
triggerall = root, HitPauseTime = 0 
trigger1 = var(1)
var(1) = -1

[State 10371, z Dec]
type = VarAdd
triggerall = root, HitPauseTime = 0 
trigger1 = var(2)
var(2) = -1

[State 10371, a Dec]
type = VarAdd
triggerall = root, HitPauseTime = 0 
trigger1 = var(3)
var(3) = -1

[State 10371, b Dec]
type = VarAdd
triggerall = root, HitPauseTime = 0 
trigger1 = var(4)
var(4) = -1

[State 10371, c Dec]
type = VarAdd
triggerall = root, HitPauseTime = 0 
trigger1 = var(5)
var(5) = -1

[State 10371, START Dec]
type = VarAdd
triggerall = root, HitPauseTime = 0 
trigger1 = var(6)
var(6) = -1

;------------------------ [NEGATIVE EDGE BUTTONS]------------------------------;
[State 10371, NEG x Dec]
type = VarAdd
triggerall = root, HitPauseTime = 0 
trigger1 = var(7) && !var(0)
var(7) = -1

[State 10371, NEG y Dec]
type = VarAdd
triggerall = root, HitPauseTime = 0 
trigger1 = var(8) && !var(1)
var(8) = -1

[State 10371, NEG z Dec]
type = VarAdd
triggerall = root, HitPauseTime = 0 
trigger1 = var(9) && !var(2)
var(9) = -1

[State 10371, NEG a Dec]
type = VarAdd
triggerall = root, HitPauseTime = 0 
trigger1 = var(10) && !var(3)
var(10) = -1

[State 10371, NEG b Dec]
type = VarAdd
triggerall = root, HitPauseTime = 0 
trigger1 = var(11) && !var(4)
var(11) = -1

[State 10371, NEG c Dec]
type = VarAdd
triggerall = root, HitPauseTime = 0 
trigger1 = var(12) && !var(5)
var(12) = -1

[State 10371, NEG START Dec]
type = VarAdd
triggerall = root, HitPauseTime = 0 
trigger1 = var(13) && !var(6)
var(13) = -1

;--------------------------------[COMMANDS]------------------------------------;
;This is where we shall decrease the buffers for the commands.
; to conserve space, it is preferred to add them one by one.
;var(20)  = DP
;var(21)  = QCF
;var(22)  = QCB
;var(23)  = DD
;var(24)  =
;var(25)  = 
;var(40)  = 
;var(41)  = 
;var(42)  = 
;var(43)  = 
;var(44)  = 
;------------------- SUPERS ---------------------------------------------------;
;------------------- SPECIALS -------------------------------------------------;
;;An example of decreasing the buffer timer for a quarter circle.
[State 10371, DP Dec]
type = VarAdd
triggerall = root, HitPauseTime = 0
trigger1 = var(20)
var(20) = -1

[State 10371, RDP Dec]
type = VarAdd
triggerall = root, HitPauseTime = 0
trigger1 = var(21)
var(21) = -1

[State 10371, QCF Dec]
type = VarAdd
triggerall = root, HitPauseTime = 0
trigger1 = var(22)
var(22) = -1

[State 10371, QCB Dec]
type = VarAdd
triggerall = root, HitPauseTime = 0
trigger1 = var(23)
var(23) = -1

[State 10371, DD Dec]
type = VarAdd
triggerall = root, HitPauseTime = 0
trigger1 = var(24)
var(24) = -1

[State 10371, QCF Dec]
type = VarAdd
triggerall = root, HitPauseTime = 0
trigger1 = var(40)
var(40) = -1

[State 10371, QCB Dec]
type = VarAdd
triggerall = root, HitPauseTime = 0
trigger1 = var(41)
var(41) = -1

[State 10371, DD Dec]
type = VarAdd
triggerall = root, HitPauseTime = 0
trigger1 = var(42)
var(42) = -1


;--------------------------[FUNDAMENTAL MOVEMENT]------------------------------;
;------ Running ---------------------------------

[State 10371, Reset]
type = VarSet
trigger1 = command != "FF" && command != "BB"
sysvar(0) = 0

[State 10371, FF Init]
type = VarSet
trigger1 = p2dist X >= 0 && command = "FF" && command != "holdback"
trigger2 = p2dist X < 0 && command = "BB" && command != "holdfwd"
sysvar(0) = 1

[State 10371, BB Init]
type = VarSet
trigger1 = p2dist X >= 0 && command = "BB" && command != "holdfwd"
trigger2 = p2dist X < 0 && command = "FF" && command != "holdback"
sysvar(0) = -1

;------ Holding a direction ---------------------

[State 10371, Reset]
type = Varset
trigger1 = root,HitPauseTime = 0
sysvar(1) = 0

[State 10371, FWD]
type = Varset
triggerall = !(sysvar(1)&2)
trigger1 = p2dist X >= 0 && command = "holdfwd"
trigger2 = p2dist X < 0 && command = "holdback"
sysvar(1) = sysvar(1)+2

[State 10371, BACK]
type = Varset
triggerall = !(sysvar(1)&4)
trigger1 = p2dist X >= 0 && command = "holdback"
trigger2 = p2dist X < 0 && command = "holdfwd"
sysvar(1) = sysvar(1)+4

[State 10371, DOWN]
type = Varset
triggerall = !(sysvar(1)&8)
trigger1 = command = "holddown"
sysvar(1) = sysvar(1)+8

[State 10371, UP]
type = Varset
triggerall = !(sysvar(1)&16)
trigger1 = command = "holdup"
sysvar(1) = sysvar(1)+16

;------ Tapping a direction ---------------------

[State 10371, Reset]
type = Varset
;trigger1 = root,HitPauseTime = 0
trigger1 = command != "fwd"
trigger2 = command != "back"
trigger3 = command != "down"
trigger4 = command != "up"
sysvar(2) = 0

[State 10371, FWD]
type = Varset
triggerall = !(sysvar(2)&2)
trigger1 = p2dist X >= 0 && command = "fwd"
trigger2 = p2dist X < 0 && command = "back"
sysvar(2) = sysvar(2)+2

[State 10371, BACK]
type = Varset
triggerall = !(sysvar(2)&4)
trigger1 = p2dist X >= 0 && command = "back"
trigger2 = p2dist X < 0 && command = "fwd"
sysvar(2) = sysvar(2)+4

[State 10371, DOWN]
type = Varset
triggerall = !(sysvar(2)&8)
trigger1 = command = "down"
sysvar(2) = sysvar(2)+8

[State 10371, UP]
type = Varset
triggerall = !(sysvar(2)&16)
trigger1 = command = "up"
sysvar(2) = sysvar(2)+16

;--------------------------[BUFFER DEFINITION]---------------------------------;
;----------------------------[BUTTON BUFFER]-----------------------------------;
;Leave the BUTTON BUFFER alone for compatibility.
;NON-NEGATIVE EDGE:
;var(0)  = (x)
;var(1)  = (y)
;var(2)  = (z)
;var(3)  = (a)
;var(4)  = (b)
;var(5)  = (c)
;var(6)  = Start
;NEGATIVE EDGE (RESERVED):
;var(7)  = (x)
;var(8)  = (y)
;var(9)  = (z)
;var(10) = (a)
;var(11) = (b)
;var(12) = (c)
;var(13) = Start
;DOUBLE/TRIPPLE BUTTON:
;var(14) = x+y 
;var(15) = y+z
;var(16) = x+z
;var(17) = a+b
;var(18) = b+c
;var(19) = a+c

[State 10371, x Init]
type = VarSet
trigger1 = command = "x"
var(0) = 3 ;This defines how long the buffering should be for this button.

[State 10371, y Init]
type = VarSet
trigger1 = command = "y"
var(1) = 3

[State 10371, z Init]
type = VarSet
trigger1 = command = "z"
var(2) = 3

[State 10371, a Init]
type = VarSet
trigger1 = command = "a"
var(3) = 3

[State 10371, b Init]
type = VarSet
trigger1 = command = "b"
var(4) = 3

[State 10371, c Init]
type = VarSet
trigger1 = command = "c"
var(5) = 3

[State 10371, START Init]
type = VarSet
trigger1 = command = "start"
var(6) = 3

;-----------------------  [DOUBLE BUTTON BUFFER]-------------------------------;
;This section allows you to detect when multiple buttons have been pressed.
;
;Checklist:
;
;var(14) = x+y 
;var(15) = y+z
;var(16) = x+z
;var(17) = a+b
;var(18) = b+c
;var(19) = a+c

[State 10371, DOUBLE BUTTON init]
type = null
trigger1 = var(14) := (((var(0) = [1,3]) && (var(1) = [1,3]))) ;x+y

[State 10371, DOUBLE BUTTON init]
type = null
trigger1 = var(15) := (((var(1) = [1,3]) && (var(2) = [1,3]))) ;y+z

[State 10371, DOUBLE BUTTON init]
type = null
trigger1 = var(16) := (((var(0) = [1,3]) && (var(2) = [1,3]))) ;x+z

[State 10371, DOUBLE BUTTON init]
type = null
trigger1 = var(17) := (((var(3) = [1,3]) && (var(4) = [1,3]))) ;a+b

[State 10371, DOUBLE BUTTON init]
type = null
trigger1 = var(18) := (((var(4) = [1,3]) && (var(5) = [1,3]))) ;b+c

[State 10371, DOUBLE BUTTON init]
type = null
trigger1 = var(19) := (((var(3) = [1,3]) && (var(5) = [1,3]))) ;a+c

;----------------------------[COMMAND BUFFER]----------------------------------;
;This is where we shall define the joystick commands that will be buffered.
;For each command, we need the normal and the reversed equivalents to be defined
; in the .cmd.
;For each command you add here, do not forget to decrease the timer accordingly
; in the BUFFER DECREASE section!
;As a rule of thumb, you want to add the more complicated commands first and 
; the more simple ones later, just as you would code the .cmd.
;
;Command checklist:
;
;var(20)  = DP
;var(21)  = RDP
;var(22)  = QCF
;var(23)  = QCB
;var(24)  = DD
;var(25)  = 
;var(40)  = 
;var(41)  = 
;var(42)  = 
;var(43)  = 
;var(44)  = 

[State 10371, DP Init]
type = VarSet
trigger1 = p2dist X >= 0 && command = "dp" && command != "holdback"
trigger2 = p2dist X < 0 && command = "rdp" && command != "holdfwd"
var(20) = 13

[State 10371, RDP Init]
type = VarSet
trigger1 = p2dist X >= 0 && command = "rdp" && command != "holdfwd"
trigger2 = p2dist X < 0 && command = "dp" && command != "holdback"
var(21) = 13

[State 10371, QCF Init]
type = VarSet
triggerall = command != "holddown"
trigger1 = p2dist X >= 0 && command = "qcf" && command != "holdback"
trigger2 = p2dist X < 0 && command = "qcb" && command != "holdfwd"
var(22) = 13

[State 10371, QCB Init]
type = VarSet
triggerall = command != "holddown"
trigger1 = p2dist X >= 0 && command = "qcb" && command != "holdfwd"
trigger2 = p2dist X < 0 && command = "qcf" && command != "holdback"
var(23) = 13

[State 10371, DD Init]
type = VarSet
triggerall = command != "holdup"
trigger1 = command = "dd"
var(24) = 11

 
 
[State 10371, QCF Init]
type = VarSet
triggerall = command != "holddown"
trigger1 = p2dist X >= 0 && command = "qcfx2" && command != "holdback"
trigger2 = p2dist X < 0 && command = "qcbx2" && command != "holdfwd"
var(40) = 19

[State 10371, QCB Init]
type = VarSet
triggerall = command != "holddown"
trigger1 = p2dist X >= 0 && command = "qcbx2" && command != "holdfwd"
trigger2 = p2dist X < 0 && command = "qcfx2" && command != "holdback"
var(41) = 19

[State 10371, QCF Init]
type = VarSet
triggerall = command != "holdup"
trigger1 = command = "dx3"   
var(42) = 17

[State 10371, Jump Limit]
type = varset
triggerall = fvar(39) != 1
trigger1 = root,command = "holdup"
fvar(39) = 1

[State 10371, Jump Limit]
type = varset
triggerall = fvar(39) = 1
trigger1 = root,command != "holdup"
fvar(39) = 0

[State 10371, DestroySelf]
type = DestroySelf
trigger1 = root,AIlevel > 0
ignorehitpause = 1









[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 170, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1




[Statedef 180]
type = S

[State 180, ステート変更]
type = ChangeState
triggerall = Time = 0
trigger1 = matchover
value = 186

[State 180, ステート変更]
type = ChangeState
trigger1 = Time = 0
value = 181


[Statedef 181]
type = S
ctrl = 0
anim = 181
velset = 0,0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 7, 3

[state 3003　ピストルズ　ヘルパー]
type = helper
trigger1 = time = 0
name = "s p"
helpertype = normal
stateno = 185
id = 185
pos = ceil(25*const(size.xscale)),ceil(-85*const(size.yscale))
postype = p1
ownpal = 1
size.xscale = 1
size.yscale = 1

[state 3003　ピストルズ　ヘルパー]
type = helper
trigger1 = time = 0
name = "s p"
helpertype = normal
stateno = 183
id = 183
pos = ceil(-40*const(size.xscale)),ceil(-75*const(size.yscale))
postype = p1
ownpal = 1
size.xscale = 1
size.yscale = 1

[state 3003　ピストルズ　ヘルパー]
type = helper
trigger1 = time = 0
name = "s p"
helpertype = normal
stateno = 184
id = 184
pos = ceil(0*const(size.xscale)),ceil(-100*const(size.yscale))
postype = p1
ownpal = 1
size.xscale = 1
size.yscale = 1

[state 3003　ピストルズ　ヘルパー]
type = helper
trigger1 = time = 0
name = "s p"
helpertype = normal
stateno = 182
id = 182
pos = ceil(12*const(size.xscale)),ceil(-62*const(size.yscale))
postype = p1
ownpal = 1
size.xscale = 1
size.yscale = 1

[state 3003　ピストルズ　ヘルパー]
type = helper
trigger1 = time = 0
name = "s p"
helpertype = normal
stateno = 183
id = 183
pos = ceil(20*const(size.xscale)),ceil(-35*const(size.yscale))
postype = p1
ownpal = 1
size.xscale = 1
size.yscale = 1

[state 3003　ピストルズ　ヘルパー]
type = helper
trigger1 = time = 0
name = "s p"
helpertype = normal
stateno = 184
id = 184
pos = ceil(-30*const(size.xscale)),ceil(-35*const(size.yscale))
postype = p1
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1


[Statedef 182]
type = S
movetype = I
physics = S
ctrl = 0
anim = 182
velset = 0,0
sprpriority = 3

[State 195, ステート変更]
type = ChangeState
trigger1 = root,stateno != 181
value = 1004


[Statedef 183]
type = S
movetype = I
physics = S
ctrl = 0
anim = 183
velset = 0,0
sprpriority = 3

[State 195, ステート変更]
type = ChangeState
trigger1 = root,stateno != 181
value = 1004


[Statedef 184]
type = S
movetype = I
physics = S
ctrl = 0
anim = 184
velset = 0,0
sprpriority = 3

[State 195, ステート変更]
type = ChangeState
trigger1 = root,stateno != 181
value = 1004


[Statedef 185]
type = S
movetype = I
physics = S
ctrl = 0
anim = 185
velset = 0,0
sprpriority = 3

[State 195, ステート変更]
type = ChangeState
trigger1 = root,stateno != 181
value = 1004


[Statedef 186]
type = S
ctrl = 0
anim = 181
velset = 0,0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 4, 10

[State -3,Super]
type = Helper
triggerall = !Numhelper(186)
trigger1 = animelem = 1
id = 187
name = "pistors"
pos = 0,0
postype = P1
stateno = 187
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1


[Statedef 187]
type = S
anim = 29999

[State 1000, Spark]
type = Explod
trigger1 = time = 1
Anim = 186
id = 186
pos = 160, 130
postype = left
ownpal = 1
pausemovetime = 99999999
ontop = 1
removetime = -1
facing = root,facing

[State 1000, Spark]
type = Explod
trigger1 = time = 15
Anim = 187
id = 187
pos = 160, 130

postype = left
ownpal = 1
pausemovetime = 99999999
ontop = 1
removetime = -1
facing = root,facing
scale = 2.0, 2.0

[State 4900, 16]
type = modifyExplod
trigger1 = Time <= 15
Id = 186
scale = .5+(.08*Time)*root,const(size.xscale),.5+(.08*Time)*root,const(size.yscale)

[State 903, EnvShake]
type = EnvShake
trigger1 = time = 15
time = 20
ampl = 8

[State 181, 2]
type = PlaySnd
trigger1 = time = 15
value = 1,14


[Statedef 191]
type = S
ctrl = 0
anim = 190
velset = 0,0

[State 1000, var]
type = varset
trigger1 = time = 0
var(55) = 6

[State 3000, ゲージ増加]
type = PowerAdd
trigger1 = time = 0
triggerall = power <= 999
value = 1000

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 3
value = 3, 4

[State 191, アニメ変更]
type = ChangeAnim
trigger1 = RoundState = 0
value = 190

[State 191, 特殊効果]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
































[Statedef 195]
type = S
movetype = I
physics = S
ctrl = 0
anim = 195
velset = 0,0
sprpriority = 2

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = 3, 13
channel = 0

[state 3003　ピストルズ　ヘルパー]
type = helper
trigger1 = time = 0
name = "s p"
helpertype = normal
stateno = 196
id = 196
pos = ceil(-30*const(size.xscale)),ceil(-105*const(size.yscale))
postype = p1
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 195, ステート変更]
type = ChangeState
trigger1 = Time = 105
value = 0
ctrl = 1


[Statedef 196]
type = S
movetype = I
physics = S
ctrl = 0
anim = 196
velset = 0,0
sprpriority = 3

[State 195, ステート変更]
type = ChangeState
trigger1 = root,stateno != 195
trigger2 = Time = 100
value = 1004











































































































[Statedef 930]
type = A
movetype = I
physics = A
anim = 5210
velset = -3,-5

[State 0, target]
type = Sprpriority
trigger1 = var(49)=10000
value = 1

[State 0, target]
type = targetbind
trigger1 = !time
pos = 50,0

[State 0, target]
type = targetstate
trigger1 = !time
value = 940

[State 0, nhb]
type = nothitby
trigger1 = 1
value = SCA


[Statedef 940]
type = A
movetype = I
physics = N
velset = -3,-6

[State 0, pos]
type = posset
trigger1 = !time
y = 0

[State 0, anim]
type = changeanim
trigger1 = !time
value = 5210

[State 0, nhb]
type = nothitby
trigger1 = 1
value = SCA

[State 0, vel]
type = veladd
trigger1 = 1
y = .45

[State 0, end]
type = selfstate
trigger1 = vel y > 0
trigger1 = pos y >= 0
value = 52
ctrl = 1





[Statedef 360]
type = S
movetype = I
physics = S
ctrl = 0
anim = 360
velset = 0,0
sprpriority = 3

[State 200, 落下]
type = posset
trigger1 = anim = 361
y = 0

[State 200, 落下]
type = velset
trigger1 = anim = 361
y = 0

[State 200, 落下]
type = veladd
trigger1 = anim = 360
y = 0.5

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = anim = 360
trigger1 = time = 0
value = 1, 13

[State 200, アニメ変更]
type = Changeanim
trigger1 = anim = 360
trigger1 = pos y >= -10
value = 361

[State 195, ステート変更]
type = destroyself
trigger1 = anim = 361
trigger1 = animTime = 0

弾丸装填
[Statedef 370]
type = S
movetype = I
physics = S
ctrl = 0
anim = 370
velset = 0,0
sprpriority = 3

[State 200, 落下]
type = veladd
trigger1 = anim = 370
y = 0.5

[State 195, ステート変更]
type = destroyself
trigger1 = animTime = 0




































[Statedef 4444]
type = S
movetype = I
physics = S
ctrl = 0
anim = 4444
velset = 0,0
sprpriority = 3

[State 200, 落下]
type = posset
trigger1 = anim = 4445
y = 0

[State 200, 落下]
type = velset
trigger1 = anim = 4445
y = 0

[State 200, 落下]
type = veladd
trigger1 = anim = 4444
y = 0.5

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = anim = 4445
trigger1 = animelemtime(1) = 1
value = 1, 13

[State 200, アニメ変更]
type = Changeanim
trigger1 = anim = 4444
trigger1 = pos y >= -10
value = 4445

[State 195, ステート変更]
type = destroyself
trigger1 = anim = 4445
trigger1 = animTime = 0
















































































[Statedef 1252]
type    = A
movetype= A
physics = N
juggle  = 0
poweradd= 0
velset = 0,0
anim = 1202
ctrl = 0
sprpriority = 4



[State 1000, 7]
type = parentvaradd
trigger1 = !time
var(53) = 1

[State 1000, 7]
type = parentvarset
trigger1 = root,var(53) = 6
var(53) = 0



[State 1000, 7]
type = velset
trigger1 = time = 3
x = 6*parent,const(size.xscale)
y = 5*parent,const(size.xscale)

[State 1000, 7]
type = assertspecial
trigger1 = 1
flag = noshadow

[State 1000, 7　無敵]
type = nothitby
trigger1 = 1
value = SCA
time = 1

[State 1000, 音を鳴らす 声]
type = PlaySnd
trigger1 = time = 0
value = 3, 11

[State 1000, 音を鳴らす 反射音]
type = PlaySnd
trigger1 = time = 5
value = 4, 11

[State 1000, アニメ変更　下方向]
type = Changeanim
trigger1 = time = 5
value = 1006

[State 1000, 7　速度変更　停止　下方向]
type = velset
trigger1 = time = 5
x = 0
y = 0

[State 1000, 7]
type = changestate
trigger1 = pos x <= -240 || pos x >= 240
trigger2 =  Pos Y >= -20
trigger3 = anim = 1006
trigger3 = animtime = 0
trigger4 = NumHelper(1251) = 0
value = 1004









































[Statedef 1100]
type    = S
movetype= A
physics = S
poweradd= 110
velset = 0,0
anim = 1100
ctrl = 0
sprpriority = 2

[state 3003]
type = helper
triggerall = numhelper(9898) = 0
trigger1 = time = 0
name = "hantei"
helpertype = normal
stateno = 9898
id = 9898
pos = ceil(0*const(size.xscale)),ceil(0*const(size.yscale))
postype = p1
ownpal = 1

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 3, 7
channel = 0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 5
value = 3, 5

[State 1100, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0, 2

[State 1100, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[state 3003]
type = helper
trigger1 = animelemtime(5) = 1
name = "tama"
helpertype = normal
stateno = 1101
id = 1101
pos = ceil(80*const(size.xscale)),ceil(-90*const(size.yscale))
postype = p1
ownpal = 1

[state 3003]
type = helper
trigger1 = animelemtime(5) = 1
name = "s p A"
helpertype = normal
stateno = 1102
id = 1001
pos = ceil(83*const(size.xscale)),ceil(-90*const(size.yscale))
postype = p1
ownpal = 1
size.xscale = 1
size.yscale = 1

[state 3003]
type = helper
trigger1 = animelemtime(5) = 1
name = "s p B"
helpertype = normal
stateno = 1103
id = 1001
pos = ceil(80*const(size.xscale)),ceil(-90*const(size.yscale))
postype = p1
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 1000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


[Statedef 9898]
type    = S
movetype= A
physics = S
poweradd= 110
velset = 0,0
anim = 29999
ctrl = 0
sprpriority = 2

[State 1000, 7　消滅]
type = destroyself
trigger1 = parent,movetype = H
trigger1 = (parent,stateno != [120,169])


[Statedef 1101]
type    = A
movetype= A
physics = N
juggle  = 0
poweradd= 0
velset = 0,0
anim = 1001
ctrl = 0
sprpriority = 3

[State 1000, 7]
type = assertspecial
trigger1 = 1
flag = noshadow

[State 1000, 7　無敵]
type = nothitby
trigger1 = 1
value = SCA
time = 1

[State 1000, 7　初速]
type = velset
trigger1 = time = 3
x = 10*parent,const(size.xscale)

[State 1000, 7　停止]
type = velset
triggerall = numhelper(9898) = 1
trigger1 = time = 15
x = 0*parent,const(size.xscale)

[State 1000, 7　速度矯正]
type = velset
triggerall = numhelper(9898) = 0
trigger1 = vel x = 0
trigger1 = vel y = 0
trigger1 = time >= 15
trigger1 = time <= 20
x = 10*parent,const(size.xscale)
y = 0*parent,const(size.xscale)

[State 1000, 7　折り返し]
type = velset
triggerall = numhelper(9898) = 1
trigger1 = time = 20
x = -15*parent,const(size.xscale)

[State 1000, 音を鳴らす]
type = PlaySnd
triggerall = numhelper(9898) = 1
trigger1 = time = 18
value = 3, 11

[State 1000, 音を鳴らす　反射音]
type = PlaySnd
triggerall = numhelper(9898) = 1
trigger1 = time = 18
value = 4, 11

[State 1000, 7　停止]
type = velset
triggerall = numhelper(9898) = 1
trigger1 = time = 28
x = 0*parent,const(size.xscale)

[State 1000, 7　速度矯正]
type = velset
triggerall = numhelper(9898) = 0
trigger1 = vel x = 0
trigger1 = vel y = 0
trigger1 = time >= 28
trigger1 = time <= 33
x = -15*parent,const(size.xscale)
y = 0*parent,const(size.xscale)

[State 1000, 7　折り返し]
type = velset
triggerall = numhelper(9898) = 1
trigger1 = time = 33
x = 20*parent,const(size.xscale)

[State 1000, 音を鳴らす　反射音]
type = PlaySnd
triggerall = numhelper(9898) = 1
trigger1 = time = 33
value = 4, 11

[State 610, 3　ヒットデフ]
type = HitDef
trigger1 = time %2 = 0
attr = A, SP
damage = 15,6
hitflag = MAF
guardflag = HA
priority = 5, Hit
pausetime = 1,4
sparkno = s855
guard.sparkno = s840
sparkxy = -10,0
hitsound   = s1,3
guardsound = s1,4
animtype = light
ground.type = High
ground.slidetime = 11
ground.hittime  = 11
guard.hittime  = 9
ground.velocity = -3*parent,const(size.xscale)
air.velocity = -1.2*parent,const(size.xscale),-5
getpower = 30,0
guard.kill = 0

[State 1000, 7　消滅]
type = destroyself
trigger1 = pos x <= -240 || pos x >= 240
trigger2 = pos y > 10


[Statedef 1102]
type    = A
movetype= A
physics = N
juggle  = 0
poweradd= 0
velset = 0,0
anim = 1104
ctrl = 0
sprpriority = 4

[State 1000, 7　初速]
type = velset
trigger1 = time = 3
x = 10*parent,const(size.xscale)

[State 1000, 7　停止]
type = velset
trigger1 = time = 15
x = 0*parent,const(size.xscale)

[State 1027, Spark　火花]
type = Explod
trigger1 = time = 15
anim = 871
ID = 871
pos = -10,0
postype = p1
sprpriority = 3
bindtime = 1
supermovetime = 99
pausemovetime = 99

[State 1000, 7　アニメ変更　蹴り]
type = changeanim
trigger1 = time = 15
value = 1102

[State 1000, 7]
type = assertspecial
trigger1 = 1
flag = noshadow

[State 1000, 7　無敵]
type = nothitby
trigger1 = 1
value = SCA
time = 1

[State 215　ヘルパー消滅]
type = DestroySelf
trigger1 = root,movetype = H

[State 1000, ステート変更]
type = ChangeState
trigger1 = Anim = 1102
trigger1 = AnimTime = 0
trigger2 = NumHelper(1101) = 0
value = 1003


[Statedef 1103]
type    = A
movetype= A
physics = N
juggle  = 0
poweradd= 0
velset = 0,0
anim = 1104
ctrl = 0
sprpriority = 4

[State 1000, 7　停止]
type = velset
trigger1 = time = 15
x = 0*parent,const(size.xscale)

[State 1000, 7　アニメ変更　折り返し]
type = changeanim
trigger1 = time = 15
value = 1105

[State 1000, 7　速度変更　折り返し]
type = velset
trigger1 = time = 20
x = -15*parent,const(size.xscale)

[State 1000, 7　初速]
type = velset
trigger1 = time = 3
x = 10*parent,const(size.xscale)

[State 1000, 7　停止２]
type = velset
trigger1 = time = 30
x = 0*parent,const(size.xscale)

[State 1027, Spark　火花２]
type = Explod
trigger1 = time = 30
anim = 871
ID = 871
pos = 10,0
postype = p1
sprpriority = 3
bindtime = 1
supermovetime = 99
pausemovetime = 99

[State 1000, 7　アニメ変更　蹴り]
type = changeanim
trigger1 = time = 30
value = 1103

[State 1000, 7]
type = assertspecial
trigger1 = 1
flag = noshadow

[State 1000, 7　無敵]
type = nothitby
trigger1 = 1
value = SCA
time = 1

[State 215　ヘルパー消滅]
type = DestroySelf
trigger1 = root,movetype = H

[State 1000, ステート変更]
type = ChangeState
trigger1 = Anim = 1103
trigger1 = AnimTime = 0
trigger2 = NumHelper(1101) = 0
value = 1004


[Statedef 1110]
type    = S
movetype= A
physics = S
poweradd= 110
velset = 0,0
anim = 1100
ctrl = 0
sprpriority = 2

[state 3003]
type = helper
triggerall = numhelper(9898) = 0
trigger1 = time = 0
name = "hantei"
helpertype = normal
stateno = 9898
id = 9898
pos = ceil(0*const(size.xscale)),ceil(0*const(size.yscale))
postype = p1
ownpal = 1

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 3, 7
channel = 0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 5
value = 3, 5

[State 1100, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0, 2

[State 1100, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[state 3003]
type = helper
trigger1 = animelemtime(5) = 1
name = "tama"
helpertype = normal
stateno = 1111
id = 1101
pos = ceil(80*const(size.xscale)),ceil(-90*const(size.yscale))
postype = p1
ownpal = 1

[state 3003]
type = helper
trigger1 = animelemtime(5) = 1
name = "s p A"
helpertype = normal
stateno = 1112
id = 1001
pos = ceil(83*const(size.xscale)),ceil(-90*const(size.yscale))
postype = p1
ownpal = 1
size.xscale = 1
size.yscale = 1

[state 3003]
type = helper
trigger1 = animelemtime(5) = 1
name = "s p B"
helpertype = normal
stateno = 1113
id = 1001
pos = ceil(80*const(size.xscale)),ceil(-90*const(size.yscale))
postype = p1
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 1000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


[Statedef 1111]
type    = A
movetype= A
physics = N
juggle  = 0
poweradd= 0
velset = 0,0
anim = 1001
ctrl = 0
sprpriority = 3

[State 1000, 7]
type = assertspecial
trigger1 = 1
flag = noshadow

[State 1000, 7]
type = nothitby
trigger1 = 1
value = SCA
time = 1

[State 1000, 7]
type = velset
trigger1 = time = 3
x = 10*parent,const(size.xscale)

[State 1000, 7]
type = velset
triggerall = numhelper(9898) = 1
trigger1 = time = 30
x = 0*parent,const(size.xscale)

[State 1000, 7　速度矯正]
type = velset
triggerall = numhelper(9898) = 0
trigger1 = vel x = 0
trigger1 = vel y = 0
trigger1 = time >= 30
trigger1 = time <= 35
x = 10*parent,const(size.xscale)
y = 0*parent,const(size.xscale)

[State 1000, 7]
type = velset
triggerall = numhelper(9898) = 1
trigger1 = time = 35
x = -15*parent,const(size.xscale)

[State 1000, 音を鳴らす]
type = PlaySnd
triggerall = numhelper(9898) = 1
trigger1 = time = 33
value = 3, 11

[State 1000, 音を鳴らす]
type = PlaySnd
triggerall = numhelper(9898) = 1
trigger1 = time = 33
value = 4, 11

[State 1000, 7]
type = velset
triggerall = numhelper(9898) = 1
trigger1 = time = 43
x = 0*parent,const(size.xscale)

[State 1000, 7　速度矯正]
type = velset
triggerall = numhelper(9898) = 0
trigger1 = vel x = 0
trigger1 = vel y = 0
trigger1 = time >= 43
trigger1 = time <= 48
x = -15*parent,const(size.xscale)
y = 0*parent,const(size.xscale)

[State 1000, 7]
type = velset
triggerall = numhelper(9898) = 1
trigger1 = time = 48
x = 20*parent,const(size.xscale)

[State 1000, 音を鳴らす]
type = PlaySnd
triggerall = numhelper(9898) = 1
trigger1 = time = 48
value = 4, 11

[State 610, 3]
type = HitDef
trigger1 = time %2 = 0
attr = A, SP
damage = 15,6
hitflag = MAF
guardflag = HA
priority = 5, Hit
pausetime = 1,4
sparkno = s855
guard.sparkno = s840
sparkxy = -10,0
hitsound   = s1,3
guardsound = s1,6
animtype = light
ground.type = High
ground.slidetime = 11
ground.hittime  = 11
guard.hittime  = 9
ground.velocity = -3*parent,const(size.xscale)
air.velocity = -1.2*parent,const(size.xscale),-5
getpower = 30,0
guard.kill = 0

[State 1000, 7]
type = destroyself
trigger1 = pos x <= -280 || pos x >= 280
trigger2 = pos y > 10


[Statedef 1112]
type    = A
movetype= A
physics = N
juggle  = 0
poweradd= 0
velset = 0,0
anim = 1104
ctrl = 0
sprpriority = 4

[State 1000, 7]
type = velset
trigger1 = time = 3
x = 10*parent,const(size.xscale)

[State 1000, 7]
type = velset
trigger1 = time = 30
x = 0*parent,const(size.xscale)

[State 1000, 7]
type = changeanim
trigger1 = time = 30
value = 1102

[State 1027, Spark]
type = Explod
trigger1 = time = 30
anim = 871
ID = 871
pos = -10,0
postype = p1
sprpriority = 3
bindtime = 1
supermovetime = 99
pausemovetime = 99

[State 1000, 7]
type = assertspecial
trigger1 = 1
flag = noshadow

[State 1000, 7]
type = nothitby
trigger1 = 1
value = SCA
time = 1

[State 215　ヘルパー消滅]
type = DestroySelf
trigger1 = root,movetype = H

[State 1000, ステート変更]
type = ChangeState
trigger1 = Anim = 1102
trigger1 = AnimTime = 0
trigger2 = NumHelper(1101) = 0
value = 1003


[Statedef 1113]
type    = A
movetype= A
physics = N
juggle  = 0
poweradd= 0
velset = 0,0
anim = 1104
ctrl = 0
sprpriority = 4

[State 1000, 7]
type = velset
trigger1 = time = 30
x = 0*parent,const(size.xscale)

[State 1000, 7]
type = changeanim
trigger1 = time = 30
value = 1105

[State 1000, 7]
type = velset
trigger1 = time = 35
x = -15*parent,const(size.xscale)

[State 1000, 7]
type = velset
trigger1 = time = 3
x = 10*parent,const(size.xscale)

[State 1000, 7]
type = velset
trigger1 = time = 45
x = 0*parent,const(size.xscale)

[State 1027, Spark]
type = Explod
trigger1 = time = 45
anim = 871
ID = 871
pos = 10,0
postype = p1
sprpriority = 3
bindtime = 1
supermovetime = 99
pausemovetime = 99

[State 1000, 7]
type = changeanim
trigger1 = time = 45
value = 1103

[State 1000, 7]
type = assertspecial
trigger1 = 1
flag = noshadow

[State 1000, 7]
type = nothitby
trigger1 = 1
value = SCA
time = 1

[State 215　ヘルパー消滅]
type = DestroySelf
trigger1 = root,movetype = H

[State 1000, ステート変更]
type = ChangeState
trigger1 = Anim = 1103
trigger1 = AnimTime = 0
trigger2 = NumHelper(1101) = 0
value = 1004


[Statedef 1120]
type    = S
movetype= A
physics = S
poweradd= 110
velset = 0,0
anim = 1100
ctrl = 0
sprpriority = 2

[state 3003]
type = helper
triggerall = numhelper(9898) = 0
trigger1 = time = 0
name = "hantei"
helpertype = normal
stateno = 9898
id = 9898
pos = ceil(0*const(size.xscale)),ceil(0*const(size.yscale))
postype = p1
ownpal = 1

[State 1000, 音を鳴らす　いけぇ]
type = PlaySnd
trigger1 = animelem = 1
value = 3, 7
channel = 0

[State 1000, 音を鳴らす　発砲音]
type = PlaySnd
trigger1 = animelem = 5
value = 3, 5

[state 3003　弾丸]
type = helper
trigger1 = animelemtime(5) = 1
name = "tama"
helpertype = normal
stateno = 1121
id = 1101
pos = ceil(80*const(size.xscale)),ceil(-90*const(size.yscale))
postype = p1
ownpal = 1

[state 3003　ピストルズＡ]
type = helper
trigger1 = animelemtime(5) = 1
name = "s p A"
helpertype = normal
stateno = 1122
id = 1122
pos = ceil(83*const(size.xscale)),ceil(-90*const(size.yscale))
postype = p1
ownpal = 1
size.xscale = 1
size.yscale = 1

[state 3003　ピストルズＢ]
type = helper
trigger1 = animelemtime(5) = 1
name = "s p B"
helpertype = normal
stateno = 1123
id = 1123
pos = ceil(80*const(size.xscale)),ceil(-90*const(size.yscale))
postype = p1
ownpal = 1
size.xscale = 1
size.yscale = 1

[state 3003　ピストルズＣ]
type = helper
trigger1 = animelemtime(5) = 1
name = "s p C"
helpertype = normal
stateno = 1124
id = 1124
pos = ceil(83*const(size.xscale)),ceil(-90*const(size.yscale))
postype = p1
ownpal = 1
size.xscale = 1
size.yscale = 1

[state 3003　ピストルズＤ]
type = helper
trigger1 = animelemtime(5) = 1
name = "s p D"
helpertype = normal
stateno = 1125
id = 1125
pos = ceil(80*const(size.xscale)),ceil(-90*const(size.yscale))
postype = p1
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 1000, ステート変更　終了]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


[Statedef 1121]
type    = A
movetype= A
physics = N
juggle  = 0
poweradd= 0
velset = 0,0
anim = 1001
ctrl = 0
sprpriority = 3

[State 1000, 7]
type = assertspecial
trigger1 = 1
flag = noshadow

[State 1000, 7　無敵]
type = nothitby
trigger1 = 1
value = SCA
time = 1

[State 1000, 7　初速]
type = velset
trigger1 = time = 3
x = 10*parent,const(size.xscale)

[State 1000, 7　停止]
type = velset
triggerall = numhelper(9898) = 1
trigger1 = time = 15
x = 0*parent,const(size.xscale)
y = 0*parent,const(size.xscale)

[State 1000, 7　速度矯正]
type = velset
triggerall = numhelper(9898) = 0
trigger1 = vel x = 0
trigger1 = vel y = 0
trigger1 = time >= 15
trigger1 = time <= 20
x = 10*parent,const(size.xscale)

[State 1000, 7　速度変更　上方向]
type = velset
triggerall = numhelper(9898) = 1
trigger1 = time = 20
x = 0*parent,const(size.xscale)
y = -5*parent,const(size.xscale)

[State 810, Bind 1　位置変更]
type = posadd
triggerall = numhelper(9898) = 1
trigger1 = time = 20
y = 0

[State 1000, 7　アニメ変更　曲がる]
type = changeanim
triggerall = numhelper(9898) = 1
trigger1 = time = 20
value = 1107

[State 1000, 7　停止]
type = velset
triggerall = numhelper(9898) = 1
trigger1 = time = 25
x = 0*parent,const(size.xscale)
y = 0*parent,const(size.xscale)

[State 1000, 7　速度矯正]
type = velset
triggerall = numhelper(9898) = 0
trigger1 = time >= 25
trigger1 = time <= 30
trigger1 = vel x = 0
trigger1 = vel y = 0
x = 0*parent,const(size.xscale)
y = -5*parent,const(size.xscale)

[State 1000, 7　速度変更　折り返し]
type = velset
triggerall = numhelper(9898) = 1
trigger1 = time = 30
x = -10*parent,const(size.xscale)
y = 0*parent,const(size.xscale)

[State 1000, 7　アニメ変更　横方向]
type = changeanim
triggerall = numhelper(9898) = 1
trigger1 = time = 30
value = 1109

[State 1000, 7　停止]
type = velset
triggerall = numhelper(9898) = 1
trigger1 = time = 45
x = 0*parent,const(size.xscale)
y = 0*parent,const(size.xscale)

[State 1000, 7　速度矯正]
type = velset
triggerall = numhelper(9898) = 0
trigger1 = vel x = 0
trigger1 = vel y = 0
trigger1 = time >= 45
trigger1 = time <= 50
x = -10*parent,const(size.xscale)
y = 0*parent,const(size.xscale)

[State 1000, 7　アニメ変更　下方向]
type = velset
triggerall = numhelper(9898) = 1
trigger1 = time = 50
x = 0*parent,const(size.xscale)
y = 10*parent,const(size.xscale)

[State 1000, 7　アニメ変更　曲がる]
type = changeanim
triggerall = numhelper(9898) = 1
trigger1 = time = 50
value = 1108

[State 1000, 7　停止]
type = velset
triggerall = numhelper(9898) = 1
trigger1 = time = 55
x = 0*parent,const(size.xscale)
y = 0*parent,const(size.xscale)

[State 1000, 7　速度矯正]
type = velset
triggerall = numhelper(9898) = 0
trigger1 = vel x = 0
trigger1 = vel y = 0
trigger1 = time >= 55
trigger1 = time <= 60
x = 0*parent,const(size.xscale)
y = 10*parent,const(size.xscale)

[State 1000, 7　アニメ変更　前方向]
type = velset
triggerall = numhelper(9898) = 1
trigger1 = time = 60
x = 10*parent,const(size.xscale)
y = 0*parent,const(size.xscale)

[State 810, Bind 1　位置変更]
type = posadd
triggerall = numhelper(9898) = 1
trigger1 = time = 60
y = 20

[State 1000, 7　アニメ変更　横方向]
type = changeanim
triggerall = numhelper(9898) = 1
trigger1 = time = 60
value = 1110

[State 1000, 音を鳴らす　イェーイ]
type = PlaySnd
triggerall = numhelper(9898) = 1
trigger1 = time = 28
value = 3, 11

[State 1000, 音を鳴らす　反射音]
type = PlaySnd
triggerall = numhelper(9898) = 1
trigger1 = time = 15
trigger2 = time = 25
trigger3 = time = 45
trigger4 = time = 60
value = 4, 11

[State 610, 3　ヒットデフ]
type = HitDef
trigger1 = time %2 = 0
attr = A, SP
damage = ceil(ifelse((15*root,fvar(4))<3,3,(15*root,fvar(4)))),5
hitflag = MAF
guardflag = HA
priority = 5, Hit
pausetime = 1,4
sparkno = s855
guard.sparkno = s840
sparkxy = -10,0
hitsound   = s1,3
guardsound = s1,6
animtype = light
ground.type = High
ground.slidetime = 11
ground.hittime  = 11
guard.hittime  = 9
ground.velocity = -3*parent,const(size.xscale)
air.velocity = -1.2*parent,const(size.xscale),-5
getpower = 30,0
guard.kill = 0

[State 1000, 7　終了]
type = destroyself
trigger1 = pos x <= -280 || pos x >= 280
trigger2 = time = 100
trigger3 = pos y > 10


[Statedef 1122]
type    = A
movetype= A
physics = N
juggle  = 0
poweradd= 0
velset = 0,0
anim = 1104
ctrl = 0
sprpriority = 4

[State 1000, 7 初速]
type = velset
trigger1 = time = 3
x = 10*parent,const(size.xscale)

[State 1000, 7　停止]
type = velset
trigger1 = time = 13
x = 0*parent,const(size.xscale)

[State 1000, 7　アニメ変更　蹴り]
type = changeanim
trigger1 = time = 13
value = 1102

[State 810, Bind 1　]
type = posadd
trigger1 = time = 13
x = 20

[State 1027, Spark　火花]
type = Explod
trigger1 = time = 13
anim = 871
ID = 871
pos = -10,0
postype = p1
sprpriority = 3
bindtime = 1
supermovetime = 99
pausemovetime = 99

[State 1000, 7]
type = assertspecial
trigger1 = 1
flag = noshadow

[State 1000, 7　無敵]
type = nothitby
trigger1 = 1
value = SCA
time = 1

[State 215　ヘルパー消滅]
type = DestroySelf
trigger1 = root,movetype = H

[State 1000, ステート変更　終了]
type = ChangeState
trigger1 = Anim = 1102
trigger1 = AnimTime = 0
trigger2 = NumHelper(1101) = 0
value = 1003


[Statedef 1123]
type    = A
movetype= A
physics = N
juggle  = 0
poweradd= 0
velset = 0,0
anim = 1104
ctrl = 0
sprpriority = 4

[State 1000, 7　停止]
type = velset
trigger1 = time = 20
x = 0*parent,const(size.xscale)
y = 0*parent,const(size.xscale)

[State 1000, 7　速度変更　上方向]
type = velset
trigger1 = time = 15
x = 0*parent,const(size.xscale)
y = -5*parent,const(size.xscale)

[State 1000, 7　アニメ変更　上方向]
type = changeanim
trigger1 = time = 15
value = 1111

[State 1000, 7　初速]
type = velset
trigger1 = time = 3
x = 10*parent,const(size.xscale)

[State 1027, Spark　火花]
type = Explod
trigger1 = time = 25
anim = 871
ID = 871
pos = 10,0
postype = p1
sprpriority = 3
bindtime = 1
supermovetime = 99
pausemovetime = 99

[State 1000, 7　アニメ変更　蹴り]
type = changeanim
trigger1 = time = 25
value = 1102

[State 810, Bind 1　位置調整]
type = posadd
trigger1 = time = 15
x = 8

[State 1000, 7]
type = assertspecial
trigger1 = 1
flag = noshadow

[State 1000, 7　無敵]
type = nothitby
trigger1 = 1
value = SCA
time = 1

[State 215　ヘルパー消滅]
type = DestroySelf
trigger1 = root,movetype = H

[State 1000, ステート変更　終了]
type = ChangeState
trigger1 = Anim = 1102
trigger1 = AnimTime = 0
trigger2 = NumHelper(1101) = 0
value = 1003


[Statedef 1124]
type    = A
movetype= A
physics = N
juggle  = 0
poweradd= 0
velset = 0,0
anim = 1104
ctrl = 0
sprpriority = 4

[State 1000, 7　速度変更　上方向]
type = velset
trigger1 = time = 15
x = 0*parent,const(size.xscale)
y = -5*parent,const(size.xscale)

[State 1000, 7　アニメ変更　上方向]
type = changeanim
trigger1 = time = 15
value = 1111

[State 1000, 7　停止]
type = velset
trigger1 = time = 20
x = 0*parent,const(size.xscale)
y = 0*parent,const(size.xscale)

[State 1000, 7　速度変更　折り返し]
type = velset
trigger1 = time = 25
x = -10*parent,const(size.xscale)
y = 0*parent,const(size.xscale)

[State 1000, 7　アニメ変更　折り返し]
type = changeanim
trigger1 = time = 25
value = 1105

[State 1000, 7　初速]
type = velset
trigger1 = time = 3
x = 10*parent,const(size.xscale)

[State 1000, 7　停止]
type = velset
trigger1 = time = 45
x = 0*parent,const(size.xscale)
y = 0*parent,const(size.xscale)

[State 1027, Spark]
type = Explod
trigger1 = time = 45
anim = 871
ID = 871
pos = 10,0
postype = p1
sprpriority = 3
bindtime = 1
supermovetime = 99
pausemovetime = 99

[State 1000, 7　アニメ変更　蹴り]
type = changeanim
trigger1 = time = 45
value = 1103

[State 810, Bind 1　位置調整]
type = posadd
trigger1 = time = 15
x = 8

[State 810, Bind 1　位置調整]
type = posadd
trigger1 = time = 25
x = 25

[State 1000, 7]
type = assertspecial
trigger1 = 1
flag = noshadow

[State 1000, 7　無敵]
type = nothitby
trigger1 = 1
value = SCA
time = 1

[State 215　ヘルパー消滅]
type = DestroySelf
trigger1 = root,movetype = H

[State 1000, ステート変更　終了]
type = ChangeState
trigger1 = Anim = 1103
trigger1 = AnimTime = 0
trigger2 = NumHelper(1101) = 0
value = 1004


[Statedef 1125]
type    = A
movetype= A
physics = N
juggle  = 0
poweradd= 0
velset = 0,0
anim = 1104
ctrl = 0
sprpriority = 4

[State 1000, 7　速度変更　上方向]
type = velset
trigger1 = time = 15
x = 0*parent,const(size.xscale)
y = -5*parent,const(size.xscale)

[State 1000, 7　アニメ変更　上方向]
type = changeanim
trigger1 = time = 15
value = 1111

[State 1000, 7　停止]
type = velset
trigger1 = time = 20
x = 0*parent,const(size.xscale)
y = 0*parent,const(size.xscale)

[State 1000, 7　速度変更　折り返し]
type = velset
trigger1 = time = 25
x = -10*parent,const(size.xscale)
y = 0*parent,const(size.xscale)

[State 1000, 7　アニメ変更　折り返し]
type = changeanim
trigger1 = time = 25
value = 1105

[State 1000, 7　速度変更　初速]
type = velset
trigger1 = time = 3
x = 10*parent,const(size.xscale)

[State 1000, 7　停止]
type = velset
trigger1 = time = 45
x = 0*parent,const(size.xscale)
y = 0*parent,const(size.xscale)

[State 1000, 7　アニメ変更　下方向]
type = changeanim
trigger1 = time = 45
value = 1112

[State 1000, 7　速度変更　下方向]
type = velset
trigger1 = time = 50
x = 0*parent,const(size.xscale)
y = 10*parent,const(size.xscale)

[State 1000, 7　停止]
type = velset
trigger1 = time = 55
x = 0*parent,const(size.xscale)
y = 0*parent,const(size.xscale)

[State 810, Bind 1　位置調整]
type = posadd
trigger1 = time = 55
y = 20

[State 1027, Spark　火花]
type = Explod
trigger1 = time = 55
anim = 871
ID = 871
pos = 10,0
postype = p1
sprpriority = 3
bindtime = 1
supermovetime = 99
pausemovetime = 99

[State 1000, 7　アニメ変更　蹴り]
type = changeanim
trigger1 = time = 55
value = 1103

[State 810, Bind 1　位置調整]
type = posadd
trigger1 = time = 15
x = 8

[State 810, Bind 1　位置調整]
type = posadd
trigger1 = time = 25
x = 25

[State 1000, 7]
type = assertspecial
trigger1 = 1
flag = noshadow

[State 1000, 7　無敵]
type = nothitby
trigger1 = 1
value = SCA
time = 1

[State 215　ヘルパー消滅]
type = DestroySelf
trigger1 = root,movetype = H

[State 1000, ステート変更　終了]
type = ChangeState
trigger1 = Anim = 1103
trigger1 = AnimTime = 0
trigger2 = NumHelper(1101) = 0
value = 1004


[Statedef 1130]
type    = S
movetype= A
physics = S
poweradd= -1000
velset = 0,0
anim = 1130
ctrl = 0
sprpriority = 2

[State 610, 3]
type = playsnd
trigger1 = time = 2
value = 3, 7
channel = 0

[State 610, 3]
type = playsnd
trigger1 = time = 2
value = s4,0

[state 3003]
type = helper
trigger1 = time = 3
name = "haikei"
helpertype = normal
stateno = 23101
id = 3101
pos = 0,0
postype = left
ownpal = 1
keyctrl = 0
sprpriority = -5
supermovetime = 9999999
pausemovetime = 9999999

[state 3000]
type = nothitby
trigger1 = time = 0
value = SCA
time = 43

[state 3000]
type = pause
trigger1 = time = 2
time = 40
movetime = 40

[State 1000, 音を鳴らす　発砲音]
type = PlaySnd
trigger1 = animelem = 5
value = 3, 5

[state 3003　弾丸]
type = helper
trigger1 = animelemtime(5) = 1
name = "tama"
helpertype = normal
stateno = 1131
id = 1101
pos = ceil(60*const(size.xscale)),ceil(-100*const(size.yscale))
postype = p1
ownpal = 1

[State 1000, ステート変更　終了]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1











[Statedef 1142]
type    = A
movetype= A
physics = N
juggle  = 0
poweradd= 0
velset = 0,0
anim = 1141
ctrl = 0
sprpriority = 4

[State 1000, 7]
type = assertspecial
trigger1 = 1
flag = noshadow

[State 1000, 7　無敵]
type = nothitby
trigger1 = 1
value = SCA
time = 1

[State 1000, ステート変更　終了]
type = ChangeState
trigger1 = time = 100
value = 1004


[Statedef 1150]
type    = S
movetype= A
physics = S
poweradd= -1000
velset = 0,0
anim = 1130
ctrl = 0
sprpriority = 2

[State 610, 3]
type = playsnd
trigger1 = time = 2
value = 3, 7
channel = 0

[State 610, 3]
type = playsnd
trigger1 = time = 2
value = s4,0

[state 3003]
type = helper
trigger1 = time = 3
name = "haikei"
helpertype = normal
stateno = 23101
id = 3101
pos = 0,0
postype = left
ownpal = 1
keyctrl = 0
sprpriority = -5
supermovetime = 9999999
pausemovetime = 9999999

[state 3000]
type = nothitby
trigger1 = time = 0
value = SCA
time = 43

[state 3000]
type = pause
trigger1 = time = 2
time = 40
movetime = 40

[State 1000, 音を鳴らす　発砲音]
type = PlaySnd
trigger1 = animelem = 5
value = 3, 5

[state 3003　弾丸]
type = helper
trigger1 = animelemtime(5) = 1
name = "tama"
helpertype = normal
stateno = 1151
id = 1101
pos = ceil(60*const(size.xscale)),ceil(-100*const(size.yscale))
postype = p1
ownpal = 1

[State 1000, ステート変更　終了]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1





[Statedef 1160]
type    = S
movetype= A
physics = S
poweradd= -1000
velset = 0,0
anim = 1130
ctrl = 0
sprpriority = 2

[State 610, 3]
type = playsnd
trigger1 = time = 2
value = 3, 7
channel = 0

[State 610, 3]
type = playsnd
trigger1 = time = 2
value = s4,0

[state 3003]
type = helper
trigger1 = time = 3
name = "haikei"
helpertype = normal
stateno = 23101
id = 3101
pos = 0,0
postype = left
ownpal = 1
keyctrl = 0
sprpriority = -5
supermovetime = 9999999
pausemovetime = 9999999

[state 3000]
type = nothitby
trigger1 = time = 0
value = SCA
time = 43

[state 3000]
type = pause
trigger1 = time = 2
time = 40
movetime = 40

[State 1000, 音を鳴らす　発砲音]
type = PlaySnd
trigger1 = animelem = 5
value = 3, 5

[state 3003　弾丸]
type = helper
trigger1 = animelemtime(5) = 1
name = "tama"
helpertype = normal
stateno = 1161
id = 1101
pos = ceil(60*const(size.xscale)),ceil(-100*const(size.yscale))
postype = p1
ownpal = 1

[State 1000, ステート変更　終了]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

















































[Statedef 3202]
type    = A
movetype= A
physics = N
juggle  = 0
poweradd= 0
velset = 0,0
anim = 1202
ctrl = 0
sprpriority = 4



[State 1000, 7]
type = parentvaradd
trigger1 = !time
var(53) = 1

[State 1000, 7]
type = parentvarset
trigger1 = root,var(53) = 6
var(53) = 0



[State 1000, 7]
type = velset
trigger1 = time = 3
x = 6*parent,const(size.xscale)
y = 5*parent,const(size.xscale)

[State 1000, 7]
type = assertspecial
trigger1 = 1
flag = noshadow

[State 1000, 7　無敵]
type = nothitby
trigger1 = 1
value = SCA
time = 1

[State 1000, 音を鳴らす 声]
type = PlaySnd
trigger1 = time = 0
value = 3, 11

[State 1000, 音を鳴らす 反射音]
type = PlaySnd
trigger1 = time = 5
value = 4, 11

[State 1000, アニメ変更　下方向]
type = Changeanim
trigger1 = time = 5
value = 1006

[State 1000, 7　速度変更　停止　下方向]
type = velset
trigger1 = time = 5
x = 0
y = 0

[State 1000, 7]
type = changestate
trigger1 = pos x <= -240 || pos x >= 240
trigger2 =  Pos Y >= -20
trigger3 = anim = 1006
trigger3 = animtime = 0
value = 1004









[Statedef 4001]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 4002
poweradd= 0
ctrl = 0
sprpriority = 2

[state 3000]
type = nothitby
trigger1 = 1
value = SCA

[State 180, 1]
type = velset
trigger1 = time > 1
x = -8








[Statedef 4020]
anim  = 5000
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 2

[State 180, 1 落下速度]
type = velset
trigger1= 1
y = 15

[State 230, 2]
type = nothitby
trigger1 = 1
value = SCA
time = 1

[State 1051, 2]
type = playerpush
trigger1 = time <= 120
value = 0

[State 1060, 2]
type = changeanim2
trigger1 = time = 0
value = 4020

[State 230, 2]
type = changestate
trigger1 = Pos Y >= 0
value = 4021


[Statedef 4021]
anim  = 5000
type    = S
movetype= H
physics = N
velset = 0,0
sprpriority = 2

[State 1027, 位置]
type = PosSet
trigger1 = time = 0
trigger1 = Pos Y <= 0
y = 0

[State 230, 2]
type = nothitby
trigger1 = 1
value = SCA
time = 1

[State 1051, 2]
type = playerpush
trigger1 = 1
value = 0

[State 1060, 2]
type = changeanim2
trigger1 = time = 0
value = 4021

[State 820, 4]
type = SelfState
trigger1 = time > 40
value = 5110
ctrl = 0

[Statedef 4657]
type = S
movetype = I
physics = N
ctrl = 0
anim = 29999
sprpriority = -5

[State 3000]
type = DestroySelf
trigger1 = time = 400























































[Statedef 4100]
type    = U
movetype= H
physics = N
anim = 150
ctrl = 0
velset = 0,0

[State 1051, 2]
type = nothitby
trigger1 = time <= 1
value = SCA
time = 1

[State 1051, 2]
type = velset
trigger1 = 1
x = 0

[State 3010, 2]
type = helper
trigger1 = time = 0
name = "adv"
helpertype = normal
stateno = 4010
id = 4010
pos = 0,0
postype = p1
ownpal = 1
keyctrl = 0
size.ground.back = 16
size.ground.front = 16
size.air.back = 16
size.air.front = 16
size.height = 500
persistent = 0
ignorehitpause = 1

[State 191, Wood 1]
type = Explod
trigger1 = time = 0
anim = 860
id = 860
postype = p1
pos = 17,-68
sprpriority = 3
bindtime = -1
ownpal = 1

[State 1051, 2]
type = changestate
trigger1 = time >= 1
value = 151


[Statedef 4105]
type    = C
movetype= H
physics = N
anim = 151
ctrl = 0
velset = 0,0

[State 1051, 2]
type = nothitby
trigger1 = time <= 1
value = SCA
time = 1

[State 1051, 2]
type = velset
trigger1 = 1
x = 0

[State 3010, 2]
type = helper
trigger1 = time = 0
name = "adv"
helpertype = normal
stateno = 4010
id = 4010
pos = 0,0
postype = p1
ownpal = 1
keyctrl = 0
size.ground.back = 16
size.ground.front = 16
size.air.back = 16
size.air.front = 16
size.height = 500
persistent = 0
ignorehitpause = 1

[State 191, Wood 1]
type = Explod
trigger1 = time = 0
anim = 860
id = 860
postype = p1
pos = 17,-18
sprpriority = 3
bindtime = -1
ownpal = 1

[State 1051, 2]
type = changestate
trigger1 = time >= 1
value = 153


[Statedef 4010]
type    = A
movetype= I
physics = N
anim = 4
ctrl = 0
velset = 10,0

[State 5071, 1]
type = parentvarset
trigger1 = time = 0
v = 24
value = 1

[State 5071, 1]
type = parentvarset
trigger1 = time = 2
v = 24
value = 0

[State 810, Throw Sound]
type = playsnd
trigger1 = animelem = 1
value = 3,0
channel = 0

[State 810, Throw Sound]
type = playsnd
trigger1 = animelem = 1
value = 3,8

[State 5071, 1]
type = parentvarset
trigger1 = time = 0
v = 16
value = 0

[State 1051, 2]
type = playerpush
trigger1 = 1
value = 1

[State 1051, 2]
type = nothitby
trigger1 = 1
value = SCA
time = 1

[State 191, Wood 1]
type = Explod
trigger1 = 0
trigger1 = enemy,statetype != A
anim = 860
id = 870
postype = p2
pos = 15,0
sprpriority = 3
bindtime = -1
ownpal = 1
removeongethit = 1
facing = -1

[State 1051, 2]
type = destroyself
trigger1 = time = 16
trigger2 = parent,alive = 0


[Statedef 300]
type = S
movetype = I
physics = N
anim = 300
ctrl = 0
sprpriority = -1

[State 0, turn]
type = turn
triggerall = command = "holdback"
trigger1 = time = 0

[State 0, hitby]
type = hitby
trigger1 = time = 0
value = SCA,AT
time = 32

[State 0, snd]
type = playsnd
trigger1 = animelem = 2
value = 2,0
channel = 0

[State 0, vel]
type = velset
trigger1 = !time
x = 0

[State 0, push]
type = playerpush
trigger1 = 1
value = 0

[state 0, helper]
type = null
trigger1 = animelemtime(1) = 4
helpertype = normal
name = "Image"
stateno = 305
id = 305
pos = 0,0
postype = p1
ownpal = 1
keyctrl = 0

[State 0, vel]
type = veladd
trigger1 = animelemtime(3) = 0
x = .91

[State 0, vel]
type = veladd
trigger1 = animelemtime(4) >= 0
trigger1 = animelemtime(6) <= 0
x = 0.80

[State 0, vel]
type = velmul
trigger1 = animelemtime(7) > 0
x = .62

[State 0, vel]
type = velset
trigger1 = animelem = 8
x = 0

[State 0, end]
type = changestate
trigger1 = !animtime
value = 0
ctrl = 1


[Statedef 305]
type = S
movetype = I
physics = N
anim = 300
ctrl = 0
sprpriority = -3

[State 0, nhb]
type = nothitby
trigger1 = 1
value = SCA

[State 0, push]
type = playerpush
trigger1 = 1
value = 0

[State 0, assert]
type = assertspecial
trigger1 = !(time%2)
flag = Invisible

[State 0, vel]
type = velset
trigger1 = !time
x = 0

[State 0, vel]
type = veladd
trigger1 = animelemtime(4) >= 0
trigger1 = animelemtime(7) <= 0
x = .91

[State 0, vel]
type = velmul
trigger1 = animelemtime(8) > 0
x = .92

[State 0, vel]
type = velset
trigger1 = animelem = 9
x = 0

[State 0, end]
type = DestroySelf
trigger1 = !animtime
trigger2 = root,movetype = H





[Statedef 720]
type    = S
physics = N
anim = 720
ctrl = 0
sprpriority = 3
velset = 0,0

[State 100, 2]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 0, scale]
type = angledraw
trigger1 = time < 10
scale = .2+time*.08,.2+time*.08

[State 0, scale]
type = angledraw
trigger1 = time >= 10
scale = .85+time*.01,.85+time*.01

[State 820, 消去]
type = destroyself
trigger1 = time >= 30
trigger2 = root,stateno != 700


[Statedef 20050]
type = S
sprpriority = 10
anim = 20050
ctrl = 0

[State 104, 影はない]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 20024,ガシーン！]
type = PlaySnd
trigger1 = Time = 10
value = 7, 2

[State -1,1]
type = velset
trigger1 = time = 0
trigger2 = time >= 10 && time <= 72
x = 0

[State -1,1]
type = velset
trigger1 = time >= 0 && time <= 10
x = ifelse(Teamside=1,12,-12)

[State -1,1]
type = velset
trigger1 = time >= 72 && time <= 95
x = ifelse(Teamside=1,-17,17)

[State -1,1]
type = destroyself
trigger1 = roundstate = 2


[Statedef 20051]
type = S
sprpriority = 10
anim = ifelse(Teamside=1,20051,20052)
ctrl = 0

[State 20024, 0]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 20024, 0]
type = velset
trigger1 = time = 0
trigger2 = time >= 25
x = 0

[State 20024, 0]
type = velset
trigger1 = time >= 0 && time <= 17
x = ifelse(Teamside=1,-24,24)

[State 20024, 0]
type = velset
trigger1 = time >= 17 && time <= 25
x = ifelse(Teamside=1,13,-13)


[Statedef 20060]
type = S
movetype = I
physics = S
ctrl = 0
anim = 20060
velset = 0,0
sprpriority = 3

[State 20024,ミスタァー]
type = PlaySnd
trigger1 = Time = 0
value = 7, 4





 
 








[Statedef -2]

[State -2, Vans' Command Buffer]
Type = Helper
trigger1 = !AIlevel
Trigger1 = !NumHelper(10371)
name = "Tiny Buffering"
ID = 10371
pos = 0,0
posType = p1
facing = 1
StateNo = 10371
keyctrl = 1
ownpal = 1
supermoveTime = 65535
pausemoveTime = 65535

;  --- Uno Tag System v3.2.1 STATEDEF -2 ---

[State -2, deactivate tag]
type = VarSet
triggerall = sysvar(4) > 0
triggerall = sysvar(4) != 6
trigger1 = roundstate > 2
trigger1 = Win || Lose
trigger2 = NumPartner
trigger2 = Roundstate < 1
trigger2 = teammode = Simul
trigger2 = !Partner, sysvar(4)
trigger2 = Time = [1,2]
trigger3 = Partner, sysvar(4)
trigger3 = !Life
sysvar(4) = 0

[State -2, def]
type = VarSet
triggerall = NumPartner
triggerall = Partner, StateNo != [1251110,1251114]
trigger1 = sysvar(4) = 10
trigger2 = sysvar(4) != 2 && PrevStateNo = 1251131
sysvar(4) = 15

[State -2, Uno]
type = null ;ParentVarSet
trigger1 = PrevStateNo = 1251106
sysvar(4) = 7

[State -2, Eksena]
type = ScreenBound
trigger1 = NumPartner 
trigger1 = Partner, sysvar(4) = 4
trigger1 = StateNo = 1251131 || prevStateNo = 1251131
value = 1
movecamera = 1,1

[State -2, no_throw]
type = NotHitBy
trigger1 = NumPartner
trigger1 = sysvar(4) = [8,9]
trigger1 = StateNo != 1251112
value = , AT

[State -2, def]
type = VarSet
triggerall = NumPartner && sysvar(4) != 15
triggerall = Partner, Time = [0,1]
trigger1 = Partner, StateNo = 1251104
trigger2 = Partner, StateNo = 1251110
trigger2 = StateNo != [1251101,1251133]
sysvar(4) = 1

[State -2, GTG]
type = ChangeState
trigger1 = NumPartner
trigger1 = Life && Partner, Life
trigger1 = PrevStateNo = 1251126
trigger1 = StateNo != 1251111
value = 1251111
ignorehitpause = 1

[State -2, Oh No!]
type = SelfState
triggerall = sysvar(4) != [8,9]
triggerall = sysvar(4) != [12,15]
trigger1 = prevStateNo = 1251112
trigger1 = !(StateNo = [1251101,1251133])
value = 1251112
ctrl = 0

[State -2, PowerReset]
type = poweradd
trigger1 = sysvar(4) = 5
trigger1 = RoundNo < 2
trigger1 = RoundState < 2
trigger1 = Time = 0
value = -Power
persistent = 0

[State -2, PowerAdd]
type = poweradd
trigger1 = sysvar(4) = 5 && power < 900
trigger1 = RoundNo < 2
trigger1 = RoundState < 2
trigger1 = Time = 1
value = 1000
persistent = 0

[State -2, prior]
type = SprPriority
trigger1 = NumPartner
trigger1 = Partner, sysvar(4) = 2
trigger2 = (sysvar(4) = [8,9]) && StateNo != [1251110,1251111]
value = 5

[State -2, err]
type = ChangeState
trigger1 = NumPartner
trigger1 = ID > Partner, ID
trigger1 = roundstate = 2 && sysvar(4)
trigger1 = StateNo = 0 && pos Y < 0
value = 1251112

; Tag active ctrl
[State -2, ctrl]
type = SelfState
trigger1 = TeamMode = Simul
trigger1 = NumPartner
trigger1 = Partner, sysvar(4)
trigger1 = !sysvar(4)
trigger1 = sysvar(4) != 8 && Partner,sysvar(4) != 8 && Partner,sysvar(4) != 12
trigger1 = StateNo != 5900
trigger1 = Partner, sysvar(4) != [2,15]
trigger1 = RoundState = 2
trigger1 = Life && Partner, Life
trigger1 = StateNo != [1000,1251199]
value = 1251112
ctrl = 0

[State -2, 1]
type = SelfState
value = 1251106
trigger1 = NumPartner
trigger1 = StateNo != 1251106 && Partner, StateNo = [1251128,1251129]

[State -2, 1]
type = SelfState
value = 1251131
triggerall = NumPartner
triggerall = Partner, Time = [0,1]
triggerall = (StateNo = 1251112 || StateNo = 1251114) && MoveType != A
trigger1 = Partner, StateNo = 1251132 || Partner, prevStateNo = 1251132
trigger2 = Partner, StateNo = 1251127 && !NumHelper(1251101)

[State -2, cancelfx]
type = PalFx
triggerall = RoundState = 2
triggerall = Time = [0,1]
trigger1 = StateNo = 1251123
trigger2 = StateNo = 1251125 && NumTarget
Time = 6
add = (110 + Time*15), (110 + Time*15), (190 + Time*15)
sinadd =-245, -245, -250, (40 + Time*5)

[State -2, TargetVelAdd]
type = TargetVelAdd
trigger1 = NumTarget
trigger1 = numPartner
trigger1 = !(Target, StateNo = [1251117,1251119]) && !(Target, PrevStateNo = [1251117,1251119])
trigger1 = Roundstate = 2
trigger1 = prevStateNo = 1251126
trigger1 = Partner, StateNo = 1251102 && !(Partner, MoveContact)
trigger1 = Target, statetype != A && Target, GetHitVar(xvel) < 0
x = 0.12

[State -2, drop]
type = TargetDrop
triggerall = NumTarget
triggerall = Time = [0,1]
trigger1 = !Life
trigger2 = StateNo = [1251101,1251105]
trigger3 = StateNo = [1251115,1251116]  
trigger4 = StateNo = 1251106 || StateNo = 1251123

[State -2, Buwelo]
type = PosFreeze
trigger1 = PrevStateNo = 1251102 && StateNo != 1251123
trigger1 = sysvar(4) = 15
trigger1 = Anim != [42,45]
trigger1 = Time <= 5
trigger1 = NumTarget
trigger1 = Target, Statetype != A
trigger1 = MoveType = A

[State -2, aircombo]
type = VelMul
trigger1 = NumTarget || p2BodyDist x < 0
trigger1 = PrevStateNo = 1251102
trigger1 = StateNo != [1251100, 1251190]
trigger1 = MoveType = A && StateNo < 1000
x = ifelse(p2BodyDist x < 0,0.7,0.9)
y = ifelse(vel y < 2,2,0.9)

[State -2, velfollow]
type = VelAdd
trigger1 = numtarget
trigger1 = PrevStateNo = 1251123 && (Target, vel y < -0.6)
trigger1 = MoveType = A && (Time = [0,3])
y = -1.2

[State -2, Target]
type = TargetState
trigger1 = NumTarget
trigger1 = StateNo = 1251102 || PrevStateNo = 1251102 || StateNo = 1251123 || PrevStateNo = 1251123 || StateNo = 1251126 || PrevStateNo = 1251126
trigger1 = (Target, Pos Y < 0) && !(Target, StateNo = [120,152]) && (Target, StateNo != [1251109,1251119]) && MoveContact  && (Target, Anim = [5100,5170])  && (Target, Anim != [5110,5120])  && Target, PrevStateNo != 1251119 
trigger1 = (Target, Statetype != A) ; && (Target, Statetype != S)  && (Target, Statetype != C)
trigger1 = !Target, HitOver
value = 1251119
ignorehitpause = 1

[State -2, Ov]
type = TargetState
triggerall = NumTarget
triggerall = numPartner
triggerall = !(Target, StateNo = [120,152]) && !(Target, Anim = [120,152]) && Partner, StateNo = [1251101,1251133]
triggerall = Time = [0,2]
trigger1 = StateNo = 1251125 && Target, StateType != A
trigger2 = (StateNo = 1251126 || PrevStateNo = 1251126) && Target, Pos Y >= -10 && (Target, StateNo != [1251109,1251119]) && (Target, StateNo != [5000,5500])
value = 1251117
ignorehitpause = 1

[State -2, Ov2]
type = TargetState
triggerall = NumTarget = 1
trigger1 = (Target, StateNo != [1251109,1251119]) && !(Target, StateNo = [120,152]) && !(Target, Anim = [120,152]) && ((Target, StateNo != [5000,5500]) || (Target, PrevStateNo != 1251119 && Target, StateNo = [5030,5100])) && !Target, HitOver
trigger1 = (StateNo = 1251125 && Time = [0,2]) || StateNo = 1251126 || PrevStateNo = 1251126
value = 1251119
ignorehitpause = 1

[State -2, T_T]
type = TargetVelSet
triggerall = NumTarget = 1
triggerall = Target, Movetype = H && Target, vel x != 0
trigger1 = StateNo = 1251126 || sysvar(4) = 3
x = ifelse((Target, vel x > 0),0.55,-0.55)

[State -2, UM]
type = SelfState
trigger1 = Numpartner
trigger1 = Partner, StateNo = 1251106
trigger1 = StateNo = [1000,4500]
value = 1251129


; ------ Uno Tag System v3.2 END LINE ------
;

[state 250,11 - Hard Knockdown Effect]
type = helper
triggerall = numtarget(620)
trigger1 = target(620), stateno = 328
trigger1 = !numhelper(60120)
persistent = 0
stateno = 60120
ID = 60120
postype = p2
pos = 0,500

[State -2, Reset var when the opponent recovers]
type = Varset
trigger1 = numenemy = 1
trigger1 = (enemynear,movetype!=H)
trigger2 = !numenemy
trigger3 = numenemy = 2
trigger3 = enemy(0),movetype != H
trigger3 = enemy(1),movetype != H
var(46) = 1

[State -2, Reset var when the opponent recovers]
type = Varset
trigger1 = numenemy = 1
trigger1 = (enemynear,movetype!=H)
trigger2 = !numenemy
trigger3 = numenemy = 2
trigger3 = enemy(0),movetype != H
trigger3 = enemy(1),movetype != H
var(13) = 0

[State -2, Reset var when the opponent recovers]
type = Varset
trigger1 = numenemy = 1
trigger1 = (enemynear,movetype!=H)
trigger2 = !numenemy
trigger3 = numenemy = 2
trigger3 = enemy(0),movetype != H
trigger3 = enemy(1),movetype != H
fvar(10) = 1

[State -2, Final Dampen]
type = null
trigger1 = (fvar(11) := cond(fvar(10)>0.1,fvar(10),0.1)) || 1
ignorehitpause = 1

[State -2, Dampener itself]
type = Attackmulset
trigger1 = 1
value = fvar(11)
ignorehitpause = 1

[State -1, DTCB]
type = displaytoclipboard
trigger1 = 1
text = "Damage Dampener: %f"
params = fvar(11)
ignorehitpause = 1

[State -2, Custom Fall]
type = TargetState
triggerall = NumTarget
trigger1 = target,stateno = 5050
value = 5573

[State -2, P2 Recovery]
type= targetstate
trigger1= numtarget(220)


trigger1= (target(220), stateno=5020) && (target(220), alive) && (target(220), hitfall)
ID= 220
value= 5085
ignorehitpause= 1

[State -2, P2 Facing]
type= targetfacing
trigger1= movecontact=1 && numtarget=1
trigger1= !(target,hitshakeover) && !(target,hitfall) && (target,time<=1)
value= ifelse(p2dist x>=0, -1, 1)
ignorehitpause= 1

[State -3, Prevent Crossup]
type = width
trigger1 = movetype != H
edge = 8, 0
ignorehitpause = 1

[State -3, Prevent Undergound Juggles by POTS]
type= targetbind
trigger1= movehit=1
trigger1= numtarget=1 && numenemy
trigger1= (target,time<=1) && (target,ID=enemynear,ID)
trigger1= !(target,hitshakeover) && (target, hitfall) && (target, pos y>0)
pos= ceil(p2dist x), ceil(-pos y)
ignorehitpause= 1

[State -3, Corner Push Reset]
type= varset
trigger1= fvar(5)
trigger1= numtarget
trigger1= (target, hitover) || (target, gethitvar(hitshaketime) > 0 && target, time <= 0)
trigger2 = stateno = 700
fvar(5)= 0

[State -3, Corner Push Initial Vel]
type= varset
triggerall = stateno != 700
trigger1= movecontact=1 && numtarget
fvar(5) = (target, gethitvar(xvel))
ignorehitpause= 1

[State -3, Corner Push Apply]
type= posadd
triggerall = stateno != 700
triggerall = fvar(5)
triggerall = (statetype = S || statetype = C) && numtarget
triggerall = !hitpausetime && (target, gethitvar(hitshaketime) <= 0)
triggerall = (target, statetype = S || target, statetype = C) && !(target, gethitvar(yvel)) && !(target, hitfall)
trigger1 = target, frontedgebodydist <= abs(target, vel x)
trigger1 = (target, gethitvar(xvel) * target, facing) > 0
trigger2 = target, backedgebodydist <= abs(target, vel x)
trigger2 = (target, gethitvar(xvel) * target, facing) < 0
x = ifelse(target, frontedgebodydist <= 0, -1, 1) * (target, facing) * fvar(5)

[State -3, Corner Push Friction]
type= varset
triggerall = stateno != 700
trigger1= numtarget
trigger1= target, gethitvar(hitshaketime) <= 0
fvar(5) = fvar(5)*0.85


[state -2, helper]
type = helper
trigger1 = roundstate = 2
trigger1 = !numhelper(10000)
helpertype = normal
name = "pi"
stateno = 10000
id = 10000
pos = 0,0
postype = p1
ownpal = 0
keyctrl = 0
pausemovetime = 0
supermovetime = 0



[State -2]
type = varset
trigger1 = var(54) = 6
var(54) = 0

[State -2]
type = varset
trigger1 = var(53) = 0
trigger1 = numhelper(1011)
var(53) = 1
[State -2]
type = varset
trigger1 = var(53) = 1
trigger1 = numhelper(1012)
var(53) = 2
[State -2]
type = varset
trigger1 = var(53) = 2
trigger1 = numhelper(1013)
var(53) = 3
[State -2]
type = varset
trigger1 = var(53) = 3
trigger1 = numhelper(1014)
var(53) = 4
[State -2]
type = varset
trigger1 = var(53) = 4
trigger1 = numhelper(1015)
var(53) = 5
[State -2]
type = varset
trigger1 = var(53) = 5
trigger1 = numhelper(1016)
var(53) = 6

[State -2]
type = varset
trigger1 = var(53) = 10
trigger1 = !(numhelper(1011) && numhelper(1012) && numhelper(1013) && numhelper(1014) && numhelper(1015) && numhelper(1016))
var(53) = 0

[State -2]
type = varset
trigger1 = (numhelper(1011) && numhelper(1012) && numhelper(1013) && numhelper(1014) && numhelper(1015) && numhelper(1016))
trigger2 = numhelper(1020)
var(53) = 10

[State -2, Are you ready?]
type = varset
trigger1 = 1
var(51) = !numhelper(1011) + !numhelper(1012) + !numhelper(1013) + !numhelper(1014) + !numhelper(1015) + !numhelper(1016)



[State -2]
type = RemoveExplod
trigger1 = stateno != 901
id = 902

[State -2, 弾倉呼び出し]
type = Helper
trigger1 = NumHelper(9000) = 0
stateno = 9000
ID = 9000
keyctrl = 0
postype = P1
supermovetime = 99999999
pausemovetime = 99999999
ownpal = 1
IgnoreHitPause = 1


[State -2, 0]
type = helper
trigger1 = !NumHelper(20051)
trigger1 = stateno = 180
trigger1 = Teamside=1 || Teamside=2
trigger1 = matchover
stateno = 20051
id = 20051
pos = ifelse(Teamside=1,290,-150),20
postype = left
ownpal = 1
ontop = 1
pausemovetime = 9999


[State -2, 0]
type = helper
triggerall = !Numhelper(20050)
triggerall = stateno = 180
trigger1 = Teamside=1 || Teamside=2
id = 20050
stateno = 20050
pos = ifelse(Teamside=1,-110,290),-130
postype = left
ownpal = 1
sprpriority = 10
pausemovetime = 9999
size.xscale = 0.9
size.yscale = 0.9

[State -2]
type = AssertSpecial
trigger1 = winko
flag = nobardisplay
ignorehitpause = 1

[state -2]
type=Helper
triggerall=!ishelper
trigger1=!numhelper(300000)
helpertype=normal
name="right_edge"
ID=300000
pos=0, 0
postype=right
facing=1
stateno=300000
ownpal=1
supermovetime=99999
pausemovetime=99999

[state -2]
type=Helper
triggerall=!ishelper
trigger1=!numhelper(300010)
helpertype=normal
name="left_edge"
ID=300010
pos=0, 0
postype=left
facing=1
stateno=300010
ownpal=1
supermovetime=99999
pausemovetime=99999

[State -2, 0]
type = helper
triggerall = NumHelper(20060) = 0
trigger1 = stateno = 5150
trigger1 = loseko
id = 20060
stateno = 20060
pos = 50,-30
postype = p1
ownpal = 1
sprpriority = 3
pausemovetime = 9999
size.xscale = 1
size.yscale = 1




[State -2, エフェクトを消す]
type = RemoveExplod
triggerall = NumExplod(130) > 0


trigger1 = StateNo != 700
trigger2 = MoveType != I
ID = 130













[Statedef -3]

;  --- Uno Tag System v3.2.1 STATEDEF -3 ---


; Tag active definer
[State -2, def]
type = VarSet
triggerall = NumPartner
trigger1 = sysvar(4) = [8,9]
trigger1 = !(Partner, Life) || (Partner, StateNo = [1251110,1251114])
trigger2 = Partner, StateNo = [1251110,1251114]
trigger2 = sysvar(4) != [2,15] 
trigger3 = sysvar(4) = 5
trigger3 = Roundstate = 2 && StateNo = [1251111,1251114]
trigger4 = sysvar(4) = 14
trigger4 = MoveType = H && Partner, StateNo = [1251101,1251133]
trigger5 = sysvar(4) = 15 && NumEnemy
trigger5 = EnemyNear, StateNo = [0,50]
trigger6 = sysvar(4) = 15 && StateNo != [1251101,1251133]
trigger6 = NumTarget = 0 && Partner, NumTarget = 0
sysvar(4) = 1

[State -2, def_Partner]
type = VarSet
trigger1 = numpartner
trigger1 = teammode = simul
trigger1 = roundstate < 1
sysvar(4) = 1 + ((ID > Partner, ID)*4)

[State -3, enterTheScreen]
type = ChangeState
trigger1 = sysvar(4)
trigger1 = NumPartner
trigger1 = StateNo = [1251112,1251114]	
trigger1 = Life 
trigger1 = (Partner, StateNo = [1251109,1251111]) || (Partner, StateNo = 1251125 && Partner, Time > 0)
trigger1 = (Partner, StateNo != 1251110) || (Partner, StateNo = 1251110	&& Partner, Time > 24)
value = ifelse((Partner, StateNo = 1251125),1251131,1251101)

; Jump into the screen (Change Attack)
[State -3, enterTheScreen]
type = ChangeState
triggerall = sysvar(4)
triggerall = NumPartner
triggerall = StateNo = 1251112 && Life
trigger1 = ((Partner, StateNo = 1251126 && Partner, Time > 0) || Partner, PrevStateNo = 1251126)
trigger2 = Partner, NumHelper(1251105)
value = 1251102

; Jump into the screen (Game is OVER)
[State -3, enterTheScreen]
type = ChangeState
triggerall = sysvar(4)
triggerall = NumPartner
trigger1 = Alive
trigger1 = StateNo = [1251112,1251114]
trigger1 = Time > 0
trigger1 = roundstate > 2
trigger1 = Win || LoseTime || WinTime || drawgame
value = 1251120

[State -3, NoJC]
type = AssertSpecial
triggerall = NumPartner
trigger1 = Partner, sysvar(4) = [12,13]
trigger2 = sysvar(4) = [8,9]
trigger3 = PrevStateNo = [1251112,1251133]
trigger4 = sysvar(4) = 15 && Partner, Time < 150
flag = nojugglecheck
ignorehitpause = 1

[State -3, RemoveExplod]
type = RemoveExplod
trigger1 = StateNo = [1251110,1251113]
trigger2 = !Life
trigger3 = StateNo = [1251126,1251127]

[State -3, Quiet]
type = AssertSpecial
trigger1 = NumPartner
trigger1 = Partner, sysvar(4) = 7
trigger1 = !Alive && !NumHelper(1251130)
flag = nokosnd

[State -3, Dark]
type = AssertSpecial
triggerall = numpartner
trigger1 = StateNo = 1251106
trigger2 = StateNo = 1251127 || Partner, StateNo = 1251127
trigger3 = NumHelper(1251101) && StateNo = 1251131 && Partner, StateNo != 1251125
flag = noBG
flag2 = noFG
flag3 = Timerfreeze
ignorehitpause = 1

[State -3, leavefx]
type = PalFx
trigger1 = StateNo = 1251111
trigger2 = StateNo = 1251127
trigger3 = (sysvar(4) = [8,9]) && StateNo = 1251110 && Time > 12
trigger4 = StateNo = 1251110 && Time > 14
Time = 2
add = 0,0,0
mul = 150,150,150

[State -3, InvBG]
type = BgPalFx
trigger1 = NumHelper(1251130)
trigger2 = StateNo = 1251106
Time = 2
color = 0
invertall = 1
add = -16 -ceil(cos(gameTime / 60.0 * pi) * 16), -16 -ceil(cos(gameTime / 60.0 * pi) * 16), -16 -ceil(cos(gameTime / 60.0 * pi) * 16)
ignorehitpause = 1

[State -3, InvChar]
type = PalFx
triggerall = NumEnemy
trigger1 = (Enemy, PrevStateNo = [1251128,1251129]) || (EnemyNear, PrevStateNo = [1251128,1251129])
trigger2 = Enemy, StateNo = 1251106 || EnemyNear, StateNo = 1251106
Time = 2
color = 0
add = -16 -ceil(cos(gameTime / 60.0 * pi) * 16), -16 -ceil(cos(gameTime / 60.0 * pi) * 16), -16 -ceil(cos(gameTime / 60.0 * pi) * 16)
ignorehitpause = 1

[State -3, Invert]
type = PalFx
trigger1 = PrevStateNo = [1251128,1251129]
Time = 10
invertall = 1
mul = 150, 150, 150

[State -3, SuperPause]
type = SuperPause
triggerall = NumPartner
trigger1 = Partner, StateNo = 1251106
trigger1 = NumHelper(1251130)
trigger2 = NumHelper(1251101) && Partner, StateNo != 1251125
trigger2 = MoveType != H
Time = 10
anim = -1
sound = -1
moveTime = 10
darken = 1
p2defmul = 0
unhittable = 1
pausebg = 1

[State -3, NoAirGuard]
type = AssertSpecial
trigger1 = NumPartner
trigger1 = sysvar(4) = 8
trigger1 = Movetype = A
trigger1 = prevStateNo = 1251133
flag = Noairguard
flag2 = nojugglecheck
flag3 = nowalk
ignorehitpause = 1

[State -3, aHit]
Type = VarSet
Triggerall = sysvar(4) = 8 && Roundstate = 2
triggerall = NumPartner 
triggerall = Partner, Alive
trigger1 = Movetype = H
trigger2 = StateNo = [5000,5990]
trigger3 = StateNo = [150,151]
sysvar(4) = 9

[State -3, bangon]
type = SelfState
trigger1 = NumPartner
trigger1 = sysvar(4) = 9
trigger1 = Alive && Partner, Alive
trigger1 = StateNo != 5120
trigger1 = StateNo = 5110 || Anim = 5110
trigger1 = Time >= 12
value =5120

[State -3, leavePA]
type = SelfState
triggerall = NumPartner
triggerall = sysvar(4) = [8,9]
triggerall = StateType != A || prevStateNo = [5000,5500]
trigger1 = Roundstate = 2
trigger1 = Life && Partner, life
trigger1 = Partner, StateNo != [1251101,1251135]
trigger1 = StateNo != [200,1251199]
trigger1 = MoveType != H || ((StateNo = [5110, 5120]) && (Time >= 19 || AnimElemTime(4) >= 1))
value = ifelse((sysvar(4)=9 || (StateNo = [150,151])),1251111,1251110)
ctrl = 0

[State -3, LE]
type = SelfState
trigger1 = StateNo = 7828
trigger1 = PrevStateNo = [1251110,1251114] 
trigger2 = sysvar(4) = [8,9]
trigger2 = Anim = 100 && StateNo != [1251101,1251133]
trigger3 = sysvar(4) = 5
trigger3 = PrevStateNo = [1251110,1251114] 
trigger3 = StateNo != [1251101,1251133]
value = 1251111

[State -3, leaveIntro]
type = SelfState
triggerall = sysvar(4) = 5
triggerall = NumPartner
trigger1 = Roundstate >= 2
trigger1 = StateNo != [1000,1251199]
value = 1251110
ctrl = 0

[State -3, fromdark]
type = Helper
trigger1 = sysvar(4) = 7 && !NumHelper(1251139)
trigger1 = PrevStateNo = 1251106
trigger1 = Time <= 25
Helpertype = Normal
ID = 1251139
StateNo = 1251130
name = "dark"
ownpal = 1
supermoveTime = 9999
pausemoveTime = 9999

[State -3, sb_PA]
type = ScreenBound
trigger1 = NumPartner
trigger1 = sysvar(4) = [8,9]
value = ifelse(MoveType = A,1,0)
movecamera = 0,0

[State -3, NoCtrl]
type = CtrlSet
trigger1 = NumPartner
trigger1 = StateNo != [1251111,1251112]
trigger1 = sysvar(4) = [8,9]
value = ifelse((Partner, Alive),0, 1)

[State -3, Party]
type = AssertSpecial
triggerall = NumPartner
triggerall = Partner, StateNo != [1251110,1251114]
trigger1 = Partner, sysvar(4) = 2
trigger1 = Movetype != A
trigger1 = StateNo != [5000,5500]
trigger1 = Partner, StateNo != [5000,5500]
trigger1 = prevStateNo != [5000,5500]
flag = nojugglecheck
;flag2 = nowalk


[State -3, fadeOut]
type = Trans
triggerall = NumPartner
trigger1 = !Life && Partner, Life
;trigger1 = RoundState = 2 || Partner,sysvar(4) = 7
trigger1 = Partner, sysvar(4) = 7
trigger1 = StateNo = 5150
Trans = addalpha
alpha = (256-ifelse((Partner,sysvar(4) = 7),(Time *3),(Time*2))), (Time*Time)

[State -3, fadeOut]
type=assertspecial
triggerall = numpartner
triggerall = alive=0 && !ishelper && Partner, sysvar(4) && RoundState = 2
trigger1=stateno=5150 && (((time=[80,150])&&(time%10<5))||(time>150))
trigger1=(partner,stateno!=stateno)||((partner,stateno=stateno)&&(partner,time<time))
flag=invisible
flag2=noshadow

[state -3, fadeOut]
type=posset
triggerall = numpartner
trigger1 = sysvar(4)
trigger1=stateno=5150 && alive=0 && !ishelper && (time>150)
trigger1=(partner,stateno!=stateno)||((partner,stateno=stateno)&&(partner,time<time))
trigger1 = Partner, sysvar(4)
y=-3

[state -3, dead_Var]
type = VarSet
triggerall = numpartner
triggerall = !Alive
triggerall = RoundState = 2
triggerall = StateNo = [5131,5150]
triggerall = Partner, sysvar(4)
trigger1 = Time >= 125
trigger2 = Partner, sysvar(4) = 7
trigger2 = Time >= 85
sysvar(4) = 6

[state -3, awake_Var]
type = VarSet
triggerall = NumPartner 
triggerall = roundstate = 2
trigger1 = Alive
trigger1 = sysvar(4) = 6
trigger2 = Partner, Life
trigger2 = sysvar(4) = 7
sysvar(4) = 1

[state -3, offME]
type = NotHitBy
triggerall = NumPartner
trigger1 = sysvar(4) = 6
trigger2 = StateNo = 1251128 || PrevStateNo = 1251128
trigger3 = Partner, sysvar(4) = 6
trigger3 = (StateNo = [1251101,1251116]) || (StateNo = [1251120,1251133])
value = SCA

[state -3, disa2]
type = SelfState
trigger1 = RoundState = 2
trigger1 = StateNo = [5110,5150]
trigger1 = sysvar(4) = 6
value = 1251113

[state -3, Ghost]
type = AssertSpecial
triggerall = !Alive
triggerall = RoundState >= 2
triggerall = sysvar(4) = 6
trigger1 = Anim = [5000,5600]
trigger2 = PrevStateNo = [1251113,1251121]
flag = invisible
flag2 = noshadow
ignorehitpause = 1

[State -3, EndLife]
type = LifeAdd
triggerall = RoundState = 2
trigger1 = PrevStateNo = 1251129
trigger2 = sysvar(4) = 6
value = -LifeMax

[State -3, END]
type = PosSet
trigger1 = NumPartner
trigger1 = roundstate > 2
trigger1 = !Alive
trigger1 = PrevStateNo = 1251113
x = (Partner, pos x) - 5000*facing
y = 0

[State -3, 1251129]
type = LifeAdd
trigger1 = PrevStateNo = 1251129 && Time > 1
value = -LifeMax

[State -3, 1251129]
type = SelfState
trigger1 = StateNo < 5000
trigger1 = PrevStateNo = 1251129 && AnimElemNo(3) = 7
value = 5150

[State -3, Aura]
type=Helper
triggerall= !NumHelper(1251124)
trigger1 = sysvar(4) = 7 && MoveType = I && (StateNo = 1251106 || Life <= (LifeMax*.2))
Helpertype=normal
StateNo=1251124
ID=1251124
name="AURA"
postype=p1
ownpal = 1
pausemoveTime=99999
supermoveTime=99999

[State -3, T_T]
type = ScreenBound
trigger1 = roundstate > 2
trigger1 = !Alive
trigger1 = PrevStateNo = 1251113
;trigger2= EnemyNear, NumHelper(1251107) || Enemy, NumHelper(1251107)
value = 0
movecamera = 0,0

[State -3, T_T]
type = PosFreeze
trigger1 = NumEnemy
trigger1 = EnemyNear, NumHelper(1251107) || Enemy, NumHelper(1251107)
trigger2 = PrevStateNo = 1251121
trigger3 = StateNo = 1251125

[State -3, T_T]
type = SelfState
triggerall = NumPartner
triggerall = sysvar(4) > 0
trigger1 = RoundState = 2  && Pos Y < 0
trigger1 = StateNo = 0 && (Partner, StateNo != [1251112,1251114])
trigger1 = PrevStateNo = [1251112,1251114]
value = 1251112

[State -3, wait out]
type = ChangeState
triggerall = NumPartner
triggerall = RoundState = 2
triggerall = Life && Partner, Life
triggerall = StateNo != [1251110,1251114]
trigger1 = sysvar(4) = 2				; performed team attack
trigger1 = (PrevStateNo = [5000,5500]) || (StateNo != [200,1251199]) && (MoveType != H)
trigger2 = sysvar(4) = 4         		; performed Delayed Cancel
trigger2 = MoveType = I || ((Partner, prevStateNo = 1251131 || Partner, StateNo != [1251101,1251135]) && Time > 1)
trigger3 = sysvar(4) = 3          	; performed Cross Attack
trigger3 = (StateNo = 1251126 && Time > 1) && ((Partner, StateNo = 1251102 && Partner, BackEdgeBodyDist > 15) || Partner, PrevStateNo = [1251115,1251116])
trigger4 = (sysvar(4) = [2,4]) && MoveType = I && (StateNo != [1251101,1251133])
trigger5 = NumHelper(1251125)
trigger5 = StateNo = [0,199]
value = 1251111
ctrl = 0
ignorehitpause = 1

; ---- Uno Tag System v3.2 END LINE ----

;  ;]





[State -3, 音を鳴らす]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 52
trigger2 = stateno = 106
value = 40, 0



[State -3,]
type=helper
triggerall = AiLevel
trigger1=!NumHelper(40005)
trigger1=roundstate=2
trigger1=alive
helpertype=normal
name="AI"
stateno=40005
ID=40005
pos=9999,9999
keyctrl=0
pausemovetime=0
supermovetime=0
persistent = 0

[State -3, 関係無いステートに行かないように]
type=changestate
trigger1= ishelper(40005)
trigger1= stateno!=40005
value=40005

[State -3, AI起動用ヘルパー]
type=helper
trigger1=!NumHelper(50000)
trigger1=roundstate=2
trigger1=alive
trigger1=var(59)=0
Trigger1=(PrevStateNo=[190,194])||PrevStateNo=5900
Trigger1=ctrl&&stateno=0
helpertype=normal
name="AI"
stateno=50000
ID=50000
pos=9999,9999
keyctrl=1
pausemovetime=2147483647
supermovetime=2147483647
persistent = 0

[State -3, 関係無いステートに行かないように]
type=changestate
trigger1= ishelper(50000)
trigger1= stateno!=50000
value=50000


[State -3, AIフラグセット]
type = VarSet
triggerall = !var(58)
triggerall = RoundState = [1,2]
trigger1 = AILevel
trigger2 = numhelper(20000)
Trigger2 = Helper(20000),var(59)

var(59) = 1

[state -3, AIレベル]
type = VarSet
trigger1 = var(59) = 1
trigger1 = roundstate = 2
v = 58
Value =7

[Statedef 40005]
type = A
ctrl = 0
anim = 29999
movetype = I
physics = N
sprpriority = 1


[State 40005]
type = SelfState
trigger1 = !IsHelper
Value = 0
[State 40005]
type = assertspecial
trigger1 = 1
flag = invisible
[State 40005]
type = NotHitBy
value = SCA
trigger1 = 1


[State 40005]
type = parentvarset
trigger1 = 1
var(47)=0

[State 40005, 検出P]
type = parentvarset
triggerall = NumEnemy
trigger1 = Enemy(0),numproj > 0
trigger2 = Enemy(numenemy=2),numproj > 0
var(47)=1

[State 40005, 検出H]
type = parentvarset
triggerall = NumEnemy
trigger1 = playerIDexist(ID-1)=1
trigger1 = (playerID(ID-1),hitdefattr = SCA,AA,AT,AP || playerID(ID-1),movetype = A) && playerID(ID-1),teamside != root,teamside && playerID(ID-1),ishelper
trigger2 = playerIDexist(ID-2)=1
trigger2 = (playerID(ID-2),hitdefattr = SCA,AA,AT,AP || playerID(ID-2),movetype = A) && playerID(ID-2),teamside != root,teamside && playerID(ID-2),ishelper
trigger3 = playerIDexist(ID-3)=1
trigger3 = (playerID(ID-3),hitdefattr = SCA,AA,AT,AP || playerID(ID-3),movetype = A) && playerID(ID-3),teamside != root,teamside && playerID(ID-3),ishelper
trigger4 = playerIDexist(ID-4)=1
trigger4 = (playerID(ID-4),hitdefattr = SCA,AA,AT,AP || playerID(ID-4),movetype = A) && playerID(ID-4),teamside != root,teamside && playerID(ID-4),ishelper
trigger5 = playerIDexist(ID-5)=1
trigger5 = (playerID(ID-5),hitdefattr = SCA,AA,AT,AP || playerID(ID-5),movetype = A) && playerID(ID-5),teamside != root,teamside && playerID(ID-5),ishelper
trigger6 = playerIDexist(ID-6)=1
trigger6 = (playerID(ID-6),hitdefattr = SCA,AA,AT,AP || playerID(ID-6),movetype = A) && playerID(ID-6),teamside != root,teamside && playerID(ID-6),ishelper
trigger7 = playerIDexist(ID-7)=1
trigger7 = (playerID(ID-7),hitdefattr = SCA,AA,AT,AP || playerID(ID-7),movetype = A) && playerID(ID-7),teamside != root,teamside && playerID(ID-7),ishelper
trigger8 = playerIDexist(ID-8)=1
trigger8 = (playerID(ID-8),hitdefattr = SCA,AA,AT,AP || playerID(ID-8),movetype = A) && playerID(ID-8),teamside != root,teamside && playerID(ID-8),ishelper
trigger9 = playerIDexist(ID-9)=1
trigger9 = (playerID(ID-9),hitdefattr = SCA,AA,AT,AP || playerID(ID-9),movetype = A) && playerID(ID-9),teamside != root,teamside && playerID(ID-9),ishelper
trigger10= playerIDexist(ID-10)=1
trigger10= (playerID(ID-10),hitdefattr = SCA,AA,AT,AP || playerID(ID-10),movetype = A) && playerID(ID-10),teamside != root,teamside && playerID(ID-10),ishelper
trigger11= playerIDexist(ID-11)=1
trigger11= (playerID(ID-11),hitdefattr = SCA,AA,AT,AP || playerID(ID-11),movetype = A) && playerID(ID-11),teamside != root,teamside && playerID(ID-11),ishelper
trigger12= playerIDexist(ID-12)=1
trigger12= (playerID(ID-12),hitdefattr = SCA,AA,AT,AP || playerID(ID-12),movetype = A) && playerID(ID-12),teamside != root,teamside && playerID(ID-12),ishelper
trigger13= playerIDexist(ID-13)=1
trigger13= (playerID(ID-13),hitdefattr = SCA,AA,AT,AP || playerID(ID-13),movetype = A) && playerID(ID-13),teamside != root,teamside && playerID(ID-13),ishelper
trigger14= playerIDexist(ID-14)=1
trigger14= (playerID(ID-14),hitdefattr = SCA,AA,AT,AP || playerID(ID-14),movetype = A) && playerID(ID-14),teamside != root,teamside && playerID(ID-14),ishelper
trigger15= playerIDexist(ID-15)=1
trigger15= (playerID(ID-15),hitdefattr = SCA,AA,AT,AP || playerID(ID-15),movetype = A) && playerID(ID-15),teamside != root,teamside && playerID(ID-15),ishelper
trigger16= playerIDexist(ID-16)=1
trigger16= (playerID(ID-16),hitdefattr = SCA,AA,AT,AP || playerID(ID-16),movetype = A) && playerID(ID-16),teamside != root,teamside && playerID(ID-16),ishelper
trigger17= playerIDexist(ID-17)=1
trigger17= (playerID(ID-17),hitdefattr = SCA,AA,AT,AP || playerID(ID-17),movetype = A) && playerID(ID-17),teamside != root,teamside && playerID(ID-17),ishelper
trigger18= playerIDexist(ID-18)=1
trigger18= (playerID(ID-18),hitdefattr = SCA,AA,AT,AP || playerID(ID-18),movetype = A) && playerID(ID-18),teamside != root,teamside && playerID(ID-18),ishelper
trigger19= playerIDexist(ID-19)=1
trigger19= (playerID(ID-19),hitdefattr = SCA,AA,AT,AP || playerID(ID-19),movetype = A) && playerID(ID-19),teamside != root,teamside && playerID(ID-19),ishelper
trigger20= playerIDexist(ID-20)=1
trigger20= (playerID(ID-20),hitdefattr = SCA,AA,AT,AP || playerID(ID-20),movetype = A) && playerID(ID-20),teamside != root,teamside && playerID(ID-20),ishelper
var(47)=ceil(playerID(ID-1),p2bodydist x)

[State 40005]
type = destroyself
trigger1 = root,var(47)=0


[Statedef 50000]
anim=29999
ctrl=0

[State 10000,間違いで本体が来たら立ちへ移行]
type=selfstate
trigger1=!ishelper
value=0

[State 40005]
type = assertspecial
trigger1 = 1
flag = invisible

[State 40005]
type = NotHitBy
value = SCA
trigger1 = 1



[State 10000,プレイヤー判定]
type=varset
trigger1=command="up"&&root,command="up"
trigger2=command="down"&&root,command="down"
trigger3=command="back"&&root,command="back"
trigger4=command="fwd"&&root,command="fwd"
trigger5=command="a"&&root,command="a"
trigger6=command="b"&&root,command="b"
trigger7=command="c"&&root,command="c"
trigger8=command="x"&&root,command="x"
trigger9=command="y"&&root,command="y"
trigger10=command="z"&&root,command="z"
trigger11=command="start"&&root,command="start"
var(59)=-1

[State 10000,ﾌﾗｸﾞON]
type=parentvarset
triggerall=var(59)!=-1
trigger1=root,command="up"
trigger2=root,command="down"
trigger3=root,command="back"
trigger4=root,command="fwd"
trigger5=root,command="a"
trigger6=root,command="b"
trigger7=root,command="c"
trigger8=root,command="x"
trigger9=root,command="y"
trigger10=root,command="z"
trigger11=root,command="start"
var(59)=1



[State -1]
type = VarSet
trigger1 = root,var(59) > 0
trigger1 = enemynear,time = 1
v = 15
value = 0
ignorehitpause = 1

[State -1]
type = VarAdd
trigger1 = root,var(59)
v = 15
value = 1
ignorehitpause = 1



[State -1]
type = Varadd
trigger1 = root,var(59)
trigger1 = (root,stateno = [150,153]) || root,stateno = 710
var(16) = 1
ignorehitpause = 1

[State -1]
type = Varset
trigger1 = root,stateno != [150,153]
trigger1 = root,stateno != 710
var(16) = 0
ignorehitpause = 1



[Statedef 300000]
type=A
movetype=I
physics=N
ctrl=0
anim=29999
sprpriority=0
velset=10, 0

[State 9741, Safety]
type=selfstate
trigger1=!ishelper
value=0

[State -2]
type=Nothitby
trigger1=1
value=SCA


[State 30000]
type=ScreenBound
trigger1=1
value=0
movecamera=0,0

[State 30000]
type=Projectile
trigger1=time=0
projID=300001
projanim=29999
velocity=10, 0
projpriority=4
projsprpriority=2
projstagebound=0
projedgebound=99999
offset=0, 0
postype=right
supermovetime=99999
pausemovetime=99999
projremovetime=-1

[State -2]
type=assertspecial
trigger1=1
flag=noshadow
flag2=invisible
ignorehitpause=1

[State -2]
type=velset
trigger1=!(root,numprojID(300001))
x=0
y=0



[Statedef 300010]
type=A
movetype=I
physics=N
ctrl=0
anim=29999
sprpriority=0
velset=-10, 0

[State 9741, Safety]
type=selfstate
trigger1=!ishelper
value=0

[State -2]
type=Nothitby
trigger1=1
value=SCA

[State 30000]
type=ScreenBound
trigger1=1
value=0
movecamera=0,0

[State 30000]
type=Projectile
trigger1=time=0
projID=300011
projanim=29999
velocity=-10, 0
projpriority=4
projsprpriority=2
projstagebound=0
projedgebound=99999
offset=0, 0
postype=left
supermovetime=99999
pausemovetime=99999
projremovetime=-1

[State -2]
type=assertspecial
trigger1=1
flag=noshadow
flag2=invisible
ignorehitpause=1

[State -2]
type=velset
trigger1=!(root,numprojID(300011))
x=0
y=0


















[Statedef 100000]
type    = S
physics = S
anim = 40
ctrl = 0
sprpriority = 1

[State 40]
type = NotHitBy
trigger1 = 1
value = ,NT,ST,HT

[State 40, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 40, 2]
type = VarSet
trigger1 = command = "holdfwd"
trigger2 = var(59)=1
sysvar(1) = 1

[State 40, 3]
type = VarSet
triggerall = var(59)=0
trigger1 = command = "holdback"
sysvar(1) = -1

[State 40, 4]
type = VelSet
trigger1 = AnimTime = 0
trigger1 = Var(5) = 0
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = const(velocity.jump.y)

[State 40, 5]
type = VelSet
trigger1 = AnimTime = 0
trigger1 = prevstateno = 100
trigger1 = sysvar(1) = 1
x = const(velocity.runjump.fwd.x)

[State 40, 0]
type = VarSet
trigger1 = time = 0
var(5) = 0


[State 40, 0]
type = VarSet
triggerall = var(59)=0
trigger1 = command != "holdup"
var(5) = 1

[State 40, 0]
type = VelSet
trigger1 = AnimTime = 0
trigger1 = Var(5) = 1
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = -6.9

[State 40, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 100001
ctrl = 1


[Statedef 100001]
type    = A
physics = A

[State 50, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 50, 2]
type = ChangeAnim
trigger1 = Time = 0
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))

[State 50, 3]
type = ChangeAnim
trigger1 = Vel y > -2
trigger1 = SelfAnimExist(anim + 3)
persistent = 0
value = Anim + 3

[State 40, 6]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
trigger1 = numtarget
trigger1 = time >= 5
value = 101002


[Statedef 101002]
type    = A
movetype= A
physics = A
poweradd= 0
ctrl = 0
anim = 610
sprpriority = 2

[State 610, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 4
value = 2, 0
channel = 0

[State 610, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 4
value = 0, 1

[State 600, 2]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage    = 32*fvar(4)
guardflag = HA
animtype = medium
priority = 3, Hit
pausetime = 10,10
sparkno = s820
guard.sparkno = s840
sparkxy = -10,-58
hitsound = s1, 2
guardsound = s1, 6
ground.type = High
ground.slidetime = 11
ground.hittime  = 11
guard.hittime  = 11
ground.velocity = -7*const(size.xscale)
air.velocity = -1.3*const(size.xscale),-3
ground.cornerpush.veloff = 0
getpower = 60,30
givepower = 30,15
fall = 0
air.fall = ifelse(EnemyNear,Movetype=H,1,0)
fall.recover = 0

[State 40, 6]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
trigger1 = numtarget
trigger1 = movecontact
value = 100002

[State 200, 7]
type = statetypeset
trigger1 = animelem = 5
movetype = I


[Statedef 100002]
type    = A
movetype= A
physics = A
poweradd= 0
ctrl = 0
anim = 620
sprpriority = 2

[State 1027, vel]
type = Velset
trigger1 = !Time
trigger1 = prevstateno = 600 || prevstateno = 610 || prevstateno = 101002
y = -3

[State 0, snd]
type = playsnd
trigger1 = animelem = 3
value = 2,1
channel = 0

[State 640, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 2
value = 0, 1

[State 610, 3]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage = 78*fvar(4)
guardflag = HA
animtype = hard
priority = 4, Hit
pausetime = 11,11
sparkno = s830
guard.sparkno = s840
sparkxy = -20,-55
hitsound = s1, 3
guardsound = s1, 6
animtype = hard
ground.type = High
ground.slidetime = 16
guard.slidetime = 14
ground.hittime  = 16
ground.velocity = -4*const(size.xscale)
air.velocity = -4*const(size.xscale),-2
ground.cornerpush.veloff = 0
getpower = 80,40
givepower = 40,20
fall = 0
air.fall = 1
fall.recover = 0

[State 200, 7]
type = statetypeset
trigger1 = animelem = 6
movetype = I


[Statedef 101003]
type    = S
physics = S
anim = 40
ctrl = 0
sprpriority = 1

[State 40]
type = NotHitBy
trigger1 = 1
value = ,NT,ST,HT

[State 40, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 40, 2]
type = VarSet
trigger1 = command = "holdfwd"
trigger2 = var(59)=1
sysvar(1) = 1

[State 40, 3]
type = VarSet
triggerall = var(59)=0
trigger1 = command = "holdback"
sysvar(1) = -1

[State 40, 4]
type = VelSet
trigger1 = AnimTime = 0
trigger1 = Var(5) = 0
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = const(velocity.jump.y)

[State 40, 5]
type = VelSet
trigger1 = AnimTime = 0
trigger1 = prevstateno = 100
trigger1 = sysvar(1) = 1
x = const(velocity.runjump.fwd.x)

[State 40, 0]
type = VarSet
trigger1 = time = 0
var(5) = 0


[State 40, 0]
type = VarSet
triggerall = var(59)=0
trigger1 = command != "holdup"
var(5) = 1

[State 40, 0]
type = VelSet
trigger1 = AnimTime = 0
trigger1 = Var(5) = 1
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = -6.9

[State 40, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 101004
ctrl = 1


[Statedef 101004]
type    = A
physics = A

[State 50, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 50, 2]
type = ChangeAnim
trigger1 = Time = 0
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))

[State 50, 3]
type = ChangeAnim
trigger1 = Vel y > -2
trigger1 = SelfAnimExist(anim + 3)
persistent = 0
value = Anim + 3

[State 40, 6]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
trigger1 = numtarget
trigger1 = time >= 0
value = 101005


[Statedef 101005]
type    = A
movetype= A
physics = A
poweradd= 0
ctrl = 0
anim = 600
sprpriority = 2

[State 600, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 610, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 2
value = 2, 0
channel = 0

[State 0, hit]
type = hitdef
trigger1 = animelem = 2
attr = A, NA
damage = 24*fvar(4)
priority = 3,Hit
hitflag = MAF
guardflag = H
animtype = Light
air.animtype = Back
fall.animtype = Back
pausetime = 9,9
sparkno = s810
sparkxy = -11,-34
guard.sparkno = s840
hitsound = s1,0
guardsound = s1,6
getpower = 40,20
givepower = 20,10
ground.type = High
ground.slidetime = 12
ground.hittime = 12
ground.velocity = -6
guard.velocity = -5
air.type = High
air.velocity = -5,-3
air.hittime = 12
fall = 0
air.fall = 0
yaccel = .36

[State 40, 6]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
trigger1 = numtarget
trigger1 = movecontact
value = 101006

[State 600, コントロール]
type = CtrlSet
trigger1 = Time = 17
value = 1


[Statedef 101006]
type    = A
movetype= A
physics = A
poweradd= 0
ctrl = 0
anim = 620
sprpriority = 2

[State 1027, vel]
type = Velset
trigger1 = !Time
trigger1 = prevstateno = 600 || prevstateno = 610 || prevstateno = 101002
y = -3

[State 0, snd]
type = playsnd
trigger1 = animelem = 3
value = 2,1
channel = 0

[State 640, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 2
value = 0, 1

[State 610, 3]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage = 78*fvar(4)
guardflag = HA
animtype = hard
priority = 4, Hit
pausetime = 11,11
sparkno = s830
guard.sparkno = s840
sparkxy = -20,-55
hitsound = s1, 3
guardsound = s1, 6
animtype = hard
ground.type = High
ground.slidetime = 16
guard.slidetime = 14
ground.hittime  = 16
ground.velocity = -4*const(size.xscale)
air.velocity = -4*const(size.xscale),-2
ground.cornerpush.veloff = 0
getpower = 80,40
givepower = 40,20
fall = 0
air.fall = 1
fall.recover = 0

[State 200, 7]
type = statetypeset
trigger1 = animelem = 6
movetype = I


[Statedef 100003]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 200
velset = 0,0
poweradd = 0
sprpriority = 2

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 0, hit]
type = hitdef
trigger1 = animelem = 3
attr = S, NA
damage = 35*fvar(4)
priority = 3,Hit
hitflag = MAF
guardflag = M
animtype = Light
air.animtype = Back
fall.animtype = Back
pausetime = 10,10
sparkno = s810
sparkxy = -8,-78
guard.sparkno = s840
hitsound = s1,0
guardsound = s1,6
getpower = 40,20
givepower = 20,10
ground.type = High
ground.slidetime = 12
guard.slidetime = 10
ground.hittime  = 10
ground.velocity = -3
guard.velocity = -3
ground.cornerpush.veloff = -8
air.cornerpush.veloff = -8
air.type = High
air.velocity = -3.5,-2
ground.cornerpush.veloff = -5
air.cornerpush.veloff = -5
fall = 0
fall.recover = 0
air.fall = ifelse(EnemyNear,Movetype=H,1,0)
yaccel = .36
id = 200

[State 200, ステート変更]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = numtarget
trigger1 = AnimTime = 0
trigger2 = movecontact && time >= 6
value = 100004

[State 200, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


[Statedef 100004]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
anim = 210
sprpriority = -1

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 2, 0
channel = 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 0, 1

[State 230, 2]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Medium
damage    = 63*fvar(4)
guardflag = MA
priority = 3, Hit
pausetime = 10,10
sparkno = s820
guard.sparkno = s840
sparkxy = -10,-50
hitsound = s1, 2
guardsound = s1, 6
ground.type = Low
ground.slidetime = 15
ground.hittime  = 15
guard.hittime  = 15
ground.velocity = -7*const(size.xscale)
air.velocity = -5*const(size.xscale),-3
ground.cornerpush.veloff = -10
air.cornerpush.veloff = -10
getpower = 50,25
givepower = 20,10
fall = 0
air.fall = ifelse(EnemyNear,Movetype=H,1,0)
fall.recover = 0

[State 200, ステート変更]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = var(55) >= 3
triggerall = numtarget
triggerall = power >= 3000
trigger1 = life <= 500
trigger1 = Time = 10
value = 3300

[State 200, ステート変更]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = numtarget
triggerall = var(55) != 0
trigger1 = AnimTime = 0
trigger2 = movecontact
value = 100005

[State 210, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


[Statedef 100005]
type    = S
movetype= A
physics = S
poweradd= 0
velset = 0,0
anim = 1020
ctrl = 0
sprpriority = 2

[State 1000, 音を鳴らす いけぇ]
type = PlaySnd
trigger1 = animelem = 3
value = 3, 7
channel = 0

[State 1000, 音を鳴らす　発砲音]
type = PlaySnd
trigger1 = animelem = 4
value = 3, 5

[State 1000, 音を鳴らす　キャモーン]
type = PlaySnd
triggerall = var(53) != 10
trigger1 = animelem = 5
value = 3, 10
channel = 1

[State 191, 発砲時けむり]
type = Explod
trigger1 = animelemtime(4) = 1
anim = 2000
id = 2000
postype = p1
pos = 45,-48
sprpriority = 4
bindtime = -1
ownpal = 1

[state 3003　弾丸　ヘルパー]
type = helper
trigger1 = animelemtime(4) = 1
name = "tama"
helpertype = normal
stateno = 1021
id = 1001
pos = ceil(70*const(size.xscale)),ceil(-43*const(size.yscale))
postype = p1
ownpal = 1

[State 1000, 7]
type = varadd
trigger1 = animelemtime(4) = 1
var(54) = 1

[state 3003　ピストルズ　ヘルパー]
type = helper
triggerall = var(53) != 10
trigger1 = animelemtime(4) = 1
name = "s p"
helpertype = normal
stateno = 1022
id = 1011+var(53)
pos = ceil(70*const(size.xscale)),ceil(-43*const(size.yscale))
postype = p1
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 1000, 弾消費]
type = varadd
triggerall = var(55) != 0
triggerall = RoundState = 2
trigger1 = animelemtime(4) = 1
v = 55
value = -1

[State 1000, 連射]
type = ChangeState
triggerall = time >= 25
triggerall = time <= 30
triggerall = var(55) != 0
trigger1 = var(59) = 0
trigger1 = command = "x" || command = "y" || command = "z"
trigger2 = var(59)=1&& RoundState = 2
trigger2 = var(59) = 1
trigger2 = numtarget
trigger2 = target,statetype != L
value = 100006

[State 1000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1


[Statedef 100006]
type    = S
movetype= A
physics = S
poweradd= 20
velset = 0,0
anim = 1025
ctrl = 0
sprpriority = 2

[State 1000, 音を鳴らす いけぇ]
type = PlaySnd
trigger1 = animelem = 1
value = 3, 7
channel = 0

[State 1000, 音を鳴らす　発砲音]
type = PlaySnd
trigger1 = animelem = 2
value = 3, 5

[State 1000, 音を鳴らす　キャモーン]
type = PlaySnd
triggerall = var(53) != 10
trigger1 = animelem = 2
value = 3, 14
channel = 1

[State 191, 発砲時けむり]
type = Explod
trigger1 = animelemtime(2) = 1
anim = 2000
id = 2000
postype = p1
pos = 45,-48
sprpriority = 4
bindtime = -1
ownpal = 1

[state 3003　弾丸　ヘルパー]
type = helper
trigger1 = animelemtime(2) = 1
name = "tama"
helpertype = normal
stateno = 1021
id = 1001
pos = ceil(70*const(size.xscale)),ceil(-43*const(size.yscale))
postype = p1
ownpal = 1

[State 1000, 7]
type = varadd
trigger1 = animelemtime(2) = 1
var(54) = 1

[state 3003　ピストルズ　ヘルパー]
type = helper
triggerall = var(53) != 10
trigger1 = animelemtime(2) = 1
name = "s p"
helpertype = normal
stateno = 1022
id = 1011+var(53)
pos = ceil(70*const(size.xscale)),ceil(-43*const(size.yscale))
postype = p1
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 1000, 弾消費]
type = varadd
triggerall = var(55) != 0
triggerall = RoundState = 2
trigger1 = animelemtime(2) = 1
v = 55
value = -1

[State 1000, 連射]
type = ChangeState
triggerall = time >= 25
triggerall = time <= 30
triggerall = var(55) != 0
trigger1 = var(59) = 0
trigger1 = command = "x" || command = "y" || command = "z"
trigger2 = var(59)=1&& RoundState = 2
trigger2 = var(59) = 1
trigger2 = numtarget
trigger2 = target,statetype != L
value = 100007

[State 1000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1


[Statedef 100007]
type    = S
movetype= A
physics = S
poweradd= 50
velset = 0,0
anim = 1025
ctrl = 0
sprpriority = 2

[State 1000, 音を鳴らす いけぇ]
type = PlaySnd
trigger1 = animelem = 1
value = 3, 7
channel = 0

[State 1000, 音を鳴らす　発砲音]
type = PlaySnd
trigger1 = animelem = 2
value = 3, 5

[State 1000, 音を鳴らす　キャモーン]
type = PlaySnd
triggerall = var(53) != 10
trigger1 = animelem = 2
value = 3, 15
channel = 1

[State 191, 発砲時けむり]
type = Explod
trigger1 = animelemtime(2) = 1
anim = 2000
id = 2000
postype = p1
pos = 45,-48
sprpriority = 4
bindtime = -1
ownpal = 1

[state 3003　弾丸　ヘルパー]
type = helper
trigger1 = animelemtime(2) = 1
name = "tama"
helpertype = normal
stateno = 1021
id = 1001
pos = ceil(70*const(size.xscale)),ceil(-43*const(size.yscale))
postype = p1
ownpal = 1

[State 1000, 7]
type = varadd
trigger1 = animelemtime(2) = 1
var(54) = 1

[state 3003　ピストルズ　ヘルパー]
type = helper
triggerall = var(53) != 10
trigger1 = animelemtime(2) = 1
name = "s p"
helpertype = normal
stateno = 1022
id = 1011+var(53)
pos = ceil(70*const(size.xscale)),ceil(-43*const(size.yscale))
postype = p1
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 1000, 弾消費]
type = varadd
triggerall = var(55) != 0
triggerall = RoundState = 2
trigger1 = animelemtime(2) = 1
v = 55
value = -1

[State 1000, ステート変更]
type = ChangeState
triggerall = var(55) != 0
trigger1 = var(59) = 1
trigger1 = AnimTime = 0
value = 1330

[State 1000, ステート変更]
type = ChangeState
triggerall = var(55) = 0
trigger1 = var(59) = 1
trigger1 = AnimTime = 0
value = 350

[State 1000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1


[Statedef 100005]
type    = S
movetype= A
physics = S
poweradd= 0
velset = 0,0
anim = 1000
ctrl = 0
sprpriority = 2

[State 1000, 音を鳴らす いけぇ]
type = PlaySnd
trigger1 = animelem = 4
value = 3, 7
channel = 0

[State 1000, 音を鳴らす　発射音]
type = PlaySnd
trigger1 = animelem = 5
value = 3, 5

[State 1000, 音を鳴らす　キャモーン]
type = PlaySnd
triggerall = var(53) != 10
trigger1 = animelem = 5
value = 3, 10


[State 191, 発砲時けむり]
type = Explod
trigger1 = animelemtime(5) = 1
anim = 2000
id = 2000
postype = p1
pos = 65,-105
sprpriority = 4
bindtime = -1
ownpal = 1

[state 3003　弾丸ヘルパー]
type = helper
trigger1 = animelemtime(5) = 1
name = "tama"
helpertype = normal
stateno = 1001
id = 1001
pos = ceil(100*const(size.xscale)),ceil(-95*const(size.yscale))
postype = p1
ownpal = 1

[State 1000, 7]
type = varadd
trigger1 = animelemtime(5) = 1
var(54) = 1

[state 3003　ピストルズヘルパー]
type = helper
triggerall = var(53) != 10
trigger1 = animelemtime(5) = 1
name = "s p"
helpertype = normal
stateno = 1002
id = 1011+var(53)
pos = ceil(100*const(size.xscale)),ceil(-95*const(size.yscale))
postype = p1
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 1000, 弾消費]
type = varadd
triggerall = var(55) != 0
triggerall = RoundState = 2
trigger1 = animelemtime(5) = 1
v = 55
value = -1

[State 1000, 連射]
type = ChangeState
triggerall = time >= 15
triggerall = time <= 30
triggerall = var(55) != 0
trigger1 = var(59) = 0
trigger1 = command = "x" || command = "y" || command = "z"
trigger2 = var(59)=1&& RoundState = 2
trigger2 = var(59) = 1
trigger2 = numtarget
value = 100006

[State 1000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


[Statedef 100006]
type    = S
movetype= A
physics = S
poweradd= 20
velset = 0,0
anim = 1005
ctrl = 0
sprpriority = 2

[State 1000, 音を鳴らす いけぇ]
type = PlaySnd
trigger1 = animelem = 1
value = 3, 7
channel = 0

[State 1000, 音を鳴らす　発射音]
type = PlaySnd
trigger1 = animelem = 2
value = 3, 5

[State 1000, 音を鳴らす　キャモーン]
type = PlaySnd
triggerall = var(53) != 10
trigger1 = time = 0
value = 3, 14


[State 191, 発砲時けむり]
type = Explod
trigger1 = animelemtime(2) = 1
anim = 2000
id = 2000
postype = p1
pos = 65,-105
sprpriority = 4
bindtime = -1
ownpal = 1

[state 3003　弾丸ヘルパー]
type = helper
trigger1 = animelemtime(2) = 1
name = "tama"
helpertype = normal
stateno = 1001
id = 1001
pos = ceil(100*const(size.xscale)),ceil(-95*const(size.yscale))
postype = p1
ownpal = 1

[State 1000, 7]
type = varadd
trigger1 = animelemtime(2) = 1
var(54) = 1

[state 3003　ピストルズヘルパー]
type = helper
triggerall = var(53) != 10
trigger1 = animelemtime(2) = 1
name = "s p"
helpertype = normal
stateno = 1002
id = 1011+var(53)
pos = ceil(100*const(size.xscale)),ceil(-95*const(size.yscale))
postype = p1
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 1000, 弾消費]
type = varadd
triggerall = var(55) != 0
triggerall = RoundState = 2
trigger1 = animelemtime(2) = 1
v = 55
value = -1

[State 1000, 三連射]
type = ChangeState
triggerall = time >= 13
triggerall = time <= 28
triggerall = var(55) != 0
trigger1 = var(59) = 0
trigger1 = command = "x" || command = "y" || command = "z"
trigger2 = var(59)=1&& RoundState = 2
trigger2 = var(59) = 1
trigger2 = numtarget
value = 100007

[State 1000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


[Statedef 100007]
type    = S
movetype= A
physics = S
poweradd= 50
velset = 0,0
anim = 1005
ctrl = 0
sprpriority = 2

[State 1000, 音を鳴らす いけぇ]
type = PlaySnd
trigger1 = animelem = 1
value = 3, 7
channel = 0

[State 1000, 音を鳴らす　発射音]
type = PlaySnd
trigger1 = animelem = 2
value = 3, 5

[State 1000, 音を鳴らす　キャモーン]
type = PlaySnd
triggerall = var(53) != 10
trigger1 = time = 0
value = 3, 15


[State 191, 発砲時けむり]
type = Explod
trigger1 = animelemtime(2) = 1
anim = 2000
id = 2000
postype = p1
pos = 65,-105
sprpriority = 4
bindtime = -1
ownpal = 1

[state 3003　弾丸ヘルパー]
type = helper
trigger1 = animelemtime(2) = 1
name = "tama"
helpertype = normal
stateno = 1001
id = 1001
pos = ceil(100*const(size.xscale)),ceil(-95*const(size.yscale))
postype = p1
ownpal = 1

[State 1000, 7]
type = varadd
trigger1 = animelemtime(2) = 1
var(54) = 1

[state 3003　ピストルズヘルパー]
type = helper
triggerall = var(53) != 10
trigger1 = animelemtime(2) = 1
name = "s p"
helpertype = normal
stateno = 1002
id = 1011+var(53)
pos = ceil(100*const(size.xscale)),ceil(-95*const(size.yscale))
postype = p1
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 1000, 弾消費]
type = varadd
triggerall = var(55) != 0
triggerall = RoundState = 2
trigger1 = animelemtime(2) = 1
v = 55
value = -1

[State 1000, ステート変更]
type = ChangeState
triggerall = var(55) != 0
trigger1 = var(59) = 1
trigger1 = AnimTime = 0
value = 1330

[State 1000, ステート変更]
type = ChangeState
triggerall = var(55) = 0
trigger1 = var(59) = 1
trigger1 = AnimTime = 0
value = 350

[State 1000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


[Statedef 100010]
type    = S
physics = S
anim = 40
ctrl = 0
sprpriority = 1

[State 40]
type = NotHitBy
trigger1 = 1
value = ,NT,ST,HT

[State 40, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 40, 2]
type = VarSet
trigger1 = command = "holdfwd"
trigger2 = var(59)=1
sysvar(1) = 1

[State 40, 3]
type = VarSet
triggerall = var(59)=0
trigger1 = command = "holdback"
sysvar(1) = -1

[State 40, 4]
type = VelSet
trigger1 = AnimTime = 0
trigger1 = Var(5) = 0
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = const(velocity.jump.y)

[State 40, 5]
type = VelSet
trigger1 = AnimTime = 0
trigger1 = prevstateno = 100
trigger1 = sysvar(1) = 1
x = const(velocity.runjump.fwd.x)

[State 40, 0]
type = VarSet
trigger1 = time = 0
var(5) = 0


[State 40, 0]
type = VarSet
trigger1 = var(59)=0
trigger1 = command != "holdup"
trigger2 = var(59)=1
var(5) = 1

[State 40, 0]
type = VelSet
trigger1 = AnimTime = 0
trigger1 = Var(5) = 1
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = -6.9

[State 40, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 101011
ctrl = 1


[Statedef 101011]
type    = A
physics = A

[State 50, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 50, 2]
type = ChangeAnim
trigger1 = Time = 0
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))

[State 50, 3]
type = ChangeAnim
trigger1 = Vel y > -2
trigger1 = SelfAnimExist(anim + 3)
persistent = 0
value = Anim + 3

[State 40, 6]
type = ChangeState
trigger1 = numtarget
trigger1 = time >= 0
value = 101012


[Statedef 101012]
type    = A
movetype= A
physics = A
poweradd= 0
ctrl = 0
anim = 600
sprpriority = 2

[State 600, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 610, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 2
value = 2, 0
channel = 0

[State 0, hit]
type = hitdef
trigger1 = animelem = 2
attr = A, NA
damage = 24*fvar(4)
priority = 3,Hit
hitflag = MAF
guardflag = H
animtype = Light
air.animtype = Back
fall.animtype = Back
pausetime = 9,9
sparkno = s810
sparkxy = -11,-34
guard.sparkno = s840
hitsound = s1,0
guardsound = s1,6
getpower = 40,20
givepower = 20,10
ground.type = High
ground.slidetime = 12
ground.hittime = 12
ground.velocity = -6
guard.velocity = -5
air.type = High
air.velocity = -5,-3
air.hittime = 12
fall = 0
air.fall = 0
yaccel = .36

[State 40, 6]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
trigger1 = numtarget
trigger1 = movecontact
value = 101013

[State 600, コントロール]
type = CtrlSet
trigger1 = Time = 17
value = 1


[Statedef 101013]
type    = A
movetype= A
physics = A
poweradd= 0
ctrl = 0
anim = 620
sprpriority = 2

[State 1027, vel]
type = Velset
trigger1 = !Time
trigger1 = prevstateno = 600 || prevstateno = 610 || prevstateno = 101002
y = -3

[State 0, snd]
type = playsnd
trigger1 = animelem = 3
value = 2,1
channel = 0

[State 640, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 2
value = 0, 1

[State 610, 3]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage = 78*fvar(4)
guardflag = HA
animtype = hard
priority = 4, Hit
pausetime = 11,11
sparkno = s830
guard.sparkno = s840
sparkxy = -20,-55
hitsound = s1, 3
guardsound = s1, 6
animtype = hard
ground.type = High
ground.slidetime = 16
guard.slidetime = 14
ground.hittime  = 16
ground.velocity = -4*const(size.xscale)
air.velocity = -4*const(size.xscale),-2
ground.cornerpush.veloff = 0
getpower = 80,40
givepower = 40,20
fall = 0
air.fall = 1
fall.recover = 0

[State 200, 7]
type = statetypeset
trigger1 = animelem = 6
movetype = I


[Statedef 100011]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 200
velset = 0,0
poweradd = 0
sprpriority = 2

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 0, hit]
type = hitdef
trigger1 = animelem = 3
attr = S, NA
damage = 35*fvar(4)
priority = 3,Hit
hitflag = MAF
guardflag = M
animtype = Light
air.animtype = Back
fall.animtype = Back
pausetime = 10,10
sparkno = s810
sparkxy = -8,-78
guard.sparkno = s840
hitsound = s1,0
guardsound = s1,6
getpower = 40,20
givepower = 20,10
ground.type = High
ground.slidetime = 12
guard.slidetime = 10
ground.hittime  = 10
ground.velocity = -3
guard.velocity = -3
ground.cornerpush.veloff = -8
air.cornerpush.veloff = -8
air.type = High
air.velocity = -3.5,-2
ground.cornerpush.veloff = -5
air.cornerpush.veloff = -5
fall = 0
fall.recover = 0
air.fall = ifelse(EnemyNear,Movetype=H,1,0)
yaccel = .36
id = 200

[State 200, ステート変更]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = numtarget
trigger1 = movecontact
value = 100012

[State 200, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


[Statedef 100012]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
anim = 210
sprpriority = -1

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 2, 0
channel = 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 0, 1

[State 230, 2]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Medium
damage    = 63*fvar(4)
guardflag = MA
priority = 3, Hit
pausetime = 10,10
sparkno = s820
guard.sparkno = s840
sparkxy = -10,-50
hitsound = s1, 2
guardsound = s1, 6
ground.type = Low
ground.slidetime = 15
ground.hittime  = 15
guard.hittime  = 15
ground.velocity = -7*const(size.xscale)
air.velocity = -5*const(size.xscale),-3
ground.cornerpush.veloff = -10
air.cornerpush.veloff = -10
getpower = 50,25
givepower = 20,10
fall = 0
air.fall = ifelse(EnemyNear,Movetype=H,1,0)
fall.recover = 0

[State 200, ステート変更]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = var(55) > 1
triggerall = numtarget
trigger1 = movecontact
value = 100013

[State 200, ステート変更]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = var(55) = 1
triggerall = numtarget
trigger1 = movecontact
value = 100015

[State 200, ステート変更]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = var(55) = 0
triggerall = numtarget
trigger1 = movecontact
value = 220

[State 210, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


[Statedef 100013]
type    = S
movetype= A
physics = S
poweradd= 0
velset = 0,0
anim = 1000
ctrl = 0
sprpriority = 2

[State 1000, 音を鳴らす いけぇ]
type = PlaySnd
trigger1 = animelem = 4
value = 3, 7
channel = 0

[State 1000, 音を鳴らす　発射音]
type = PlaySnd
trigger1 = animelem = 5
value = 3, 5

[State 1000, 音を鳴らす　キャモーン]
type = PlaySnd
triggerall = var(53) != 10
trigger1 = animelem = 5
value = 3, 10


[State 191, 発砲時けむり]
type = Explod
trigger1 = animelemtime(5) = 1
anim = 2000
id = 2000
postype = p1
pos = 65,-105
sprpriority = 4
bindtime = -1
ownpal = 1

[state 3003　弾丸ヘルパー]
type = helper
trigger1 = animelemtime(5) = 1
name = "tama"
helpertype = normal
stateno = 1001
id = 1001
pos = ceil(100*const(size.xscale)),ceil(-95*const(size.yscale))
postype = p1
ownpal = 1

[State 1000, 7]
type = varadd
trigger1 = animelemtime(5) = 1
var(54) = 1

[state 3003　ピストルズヘルパー]
type = helper
triggerall = var(53) != 10
trigger1 = animelemtime(5) = 1
name = "s p"
helpertype = normal
stateno = 1002
id = 1011+var(53)
pos = ceil(100*const(size.xscale)),ceil(-95*const(size.yscale))
postype = p1
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 1000, 弾消費]
type = varadd
triggerall = var(55) != 0
triggerall = RoundState = 2
trigger1 = animelemtime(5) = 1
v = 55
value = -1

[State 1000, 連射]
type = ChangeState
triggerall = time >= 15
triggerall = time <= 30
triggerall = var(55) != 0
trigger1 = var(59) = 0
trigger1 = command = "x" || command = "y" || command = "z"
value = 100010

[State 200, ステート変更]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
trigger1 = AnimTime = 0
trigger1 = numtarget
value = 100014

[State 1000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


[Statedef 100014]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
anim = 0
sprpriority = 2

[State 200, ステート変更]
type = ChangeState
triggerall = var(59) = 1
trigger1 = Time >= 4
trigger1 = numtarget
value = 100010

[State 400, 4]
type = ChangeState
trigger1 = !numtarget
value = 0
ctrl = 1


[Statedef 100015]
type    = S
movetype= A
physics = S
poweradd= 0
velset = 0,0
anim = 1300
ctrl = 0
sprpriority = 2

[State 1000, 音を鳴らす いけぇ]
type = PlaySnd
trigger1 = animelem = 3
value = 2, 0
channel = 0

[State 1000, 音を鳴らす　発射音]
type = PlaySnd
trigger1 = animelem = 4
value = 3, 5

[State 191, 発砲時けむり]
type = Explod
trigger1 = animelemtime(4) = 1
anim = 2000
id = 2000
postype = p1
pos = 25,-70
sprpriority = 4
bindtime = -1
ownpal = 1

[state 3003　弾丸ヘルパー]
type = helper
trigger1 = animelemtime(4) = 1
name = "tama"
helpertype = normal
stateno = 1301
id = 1001
pos = ceil(25*const(size.xscale)),ceil(-70*const(size.yscale))
postype = p1
ownpal = 1

[State 1000, 弾消費]
type = varadd
triggerall = var(55) != 0
triggerall = RoundState = 2
trigger1 = animelemtime(4) = 1
v = 55
value = -1

[State 200, ステート変更]
type = ChangeState
triggerall = var(59) = 1
triggerall = numtarget
trigger1 = animtime = 0
value = 100016

[State 1000, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


[Statedef 100016]
type = S
movetype = I
physics = S
ctrl = 0
anim = 350
velset = 0,0
sprpriority = 2

[state 3003　排莢]
type = helper
trigger1 = animelem = 3
name = "yakkyou"
helpertype = normal
stateno = 360
id = 360
pos = ceil(15*const(size.xscale)),ceil(-85*const(size.yscale))
postype = p1
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 1000, var]
type = varset
trigger1 = animelem = 5
var(55) = 6

[state 3003　装填]
type = helper
trigger1 = animelem = 5
name = "souten"
helpertype = normal
stateno = 370
id = 370
pos = ceil(3*const(size.xscale)),ceil(-80*const(size.yscale))
postype = p1
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 3
value = 6, 8
channel = 0

[State 200, ステート変更]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = numtarget
trigger1 = animtime = 0
value = 100017

[State 195, ステート変更]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1


[Statedef 100017]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
anim = 20
sprpriority = 2

[State 20, 1]
type = VelSet
trigger1 = 1
x = const(velocity.walk.fwd.x)

[State 200, ステート変更]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
trigger1 = P2BodyDist X <= 35
trigger1 = enemynear,HitShakeOver
value = 100019

[State 200, ステート変更]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
trigger1 = P2BodyDist X <= 35
value = 100018

[State 400, 4]
type = ChangeState
trigger1 = !numtarget
value = 0
ctrl = 1


[Statedef 100018]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
anim = 0
sprpriority = 2

[State 200, ステート変更]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2

trigger1 = numtarget
trigger1 = enemynear,HitShakeOver
value = 100019

[State 400, 4]
type = ChangeState
trigger1 = !numtarget
value = 0
ctrl = 1


[Statedef 100019]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 200
velset = 0,0
poweradd = 0
sprpriority = 2

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 0, hit]
type = hitdef
trigger1 = animelem = 3
attr = S, NA
damage = 35*fvar(4)
priority = 3,Hit
hitflag = MAF
guardflag = M
animtype = Light
air.animtype = Back
fall.animtype = Back
pausetime = 10,10
sparkno = s810
sparkxy = -8,-78
guard.sparkno = s840
hitsound = s1,0
guardsound = s1,6
getpower = 40,20
givepower = 20,10
ground.type = High
ground.slidetime = 12
guard.slidetime = 10
ground.hittime  = 10
ground.velocity = -3
guard.velocity = -3
ground.cornerpush.veloff = -8
air.cornerpush.veloff = -8
air.type = High
air.velocity = -3.5,-2
ground.cornerpush.veloff = -5
air.cornerpush.veloff = -5
fall = 0
fall.recover = 0
air.fall = ifelse(EnemyNear,Movetype=H,1,0)
yaccel = .36
id = 200

[State 200, ステート変更]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = numtarget
trigger1 = time >= 6
value = 100020

[State 200, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


[Statedef 100020]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
anim = 210
sprpriority = -1

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 2, 0
channel = 0

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 0, 1

[State 230, 2]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Medium
damage    = 63*fvar(4)
guardflag = MA
priority = 3, Hit
pausetime = 10,10
sparkno = s820
guard.sparkno = s840
sparkxy = -10,-50
hitsound = s1, 2
guardsound = s1, 6
ground.type = Low
ground.slidetime = 15
ground.hittime  = 15
guard.hittime  = 15
ground.velocity = -7*const(size.xscale)
air.velocity = -5*const(size.xscale),-3
ground.cornerpush.veloff = -10
air.cornerpush.veloff = -10
getpower = 50,25
givepower = 20,10
fall = 0
air.fall = ifelse(EnemyNear,Movetype=H,1,0)
fall.recover = 0

[State 200, ステート変更]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = var(55) >= 3
triggerall = numtarget
triggerall = power >= 3000
triggerall = target,life < 40
trigger1 = movecontact
value = 3300

[State 200, ステート変更]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = numtarget
triggerall = power >= 1000
trigger1 = random < 200
trigger1 = movecontact
value = 3100

[State 200, ステート変更]
type = ChangeState
triggerall = var(59)=1&& RoundState = 2
triggerall = numtarget
trigger1 = movecontact
value = 220

[State 210, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


[Statedef 100030]
type    = S
movetype= I
physics = S
poweradd= 0
ctrl = 0
anim = 20
sprpriority = 2

[State 20, 1]
type = VelSet
trigger1 = 1
x = const(velocity.walk.fwd.x)

[State 400, 4]
type = ChangeState
trigger1 = P2BodyDist X = [-20,20]
trigger1 = enemynear,movetype != H
value = 900

[State 400, 4]
type = ChangeState
trigger1 = enemynear,movetype != H
value = 0
ctrl = 1
