;-----------------------------------------------------------------------------
;タンデム
;-----------------------------------------------------------------------------
;ジョルノの挙動

;入力中、(スーパーポーズ)
[Statedef 3900]
type = S
movetype = A
physics = S
ctrl = 0 
anim = 3900
velset = 0,0

[State 230, 3]
type = varset
trigger1 = time = 0
v = 24
value = 40

[State 230, 3]
type = varset
trigger1 = var(24) <= 0
v = 24
value = 0

[state 3000]
type = nothitby
trigger1 = time = 0
value = SCA
time = 55

[State 10822, 0]
type = PosAdd
trigger1 = time = 0
trigger1 = var(49) = 10000
x = -10

[State 3900 a];スタンドoffにする
type = VarSet
trigger1 = time = 0
var(49) = 0

[State 3900 b];タンデム中は1
type = VarSet
trigger1 = time = 0
var(20) = 1

[State 3900 c]
type = NotHitBy
trigger1 = time <= 124
value = SCA
time = 1

[State 0];けむり
type = Helper
trigger1 = time = 4
stateno = 3902;ここの1番下です
pos = 0,0
postype = p1
pausemovetime = 999999
supermovetime = 999999

[State 3900 d]
type = SuperPause
trigger1 = time = 4
time = 120
anim = s3102
pos = 0, -85
sound = s3, 10
movetime = 120
darken = 0 ;暗転しない
poweradd = -1000

[State 0];顔のカットイン
type = Explod
trigger1 = time = 4
anim = 20060
pos = 0, 230;240
postype = back
sprpriority = -3
removetime = 120
bindtime = -1
pausemovetime = 999999
supermovetime = 999999
removeongethit = 1
;scale = 1.1*const(size.xscale),1.1
ownpal = 1

[State 0];背景
type = Explod
trigger1 = time = 4
anim = 20061
pos = -40,0
postype = left
sprpriority = -4
removetime = 120
bindtime = -1
supermovetime = 9999999
pausemovetime = 9999999
removeongethit = 1
ownpal = 1
scale = 1.08,1.08

[State 0, あんたを逃すことはできない]
type = PlaySnd
trigger1 = time = 4
value = 100, 2
channel = 0   ;チャンネル0は、ボイス再生専用

[State 0, ]
type = PlaySnd
trigger1 = time = 4
value = 4, 0

[State 53900 e];自分の体力が低い場合
type = Helper
triggerall = var(59)=1
trigger1 = life <= 200
trigger1 = time = 4
helpertype = normal
stateno = 63910
id = 3910
pos = 0,0
postype = p1
ownpal = 1
keyctrl = 1;1にした場合、プレイヤーの-1ステートを参照する
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 53900 e];敵が屈み状態の場合
type = Helper
triggerall = life >= 201
triggerall = var(59)=1
trigger1 = time = 4
trigger1 = enemy,statetype = C
trigger2 = time = 4
trigger2 = EnemyNear,const(size.head.pos.y)>= -57
helpertype = normal
stateno = 53910
id = 3910
pos = 0,0
postype = p1
ownpal = 1
keyctrl = 1;1にした場合、プレイヤーの-1ステートを参照する
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 3900 e];入力を記憶させるﾍﾙﾊﾟｰ
type = Helper
trigger1 = var(59)=0
trigger1 = time = 4
trigger2 = life >= 201
trigger2 = var(59)=1
trigger2 = EnemyNear,const(size.head.pos.y)<= -58
trigger2 = time = 4
trigger2 = enemy,statetype != C
helpertype = normal
stateno = 3910
id = 3910
pos = 0,0
postype = p1
ownpal = 1
keyctrl = 1;1にした場合、プレイヤーの-1ステートを参照する
supermovetime = 9999999999999
pausemovetime = 9999999999999

;延長
[State 3900 f];SuperPauseおわたらスタンドゲージ減らす。
type = VarAdd
trigger1 = time >= 124
fv = 1 ;スタンドゲージ
value = -1.6

[State 3900 g];ｹﾞｰｼﾞがﾏｲﾅｽ超えたら０にﾘｾｯﾄ。先に↓changeStateにならないか？ならない。順番大事
type = VarSet
trigger1 = fvar(1) < 0
fv = 1
value = 0

[State 3900 h]
type = ChangeState
trigger1 = time >= 124 ;ポーズ終了後Aボタン放したら発動
trigger1 = command != "holdc" ;
trigger2 = fvar(1) <= 0 ;ゲージなくなったら発動
trigger3 = time >= 124
trigger3 = var(59)=1
value = 3901
;---------------------------------------------------------------------------
;入力時間が終わって行動可能
[Statedef 3901]
type = S
movetype = I
physics = S
ctrl = 0
anim = 3901

[State 3901]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 50

[State 3901]
type = Helper
trigger1 = time = 0
helpertype = normal
stateno = 4000
id = 10000
pos = 0,0
postype = p1
ownpal = 1
keyctrl = 0

[State 3900 e];無敵
type = Helper
trigger1 = time = 0
helpertype = normal
stateno = 4667
id = 4667
pos = 0,0
postype = p1
ownpal = 1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 0, 4];回り込み
type = ChangeState
triggerall = var(59)=1
triggerall = (RoundState = 2) && (Alive)
triggerall = statetype != A 
triggerall = var(49) != 10000
triggerall = NumHelper(29) = 0 
trigger1 = animtime = 0
trigger1 = P2BodyDist X = [0,60] 
value = 60102

[State 3901]
type = ChangeState
trigger1 = var(59)=1
trigger1 = animtime = 0
value = 60000
ctrl = 0

[State 3901]
type = ChangeState
trigger1 = var(59)=0
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;dem管理helper コマンド記憶中
[Statedef 3910]
type = S
movetype = I
physics = N
ctrl = 0     
anim = 29999

;helper3910のvarなので注意!!!!
;ﾍﾙﾊﾟｰ3910のvar(0)〜var(59)に0を代入します。0ならﾃﾞﾑ終了にしてるからne
[State 3910]
type = VarRangeSet
trigger1 = time = 0
value = 0
first = 0
last = 59
;--------------------------------------
;以下のVarSetによって、Helper3910のvarに代入しまくってゆく
;
;Helper3910
; Var(0) = まずここに代入される。次に↓のVaradd入力回数で+1されて
; Var(1) = ここに。
; Var(2) = 記述は上から読み込まれるので、順番が大事です！
;  ・
;  ・
;--------------------------------------
[State 3910];たち弱。
type = VarSet
triggerall = parent,command != "holddown"
trigger1 = parent,var(59)=0
trigger1 = parent,command = "x" 
trigger2 = parent,var(59)=1
trigger2 = time = 15 || time = 33 || time = 39 || time = 57 || time = 75
v = 0+ceil(fvar(1));切り上げ整数化
value = 1

[State 3910];たち中。
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = parent,command = "y"
trigger1 = parent,command != "holddown"
trigger2 = parent,var(59)=1
trigger2 = time = 21 || time = 39 || time = 45 || time = 63 || time = 81
v = 0+ceil(fvar(1));切り上げ整数化
value = 2

[State 3910];たち強。
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = parent,command = "z"
trigger1 = parent,command != "holddown"
trigger2 = parent,var(59)=1
trigger2 = time = 27 || time = 45 || time = 51 || time = 69 || time = 87
v = 0+ceil(fvar(1));切り上げ整数化
value = 3

[State 3910];前たち弱。
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = parent,command = "x"
trigger1 = command = "holdfwd"
trigger1 = parent,command != "holddown"
trigger2 = parent,var(59)=1
trigger2 = time = 93
v = 0+ceil(fvar(1));切り上げ整数化
value = 4

[State 3910];前たち中。
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = parent,command = "y"
trigger1 = command = "holdfwd"
trigger1 = parent,command != "holddown"
trigger2 = parent,var(59)=1
trigger2 = time = 99
v = 0+ceil(fvar(1));切り上げ整数化
value = 5

[State 3910];しゃがみ弱
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = parent,command = "x"
trigger1 = parent,command = "holddown"
v = 0+ceil(fvar(1))
value = 11

[State 3910];しゃがみ中
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = parent,command = "y"
trigger1 = parent,command = "holddown"
v = 0+ceil(fvar(1))
value = 12

[State 3910];無駄無駄弱
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = command = "QCF_x"
v = 0+ceil(fvar(1))
value = 900

[State 3910];無駄無駄中
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = command = "QCF_y"
v = 0+ceil(fvar(1))
value = 901

[State 3910];無駄無駄強
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = command = "QCB_b"
trigger2 = parent,var(59)=1
trigger2 = time = 105
v = 0+ceil(fvar(1))
value = 901

[State 3910];木の根
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = command = "nekko_x"
trigger2 = parent,var(59)=0
trigger2 = command = "nekko_y"
trigger3 = parent,var(59)=0
trigger3 = command = "nekko_b"
v = 0+ceil(fvar(1))
value = 904

[State 3910];無駄無駄sp
type = VarSet
triggerall = power >= 1000
trigger1 = parent,var(59)=0
trigger1 = command = "TripleKFPalm"
trigger2 = parent,var(59)=0
trigger2 = command = "ryaku1"
v = 0+ceil(fvar(1))
value = 902
;--------------------------------------
[State 3910,入力回数];コマンド入力するとﾍﾙﾊﾟｰのfvar(1)を増やしていく
type = VarAdd
triggerall = fvar(1) < 59
trigger1 = parent,var(59)=0
trigger1 = parent,command = "x"
trigger2 = parent,var(59)=0
trigger2 = parent,command = "y"
trigger3 = parent,var(59)=0
trigger3 = parent,command = "b"
trigger4 = parent,var(59)=0
trigger4 = parent,command = "z"

trigger5 = time = 15 || time = 21 || time = 27 || time = 33 || time = 39
trigger5 = parent,var(59)=1
trigger6 = time = 45 || time = 51 || time = 57 || time = 63 || time = 69
trigger6 = parent,var(59)=1
trigger7 = time = 75 || time = 81 || time = 87 || time = 93 || time = 99
trigger7 = parent,var(59)=1
trigger8 = time = 105
trigger8 = parent,var(59)=1
fv = 1
value = 1

[State 3910,入力回数(残り)];同じく親(本体)のvar21も増やしていく
type = ParentVarAdd
triggerall = fvar(1) < 59
trigger1 = parent,var(59)=0
trigger1 = parent,command = "x"
trigger2 = parent,var(59)=0
trigger2 = parent,command = "y"
trigger3 = parent,var(59)=0
trigger3 = parent,command = "b"
trigger4 = parent,var(59)=0
trigger4 = parent,command = "z"

trigger5 = time = 15 || time = 21 || time = 27 || time = 33 || time = 39
trigger5 = parent,var(59)=1
trigger6 = time = 45 || time = 51 || time = 57 || time = 63 || time = 69
trigger6 = parent,var(59)=1
trigger7 = time = 75 || time = 81 || time = 87 || time = 93 || time = 99
trigger7 = parent,var(59)=1
trigger8 = time = 105
trigger8 = parent,var(59)=1
v = 21
value = 1

;--------------------------------------
[State 3910]
type = PlaySnd
trigger1 = parent,var(59)=0
trigger1 = parent,command = "x"
trigger2 = parent,var(59)=1
trigger2 = time = 15 || time = 33 || time = 39 || time = 57 || time = 75 || time = 93
value = 200,0
channel = ceil(fvar(1));ﾁｬﾝﾈﾙ変えないとだめなのか？

[State 3910]
type = PlaySnd
trigger1 = parent,var(59)=0
trigger1 = parent,command = "y"
trigger2 = parent,var(59)=1
trigger2 = time = 21 || time = 39 || time = 45 || time = 63 || time = 81 || time = 99
value = 200,1
channel = ceil(fvar(1))

[State 3910]
type = PlaySnd
trigger1 = parent,var(59)=0
trigger1 = parent,command = "z"
trigger2 = parent,var(59)=1
trigger2 = time = 27 || time = 45 || time = 51 || time = 69 || time = 87
value = 200,2
channel = ceil(fvar(1))
 
[State 3910]
type = ChangeState
trigger1 = parent,stateno = 3901;入力時間が終わって行動可能
value = 3911;dem管理ﾍﾙﾊﾟｰ ﾃﾞﾑ中

[State 3910]
type = ChangeState
trigger1 = parent,movetype = H
value = 3912;dem管理ﾍﾙﾊﾟｰ 消滅

;---------------------------------------------------------------------------
;dem管理helper コマンド記憶中
[Statedef 53910]
type = S
movetype = I
physics = N
ctrl = 0     
anim = 29999

;helper3910のvarなので注意!!!!
;ﾍﾙﾊﾟｰ3910のvar(0)〜var(59)に0を代入します。0ならﾃﾞﾑ終了にしてるからne
[State 3910]
type = VarRangeSet
trigger1 = time = 0
value = 0
first = 0
last = 59
;--------------------------------------
;以下のVarSetによって、Helper3910のvarに代入しまくってゆく
;
;Helper3910
; Var(0) = まずここに代入される。次に↓のVaradd入力回数で+1されて
; Var(1) = ここに。
; Var(2) = 記述は上から読み込まれるので、順番が大事です！
;  ・
;  ・
;--------------------------------------
[State 3910];たち弱。
type = VarSet
triggerall = parent,command != "holddown"
trigger1 = parent,var(59)=0
trigger1 = parent,command = "x"
trigger2 = parent,var(59)=0
trigger2 = parent,command = "z"
v = 0+ceil(fvar(1));切り上げ整数化
value = 1

[State 3910];たち中。
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = parent,command = "y"
trigger1 = parent,command != "holddown"
v = 0+ceil(fvar(1));切り上げ整数化
value = 2

[State 3910];たち強。
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = parent,command = "b"
trigger1 = parent,command != "holddown"
v = 0+ceil(fvar(1));切り上げ整数化
value = 3

[State 3910];前たち弱。
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = parent,command = "x"
trigger1 = command = "holdfwd"
trigger1 = parent,command != "holddown"
v = 0+ceil(fvar(1));切り上げ整数化
value = 4

[State 3910];前たち中。
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = parent,command = "y"
trigger1 = command = "holdfwd"
trigger1 = parent,command != "holddown"
v = 0+ceil(fvar(1));切り上げ整数化
value = 5

[State 3910];しゃがみ弱
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = parent,command = "x"
trigger1 = parent,command = "holddown"
trigger2 = parent,var(59)=1
trigger2 = time = 15 || time = 33 || time = 39 || time = 57 || time = 75
v = 0+ceil(fvar(1))
value = 11

[State 3910];しゃがみ中
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = parent,command = "y"
trigger1 = parent,command = "holddown"
trigger2 = parent,var(59)=1
trigger2 = time = 21 || time = 39 || time = 45 || time = 63 || time = 81
v = 0+ceil(fvar(1))
value = 12

[State 3910];無駄無駄弱
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = command = "QCF_x"
v = 0+ceil(fvar(1))
value = 900

[State 3910];無駄無駄中
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = command = "QCF_y"
v = 0+ceil(fvar(1))
value = 901

[State 3910];無駄無駄強
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = command = "QCB_b"
trigger2 = parent,var(59)=1
trigger2 = time = 105
v = 0+ceil(fvar(1))
value = 901

[State 3910];木の根
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = command = "nekko_x"
trigger2 = parent,var(59)=0
trigger2 = command = "nekko_y"
trigger3 = parent,var(59)=0
trigger3 = command = "nekko_b"
trigger4 = parent,var(59)=1
trigger4 = time = 27 || time = 45 || time = 51 || time = 69 || time = 87
v = 0+ceil(fvar(1))
value = 904

[State 3910];無駄無駄sp
type = VarSet
triggerall = power >= 1000
trigger1 = parent,var(59)=0
trigger1 = command = "TripleKFPalm"
trigger2 = parent,var(59)=0
trigger2 = command = "ryaku1"
v = 0+ceil(fvar(1))
value = 902
;--------------------------------------
[State 53910,入力回数];コマンド入力するとﾍﾙﾊﾟｰのfvar(1)を増やしていく
type = VarAdd
triggerall = fvar(1) < 59
trigger1 = parent,var(59)=0
trigger1 = parent,command = "x"
trigger2 = parent,var(59)=0
trigger2 = parent,command = "y"
trigger3 = parent,var(59)=0
trigger3 = parent,command = "b"
trigger4 = parent,var(59)=0
trigger4 = parent,command = "z"

trigger5 = time = 15 || time = 21 || time = 27 || time = 33 || time = 39
trigger5 = parent,var(59)=1
trigger6 = time = 45 || time = 51 || time = 57 || time = 63 || time = 69
trigger6 = parent,var(59)=1
trigger7 = time = 75 || time = 81 || time = 87 || time = 105
trigger7 = parent,var(59)=1
fv = 1
value = 1

[State 3910,入力回数(残り)];同じく親(本体)のvar21も増やしていく
type = ParentVarAdd
triggerall = fvar(1) < 59
trigger1 = parent,var(59)=0
trigger1 = parent,command = "x"
trigger2 = parent,var(59)=0
trigger2 = parent,command = "y"
trigger3 = parent,var(59)=0
trigger3 = parent,command = "b"
trigger4 = parent,var(59)=0
trigger4 = parent,command = "z"

trigger5 = time = 15 || time = 21 || time = 27 || time = 33 || time = 39
trigger5 = parent,var(59)=1
trigger6 = time = 45 || time = 51 || time = 57 || time = 63 || time = 69
trigger6 = parent,var(59)=1
trigger7 = time = 75 || time = 81 || time = 87 || time = 105
trigger7 = parent,var(59)=1
v = 21
value = 1

;--------------------------------------
[State 53910]
type = PlaySnd
trigger1 = parent,var(59)=0
trigger1 = parent,command = "x"
trigger2 = parent,var(59)=1
trigger2 = time = 15 || time = 33 || time = 39 || time = 57 || time = 75
value = 200,0
channel = ceil(fvar(1));ﾁｬﾝﾈﾙ変えないとだめなのか？

[State 3910]
type = PlaySnd
trigger1 = parent,var(59)=0
trigger1 = parent,command = "y"
trigger2 = parent,var(59)=1
trigger2 = time = 21 || time = 39 || time = 45 || time = 63 || time = 81
value = 200,1
channel = ceil(fvar(1))

[State 3910]
type = PlaySnd
trigger1 = parent,var(59)=0
trigger1 = parent,command = "b"
value = 200,2
channel = ceil(fvar(1))

[State 3910]
type = PlaySnd
trigger1 = parent,var(59)=0
trigger1 = parent,command = "z"
trigger2 = parent,var(59)=1
trigger2 = time = 105
value = 200,0
channel = ceil(fvar(1));ﾁｬﾝﾈﾙ変えないとだめなのか？

[State 3910]
type = ChangeState
trigger1 = parent,stateno = 3901;入力時間が終わって行動可能
value = 3911;dem管理ﾍﾙﾊﾟｰ ﾃﾞﾑ中

[State 3910]
type = ChangeState
trigger1 = parent,movetype = H
value = 3912;dem管理ﾍﾙﾊﾟｰ 消滅
;---------------------------------------------------------------------------
;dem管理helper コマンド記憶中（本気デム）
[Statedef 63910]
type = S
movetype = I
physics = N
ctrl = 0     
anim = 29999

;helper3910のvarなので注意!!!!
;ﾍﾙﾊﾟｰ3910のvar(0)〜var(59)に0を代入します。0ならﾃﾞﾑ終了にしてるからne
[State 3910]
type = VarRangeSet
trigger1 = time = 0
value = 0
first = 0
last = 59
;--------------------------------------
;以下のVarSetによって、Helper3910のvarに代入しまくってゆく
;
;Helper3910
; Var(0) = まずここに代入される。次に↓のVaradd入力回数で+1されて
; Var(1) = ここに。
; Var(2) = 記述は上から読み込まれるので、順番が大事です！
;  ・
;  ・
;--------------------------------------
[State 3910];たち弱。
type = VarSet
triggerall = parent,command != "holddown"
trigger1 = parent,var(59)=0
trigger1 = parent,command = "x"
trigger2 = parent,var(59)=0
trigger2 = parent,command = "z"
v = 0+ceil(fvar(1));切り上げ整数化
value = 1

[State 3910];たち中。
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = parent,command = "y"
trigger1 = parent,command != "holddown"
v = 0+ceil(fvar(1));切り上げ整数化
value = 2

[State 3910];たち強。
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = parent,command = "b"
trigger1 = parent,command != "holddown" 
trigger2 = time = 27 || time = 33 || time = 39
trigger2 = parent,var(59)=1
trigger3 = time = 45 || time = 51 || time = 57 || time = 63 || time = 69
trigger3 = parent,var(59)=1
trigger4 = time = 75 || time = 81 || time = 87 || time = 93 || time = 99
trigger4 = parent,var(59)=1
trigger5 = time = 105 
trigger5 = parent,var(59)=1
v = 0+ceil(fvar(1));切り上げ整数化
value = 3

[State 3910];前たち弱。
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = parent,command = "x"
trigger1 = command = "holdfwd"
trigger1 = parent,command != "holddown"
v = 0+ceil(fvar(1));切り上げ整数化
value = 4

[State 3910];前たち中。
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = parent,command = "y"
trigger1 = command = "holdfwd"
trigger1 = parent,command != "holddown"
v = 0+ceil(fvar(1));切り上げ整数化
value = 5

[State 3910];しゃがみ弱
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = parent,command = "x"
trigger1 = parent,command = "holddown"
trigger2 = parent,var(59)=1
trigger2 = time = 15 || time = 21 
v = 0+ceil(fvar(1))
value = 11

[State 3910];しゃがみ中
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = parent,command = "y"
trigger1 = parent,command = "holddown"
v = 0+ceil(fvar(1))
value = 12

[State 3910];無駄無駄弱
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = command = "QCF_x"
v = 0+ceil(fvar(1))
value = 900

[State 3910];無駄無駄中
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = command = "QCF_y"
v = 0+ceil(fvar(1))
value = 901

[State 3910];無駄無駄強
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = command = "QCB_b"
v = 0+ceil(fvar(1))
value = 901

[State 3910];木の根
type = VarSet
trigger1 = parent,var(59)=0
trigger1 = command = "nekko_x"
trigger2 = parent,var(59)=0
trigger2 = command = "nekko_y"
trigger3 = parent,var(59)=0
trigger3 = command = "nekko_b"
v = 0+ceil(fvar(1))
value = 904

[State 3910];無駄無駄sp
type = VarSet
triggerall = power >= 1000
trigger1 = parent,var(59)=0
trigger1 = command = "TripleKFPalm"
trigger2 = parent,var(59)=0
trigger2 = command = "ryaku1"
trigger3 = parent,var(59)=1
trigger3 = time = 105
v = 0+ceil(fvar(1))
value = 902
;--------------------------------------
[State 63910,入力回数];コマンド入力するとﾍﾙﾊﾟｰのfvar(1)を増やしていく
type = VarAdd
triggerall = fvar(1) < 59
trigger1 = parent,var(59)=0
trigger1 = parent,command = "x"
trigger2 = parent,var(59)=0
trigger2 = parent,command = "y"
trigger3 = parent,var(59)=0
trigger3 = parent,command = "b"
trigger4 = parent,var(59)=0
trigger4 = parent,command = "z"

trigger5 = time = 15 || time = 21 || time = 27 || time = 33 || time = 39
trigger5 = parent,var(59)=1
trigger6 = time = 45 || time = 51 || time = 57 || time = 63 || time = 69
trigger6 = parent,var(59)=1
trigger7 = time = 75 || time = 81 || time = 87 || time = 93 || time = 99
trigger7 = parent,var(59)=1
trigger8 = time = 105 
trigger8 = parent,var(59)=1
fv = 1
value = 1

[State 3910,入力回数(残り)];同じく親(本体)のvar21も増やしていく
type = ParentVarAdd
triggerall = fvar(1) < 59
trigger1 = parent,var(59)=0
trigger1 = parent,command = "x"
trigger2 = parent,var(59)=0
trigger2 = parent,command = "y"
trigger3 = parent,var(59)=0
trigger3 = parent,command = "b"
trigger4 = parent,var(59)=0
trigger4 = parent,command = "z"

trigger5 = time = 15 || time = 21 || time = 27 || time = 33 || time = 39
trigger5 = parent,var(59)=1
trigger6 = time = 45 || time = 51 || time = 57 || time = 63 || time = 69
trigger6 = parent,var(59)=1
trigger7 = time = 75 || time = 81 || time = 87 || time = 93 || time = 99
trigger7 = parent,var(59)=1
trigger8 = time = 105 
trigger8 = parent,var(59)=1
v = 21
value = 1

;--------------------------------------
[State 63910]
type = PlaySnd
trigger1 = parent,var(59)=0
trigger1 = parent,command = "x"
trigger2 = parent,var(59)=1
trigger2 = time = 15 || time = 21 
value = 200,0
channel = ceil(fvar(1));ﾁｬﾝﾈﾙ変えないとだめなのか？

[State 3910]
type = PlaySnd
trigger1 = parent,var(59)=0
trigger1 = parent,command = "y"
value = 200,1
channel = ceil(fvar(1))

[State 3910]
type = PlaySnd
trigger1 = parent,var(59)=0
trigger1 = parent,command = "b"
trigger2 = time = 27 || time = 33 || time = 39
trigger2 = parent,var(59)=1
trigger3 = time = 45 || time = 51 || time = 57 || time = 63 || time = 69
trigger3 = parent,var(59)=1
trigger4 = time = 75 || time = 81 || time = 87 || time = 93 || time = 99
trigger4 = parent,var(59)=1
trigger5 = time = 105 
trigger5 = parent,var(59)=1
value = 200,2
channel = ceil(fvar(1))

[State 3910]
type = PlaySnd
trigger1 = parent,var(59)=0
trigger1 = parent,command = "z"
trigger2 = parent,var(59)=1
trigger2 = time = 105
value = 200,0
channel = ceil(fvar(1));ﾁｬﾝﾈﾙ変えないとだめなのか？

[State 3910]
type = ChangeState
trigger1 = parent,stateno = 3901;入力時間が終わって行動可能
value = 3911;dem管理ﾍﾙﾊﾟｰ ﾃﾞﾑ中

[State 3910]
type = ChangeState
trigger1 = parent,movetype = H
value = 3912;dem管理ﾍﾙﾊﾟｰ 消滅
;---------------------------------------------------------------------------
;dem管理helper デム中
[Statedef 3911]
;入力時間が終わったのでこっちに移行しておく。
;そのままやとｺﾏﾝﾄﾞ入力すると記憶されつづけるので
type = S
movetype = I
physics = N
ctrl = 0
anim = 29999

[State 3911]
type = ChangeState
trigger1 = helper(10000),stateno = 4999;普通にﾀﾝﾃﾞﾑ終了でｽﾀﾝﾄﾞ消滅
trigger2 = helper(10000),movetype = H  ;ｽﾀﾝﾄﾞ被ﾀﾞﾒ
trigger3 = numhelper(10000) = 0        ;なんらかの理由でGEが消滅
value = 3912
;---------------------------------------------------------------------------
;dem管理helper  消滅
[Statedef 3912]
type = S
movetype = I
physics = N
ctrl = 0
anim = 29999

[State 3912];タンデム中なら1、ちがう0
type = ParentVarSet
trigger1 = time = 0
v = 20
value = 0

[State 3912];タンデム残り攻撃回数
type = ParentVarSet
trigger1 = time = 0
v = 21
value = 0

[State 3912];タンデム攻撃回数
type = ParentVarSet
trigger1 = time = 0
v = 22
value = 0

[State 3912]
type = DestroySelf
trigger1 = time >= 120;すぐ消すのではなくて？
;---------------------------------------------------------------------------
;ここからスタンドの挙動

[Statedef 4999];普通にﾀﾝﾃﾞﾑ終了で消滅
type = S
movetype = I
physics = N
ctrl = 0
anim = 29999

[State 3900 e];入力を記憶させるﾍﾙﾊﾟｰ
type = Helper
trigger1 = time = 0
helpertype = normal
stateno = 4657
id = 4657
pos = 0,0
postype = p1
ownpal = 1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 4999]
type = DestroySelf
trigger1 = time >= 1

[state 301, ]
type=parentvarset
trigger1 = time >= 1
var(43) = 1
;---------------------------------------------------------------------------
[Statedef 4000];突撃していくスタンド。
type = S
movetype = A
physics = N
ctrl = 0
velset = 11,0
anim = cond(root,var(51),64000,4000)
sprpriority = 0
 
[state 0]
type = offset
trigger1 = 1
y = 10

[State 3901]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 50

[State 4000];カメラが追います
type = ScreenBound
trigger1 = 1
value = 1

[State 4000]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 4000]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 4000]
type = ChangeState
trigger1 = helper(3910),var(0) = 0  
trigger1 = p2bodydist x <= 20
trigger1 = time >= 0
trigger2 = parent,var(59)=0
trigger2 = parent,command = "c"  ;a押したら
value = 4999;普通にﾀﾝﾃﾞﾑ終了でSF消滅

[State 4000]
type = ChangeState
trigger1 = helper(3910),var(0) >= 1 ;ﾀﾝﾃﾞﾑ入力あり
trigger1 = p2bodydist x <= 40
trigger1 = time >= 0
value = 4000+helper(3910),var(0)  

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 1020;スタンドが攻撃受けてスタンド消滅
time = -1
ignorehitpause = 1

[State 19300]
type = ChangeState
trigger1 = root,movetype = H
trigger1 = root,stateno != [0,155];立ち〜ガード以外。
value = 5997;本体が攻撃受けてスタンド消滅

[State 230, 2];プッツン時スタンド消去
type = ChangeState
trigger1 = root,stateno = 700 
ignorehitpause = 1
value = 999 

;---------------------------------------------------------------------------
;立弱
[Statedef 4001]
type = S
movetype = A
physics = S
velset = 4,0
ctrl = 0 
anim = cond(root,var(51),64001,4001)
poweradd = 0
sprpriority = 3

[State 3901]
type = NotHitBy
trigger1 = numhelper(4667) = 1
value = SCA
  
[state 0]
type = offset
trigger1 = 1
y = 10

[State 0]
type = ScreenBound
trigger1 = 1
value = 1

[State -3]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 10000]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 0];空振り音
type = PlaySnd
trigger1 = animelem = 4
value = 0, 0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = ceil(root,fvar(11)*5), 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 4, 8
sparkno = s810
guard.sparkno = s840
sparkxy = -10, -96
hitsound = s1, 0
guardsound = s1,5
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
guard.hittime  = 12
ground.velocity = -5*const(size.xscale)
air.type = High
air.velocity = -2.5*const(size.xscale),0+var(19)*1.3
air.hittime = 12
getpower = 0
givepower = 2

[State 200, Damage Dampen]
type = parentvarset
trigger1 = movehit
fvar(10) = parent,fvar(10)*0.95
ignorehitpause = 1
persistent = 0

[State 10000]
type = ParentVarAdd
trigger1 = parent,var(21) > 0;タンデム残り攻撃回数
trigger1 = time = 0
v = 21
value = -1
ignorehitpause = 1

[State 10000]
type = ParentVarAdd;タンデム攻撃回数
trigger1 = parent,var(22) < helper(3910),fvar(1)
trigger1 = time = 0
v = 22
value = 1
ignorehitpause = 1

[State 10000]
type = ChangeState
triggerall = parent,var(21) != 0
triggerall = roundstate = 2
triggerall = prevstateno = 4001 ;1つ前が立ち弱、いま立ち弱。んで
triggerall = helper(3910),var(0+ceil(parent,var(22))) = 1 ;次の入力が立ち弱なら
trigger1 = animtime = 0
trigger2 = movecontact
value = 4003 ;立ち強へ

[State 10000]
type = ChangeState
triggerall = parent,var(21) != 0
triggerall = roundstate = 2      ;バトル中
trigger1 = animtime = 0
trigger2 = movecontact
value = 4000+helper(3910),var(0+ceil(parent,var(22)));次の入力へ

[State 10000]
type = ChangeState
trigger1 = parent,var(21) = 0;タンデム残り攻撃回数0なら
trigger1 = animtime = 0
trigger2 = parent,var(59)=0
trigger2 = parent,command = "c"
trigger3 = roundstate >= 3
trigger3 = animtime = 0
value = 4999;普通にﾀﾝﾃﾞﾑ終了でスタンド消滅

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 1020;スタンドが攻撃受けてスタンド消滅
time = -1
ignorehitpause = 1

[State 19300]
type = ChangeState
trigger1 = root,movetype = H
trigger1 = root,stateno != [0,155];立ち〜ガード以外。
value = 5997;本体が攻撃受けてスタンド消滅

[State 230, 2];プッツン時スタンド消去
type = ChangeState
trigger1 = root,stateno = 700 
ignorehitpause = 1
value = 999 

;---------------------------------------------------------------------------
;立中
[Statedef 4002]
type = S
movetype = A
physics = S
velset = 4,0
ctrl = 0 
anim = cond(root,var(51),64002,4002)
poweradd = 0
sprpriority = 3
  
[state 0]
type = offset
trigger1 = 1
y = 10

[State 10000]
type = ScreenBound
trigger1 = 1
value = 1

[State -3]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 10000]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 0]
type = PlaySnd
trigger1 = animelem = 4
value = 0,1

[State 210, 2]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Medium
damage    = ceil(root,fvar(11)*11)
priority = 3, Hit
guardflag = MA
pausetime = 6,11
sparkno = s820
guard.sparkno = s840
sparkxy = -10,-77
hitsound = s1, 1
guardsound = s1,5
ground.type = low
ground.slidetime = 13
ground.hittime  = 13-ifelse(var(14)=0&&fvar(30)>=9&&ifelse(fvar(30)=9,random%5=0,random%10=0),13,0)
ground.velocity = -4*const(size.xscale)
air.velocity = -3*const(size.xscale) * (var(14) = 0),(-3+var(19)*1.3) * (var(14) = 0)
p2facing = 1
getpower = 0
givepower = 5
id = 200
ground.cornerpush.veloff = 0

[State 200, Damage Dampen]
type = parentvarset
trigger1 = movehit
fvar(10) = parent,fvar(10)*0.95
ignorehitpause = 1
persistent = 0

[State 10000]
type = ParentVarAdd
trigger1 = parent,var(21) > 0;タンデム残り攻撃回数
trigger1 = time = 0
v = 21
value = -1
ignorehitpause = 1

[State 10000]
type = ParentVarAdd;タンデム攻撃回数
trigger1 = parent,var(22) < helper(3910),fvar(1)
trigger1 = time = 0
v = 22
value = 1
ignorehitpause = 1

[State 10000];次の入力へ
type = ChangeState
triggerall = parent,var(21) != 0
triggerall = roundstate = 2      ;バトル中
trigger1 = animtime = 0
trigger2 = movecontact
value = 4000+helper(3910),var(0+ceil(parent,var(22)))

[State 10000]
type = ChangeState
trigger1 = parent,var(21) = 0;タンデム残り攻撃回数0なら
trigger1 = animtime = 0
trigger2 = parent,var(59)=0
trigger2 = parent,command = "c"
trigger3 = roundstate >= 3
trigger3 = animtime = 0
value = 4999;普通にﾀﾝﾃﾞﾑ終了でスタンド消滅

[State 3901]
type = NotHitBy
trigger1 = numhelper(4667) = 1
value = SCA

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 1020;スタンドが攻撃受けてスタンド消滅
time = -1
ignorehitpause = 1

[State 19300]
type = ChangeState
trigger1 = root,movetype = H
trigger1 = root,stateno != [0,155];立ち〜ガード以外。
value = 5997;本体が攻撃受けてスタンド消滅

[State 230, 2];プッツン時スタンド消去
type = ChangeState
trigger1 = root,stateno = 700 
ignorehitpause = 1
value = 999 

;---------------------------------------------------------------------------
;立強
[Statedef 4003]
type = S
movetype = A
physics = S
velset = 4,0
ctrl = 0
anim = cond(root,var(51),64003,4003)
poweradd = 0
sprpriority = 3 
 
[state 0]
type = offset
trigger1 = 1
y = 10

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 100,13
channel = 0  

[State 10000]
type = ScreenBound
trigger1 = 1
value = 1

[State -3]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 10000]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 4
value = 0, 2

[State 240, 2]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = heavy
damage    = ceil(root,fvar(11)*16)
guardflag = MA
priority = 4, Hit
pausetime = 6,12
sparkno = s830
guard.sparkno = s840
sparkxy = -10,-85
hitsound = s1, 3
guardsound = s1,5
ground.type = high
ground.slidetime = 22
ground.hittime  = 22
guard.hittime  = 22
ground.velocity = -10*const(size.xscale)
air.velocity = -10*const(size.xscale),-1+var(19)*1.3

getpower = 0
givepower = 8

[State 200, Damage Dampen]
type = parentvarset
trigger1 = movehit
fvar(10) = parent,fvar(10)*0.95
ignorehitpause = 1
persistent = 0

[State 0, 画面を揺らします]
type = EnvShake
trigger1 = movehit          ;攻撃が相手にヒットしたとき
trigger1 = hitpausetime = 4 ;hitpauseが終了するまでの残り時間。0ならhitpauseが終わった時
time = 5
ampl = 3
ignorehitpause = 1

[State 10000]
type = ParentVarAdd
trigger1 = parent,var(21) > 0;タンデム残り攻撃回数
trigger1 = time = 0
v = 21
value = -1
ignorehitpause = 1

[State 10000]
type = ParentVarAdd;タンデム攻撃回数
trigger1 = parent,var(22) < helper(3910),fvar(1)
trigger1 = time = 0
v = 22
value = 1
ignorehitpause = 1

[State 10000];次の入力へ
type = ChangeState
triggerall = parent,var(21) != 0
triggerall = roundstate = 2      ;バトル中
trigger1 = animtime = 0
trigger2 = movecontact
trigger2 = animelem = 9
value = 4000+helper(3910),var(0+ceil(parent,var(22)))

[State 10000]
type = ChangeState
trigger1 = parent,var(21) = 0;タンデム残り攻撃回数0なら
trigger1 = animtime = 0
trigger2 = parent,var(59)=0
trigger2 = parent,command = "c"
trigger3 = roundstate >= 3
trigger3 = animtime = 0
value = 4999;普通にﾀﾝﾃﾞﾑ終了でスタンド消滅

[State 3901]
type = NotHitBy
trigger1 = numhelper(4667) = 1
value = SCA

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 1020;スタンドが攻撃受けてスタンド消滅
time = -1
ignorehitpause = 1

[State 19300]
type = ChangeState
trigger1 = root,movetype = H
trigger1 = root,stateno != [0,155];立ち〜ガード以外。
value = 5997;本体が攻撃受けてスタンド消滅

[State 230, 2];プッツン時スタンド消去
type = ChangeState
trigger1 = root,stateno = 700 
ignorehitpause = 1
value = 999 

[State 230, 2];プッツン時スタンド消去
type = ChangeState
trigger1 = root,stateno = 700 
ignorehitpause = 1
value = 999 

;---------------------------------------------------------------------------
;前立弱
[Statedef 4004]
type = S
movetype = A
physics = S
velset = 4,0
ctrl = 0
anim = cond(root,var(51),64004,4004)
poweradd = 0
sprpriority = 3 
 
[state 0]
type = offset
trigger1 = 1
y = 10

[State 0]
type = ScreenBound
trigger1 = 1
value = 1

[State -3]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 10000]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 0];空振り音
type = PlaySnd
trigger1 = animelem = 4
value = 0, 0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
damage = ceil(root,fvar(11)*2), 0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 4, 8
sparkno = s810
guard.sparkno = s840
sparkxy = -10, -96
hitsound = s1, 0
guardsound = s1,5
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
guard.hittime  = 12
ground.velocity = -5*const(size.xscale)
air.type = High
air.velocity = -2.5*const(size.xscale),0+var(19)*1.3
air.hittime = 12
getpower = 0
givepower = 1

[State 200, Damage Dampen]
type = parentvarset
trigger1 = movehit
fvar(10) = parent,fvar(10)*0.95
ignorehitpause = 1
persistent = 0

[State 10000]
type = ParentVarAdd
trigger1 = parent,var(21) > 0;タンデム残り攻撃回数
trigger1 = time = 0
v = 21
value = -1
ignorehitpause = 1

[State 10000]
type = ParentVarAdd;タンデム攻撃回数
trigger1 = parent,var(22) < helper(3910),fvar(1)
trigger1 = time = 0
v = 22
value = 1
ignorehitpause = 1

[State 10000]
type = ChangeState
triggerall = parent,var(21) != 0
triggerall = roundstate = 2      ;バトル中
trigger1 = animtime = 0
trigger2 = movecontact
value = 4000+helper(3910),var(0+ceil(parent,var(22)));次の入力へ

[State 10000]
type = ChangeState
trigger1 = parent,var(21) = 0;タンデム残り攻撃回数0なら
trigger1 = animtime = 0
trigger2 = parent,var(59)=0
trigger2 = parent,command = "c"
trigger3 = roundstate >= 3
trigger3 = animtime = 0
value = 4999;普通にﾀﾝﾃﾞﾑ終了でスタンド消滅

[State 3901]
type = NotHitBy
trigger1 = numhelper(4667) = 1
value = SCA

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 1020;スタンドが攻撃受けてスタンド消滅
time = -1
ignorehitpause = 1

[State 19300]
type = ChangeState
trigger1 = root,movetype = H
trigger1 = root,stateno != [0,155];立ち〜ガード以外。
value = 5997;本体が攻撃受けてスタンド消滅

[State 230, 2];プッツン時スタンド消去
type = ChangeState
trigger1 = root,stateno = 700 
ignorehitpause = 1
value = 999 

;---------------------------------------------------------------------------
;前立中
[Statedef 4005]
type = S
movetype = A
physics = S
velset = 4,0
ctrl = 0
anim = cond(root,var(51),64005,4005)
poweradd = 0
sprpriority = 3 
 
[state 0]
type = offset
trigger1 = 1
y = 10

[State 10000]
type = ScreenBound
trigger1 = 1
value = 1

[State -3]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 10000]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 0]
type = PlaySnd
trigger1 = animelem = 4
value = 0,1

[State 210, 2]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Medium
damage    = ceil(root,fvar(11)*10)
priority = 3, Hit
guardflag = MA
pausetime = 6,11
sparkno = s820
guard.sparkno = s840
sparkxy = -10,-97
hitsound = s1, 1
guardsound = s1,5
ground.type = low
ground.slidetime = 13
ground.hittime  = 13-ifelse(var(14)=0&&fvar(30)>=9&&ifelse(fvar(30)=9,random%5=0,random%10=0),13,0)
ground.velocity = -4*const(size.xscale)
air.velocity = -3*const(size.xscale) * (var(14) = 0),(-3+var(19)*1.3) * (var(14) = 0)
p2facing = 1
getpower = 0
givepower = 5
id = 200
ground.cornerpush.veloff = 0

[State 200, Damage Dampen]
type = parentvarset
trigger1 = movehit
fvar(10) = parent,fvar(10)*0.95
ignorehitpause = 1
persistent = 0

[State 10000]
type = ParentVarAdd
trigger1 = parent,var(21) > 0;タンデム残り攻撃回数
trigger1 = time = 0
v = 21
value = -1
ignorehitpause = 1

[State 10000]
type = ParentVarAdd;タンデム攻撃回数
trigger1 = parent,var(22) < helper(3910),fvar(1)
trigger1 = time = 0
v = 22
value = 1
ignorehitpause = 1

[State 10000];次の入力へ
type = ChangeState
triggerall = parent,var(21) != 0
triggerall = roundstate = 2      ;バトル中
trigger1 = animtime = 0
trigger2 = movecontact
value = 4000+helper(3910),var(0+ceil(parent,var(22)))

[State 10000]
type = ChangeState
trigger1 = parent,var(21) = 0;タンデム残り攻撃回数0なら
trigger1 = animtime = 0
trigger2 = parent,var(59)=0
trigger2 = parent,command = "c"
trigger3 = roundstate >= 3
trigger3 = animtime = 0
value = 4999;普通にﾀﾝﾃﾞﾑ終了でスタンド消滅

[State 3901]
type = NotHitBy
trigger1 = numhelper(4667) = 1
value = SCA

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 1020;スタンドが攻撃受けてスタンド消滅
time = -1
ignorehitpause = 1

[State 19300]
type = ChangeState
trigger1 = root,movetype = H
trigger1 = root,stateno != [0,155];立ち〜ガード以外。
value = 5997;本体が攻撃受けてスタンド消滅

[State 230, 2];プッツン時スタンド消去
type = ChangeState
trigger1 = root,stateno = 700 
ignorehitpause = 1
value = 999 

;---------------------------------------------------------------------------
;しゃがみ弱
[Statedef 4011]
type = C
movetype = A
physics = S
velset = 4,0
ctrl = 0
anim = cond(root,var(51),64011,4011)
poweradd = 0
sprpriority = 3

[state 0]
type = offset
trigger1 = 1
y = 10

[State 10000]
type = ScreenBound
trigger1 = 1
value = 1
 
[State -3]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 10000]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 400, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 400, 2]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = ceil(root,fvar(11)*5)
priority = 2, Hit
animtype  = Light
hitflag = MAF
guardflag = LA
pausetime = 6,11
sparkno = s810
guard.sparkno = s840
sparkxy = -10,-15
hitsound   = s1, 0
guardsound = s1,5
ground.type = Low
ground.slidetime = 12
ground.hittime  = 12
guard.hittime  = 12
ground.velocity = -4*const(size.xscale)
air.velocity = -2.5*const(size.xscale),-1+var(19)*1.3
getpower = 0
givepower = 2

[State 200, Damage Dampen]
type = parentvarset
trigger1 = movehit
fvar(10) = parent,fvar(10)*0.95
ignorehitpause = 1
persistent = 0

[State 10000]
type = ParentVarAdd
trigger1 = parent,var(21) > 0;タンデム残り攻撃回数
trigger1 = time = 0
v = 21
value = -1
ignorehitpause = 1

[State 10000]
type = ParentVarAdd;タンデム攻撃回数
trigger1 = parent,var(22) < helper(3910),fvar(1)
trigger1 = time = 0
v = 22
value = 1
ignorehitpause = 1

[State 10000];次の入力へ
type = ChangeState
triggerall = parent,var(21) != 0
triggerall = roundstate = 2      ;バトル中
trigger1 = animtime = 0
trigger2 = movecontact
value = 4000+helper(3910),var(0+ceil(parent,var(22)))

[State 10000]
type = ChangeState
trigger1 = parent,var(21) = 0;タンデム残り攻撃回数0なら
trigger1 = animtime = 0
trigger2 = parent,var(59)=0
trigger2 = parent,command = "c"  ;a押したら
trigger3 = roundstate >= 3
trigger3 = animtime = 0
value = 4999;普通にﾀﾝﾃﾞﾑ終了でスタンド消滅

[State 3901]
type = NotHitBy
trigger1 = numhelper(4667) = 1
value = SCA

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 1020;スタンドが攻撃受けてスタンド消滅
time = -1
ignorehitpause = 1

[State 19300]
type = ChangeState
trigger1 = root,movetype = H
trigger1 = root,stateno != [0,155];立ち〜ガード以外。
value = 5997;本体が攻撃受けてスタンド消滅

[State 230, 2];プッツン時スタンド消去
type = ChangeState
trigger1 = root,stateno = 700 
ignorehitpause = 1
value = 999 

;---------------------------------------------------------------------------
;しゃがみ中
[Statedef 4012]
type = C
movetype = A
physics = S
velset = 4,0
ctrl = 0
anim = cond(root,var(51),64012,4012)
poweradd = 0
sprpriority = 3
 
[state 0]
type = offset
trigger1 = 1
y = 10

[State 10000]
type = ScreenBound
trigger1 = 1
value = 1

[State -3]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 10000]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 410, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 430, ヒット定義]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = ceil(root,fvar(11)*7)
animtype  = Light
hitflag = MAF
guardflag = LA
pausetime = 7,12
sparkxy = -10,-40
sparkno = s820
guard.sparkno = s840
hitsound = s1, 1
guardsound = s1,5
ground.type = Low
ground.slidetime = 6
ground.hittime  = 10
ground.velocity = -5
air.velocity = -2,-3
down.velocity = -5,0
down.hittime = 20
getpower = 0
givepower = 3

[State 200, Damage Dampen]
type = parentvarset
trigger1 = movehit
fvar(10) = parent,fvar(10)*0.95
ignorehitpause = 1
persistent = 0

[State 10000]
type = ParentVarAdd
trigger1 = parent,var(21) > 0;タンデム残り攻撃回数
trigger1 = time = 0
v = 21
value = -1
ignorehitpause = 1

[State 10000]
type = ParentVarAdd;タンデム攻撃回数
trigger1 = parent,var(22) < helper(3910),fvar(1)
trigger1 = time = 0
v = 22
value = 1
ignorehitpause = 1

[State 10000];次の入力へ
type = ChangeState
triggerall = parent,var(21) != 0
triggerall = roundstate = 2      ;バトル中
trigger1 = animtime = 0
trigger2 = movecontact
value = 4000+helper(3910),var(0+ceil(parent,var(22)))

[State 10000]
type = ChangeState
trigger1 = parent,var(21) = 0;タンデム残り攻撃回数0なら
trigger1 = animtime = 0
trigger2 = parent,var(59)=0
trigger2 = parent,command = "c"  ;a押したら
trigger3 = roundstate >= 3
trigger3 = animtime = 0
value = 4999;普通にﾀﾝﾃﾞﾑ終了でスタンド消滅

[State 3901]
type = NotHitBy
trigger1 = numhelper(4667) = 1
value = SCA

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 1020;スタンドが攻撃受けてスタンド消滅
time = -1
ignorehitpause = 1

[State 19300]
type = ChangeState
trigger1 = root,movetype = H
trigger1 = root,stateno != [0,155];立ち〜ガード以外。
value = 5997;本体が攻撃受けてスタンド消滅

[State 230, 2];プッツン時スタンド消去
type = ChangeState
trigger1 = root,stateno = 700 
ignorehitpause = 1
value = 999 

;---------------------------------------------------------------------------
;無駄無駄 弱
[Statedef 4900]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 4,0
anim = cond(root,var(51),64100,4100) 
hitcountpersist = 1

[State 0, 移動速度]
type = velset
trigger1 = 1
x = 1
 
[state 0]
type = offset
trigger1 = 1
y = 10

[State 10000]
type = ScreenBound
trigger1 = 1
value = 1

[State -3]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 10000]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
trigger2 = AnimElem = 7
trigger3 = AnimElem = 11
trigger4 = AnimElem = 15
trigger5 = AnimElem = 19
trigger6 = AnimElem = 23
attr = S, SA
damage = ceil(root,fvar(11)*8), 2
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 1, 3
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(4)*const(size.yscale))
hitsound = s1, 3
guardsound = s1, 5
ground.type = low
ground.slidetime = 5
ground.hittime  = 12
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -1,-1.8
air.velocity = -1,-1.2
kill = 1 - parent,var(14)
p2facing = 1
air.fall = 1
getpower = 0
givepower = 4
guard.kill = 0
fall = 1

[State 240, 2]
type = HitDef
trigger1 = animelem = 27
attr = S, NA
animtype  = heavy
damage    = ceil(root,fvar(11)*16),8
guardflag = MA
priority = 4, Hit
pausetime = 12,12
sparkno = s850
guard.sparkno = s840
sparkxy = -10,-60
hitsound   = s1, 3
guardsound = s1,5
ground.type = high
ground.slidetime = 22
ground.hittime  = 22
guard.hittime  = 22
ground.velocity = -4,-1
air.velocity = -4,-1
fall = 1
getpower = 0
givepower = 8

[State 200, Damage Dampen]
type = parentvarset
trigger1 = movehit
fvar(10) = parent,fvar(10)*0.95
ignorehitpause = 1
persistent = 0

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 100, 16
channel = 0  

[State 10000]
type = ParentVarAdd
trigger1 = parent,var(21) > 0;タンデム残り攻撃回数
trigger1 = time = 0
v = 21
value = -1
ignorehitpause = 1

[State 10000]
type = ParentVarAdd;タンデム攻撃回数
trigger1 = parent,var(22) < helper(3910),fvar(1)
trigger1 = time = 0
v = 22
value = 1
ignorehitpause = 1

[State 10000];次の入力へ
type = ChangeState
triggerall = parent,var(21) != 0
triggerall = roundstate = 2      ;バトル中
trigger1 = animelem = 28
value = 4000+helper(3910),var(0+ceil(parent,var(22)))

[State 10000]
type = ChangeState
trigger1 = parent,var(21) = 0;タンデム残り攻撃回数0なら
trigger1 = animelem = 28
trigger2 = parent,var(59)=0
trigger2 = parent,command = "c"  ;a押したら
trigger3 = roundstate >= 3
trigger3 = animtime = 0
value = 4999;普通にﾀﾝﾃﾞﾑ終了でスタンド消滅

[State 3901]
type = NotHitBy
trigger1 = numhelper(4667) = 1
value = SCA

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 1020;スタンドが攻撃受けてスタンド消滅
time = -1
ignorehitpause = 1

[State 19300]
type = ChangeState
trigger1 = root,movetype = H
trigger1 = root,stateno != [0,155];立ち〜ガード以外。
value = 5997;本体が攻撃受けてスタンド消滅

[State 230, 2];プッツン時スタンド消去
type = ChangeState
trigger1 = root,stateno = 700 
ignorehitpause = 1
value = 999 

;---------------------------------------------------------------------------
;無駄無駄 中
[Statedef 4901]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
velset = 4,0 
anim = cond(root,var(51),64101,4101) 
hitcountpersist = 1

[State 0, 移動速度]
type = velset
trigger1 = 1
x = 2 

[state 0]
type = offset
trigger1 = 1
y = 10

[State 10000]
type = ScreenBound
trigger1 = 1
value = 1

[State -3]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 10000]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
trigger2 = AnimElem = 7
trigger3 = AnimElem = 11
trigger4 = AnimElem = 15
trigger5 = AnimElem = 19
trigger6 = AnimElem = 23
attr = S, SA
damage = ceil(root,fvar(11)*8), 4
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 1, 3
sparkno = s850
guard.sparkno = s840
sparkxy = -10, ceil(-82+var(4)*const(size.yscale))
hitsound = s1, 3
guardsound = s1, 5
ground.type = low
ground.slidetime = 5
ground.hittime  = 12
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -1,-1.3
air.velocity = -1,-1.3
kill = 1 - parent,var(14)
p2facing = 1
air.fall = 1
getpower = 0
givepower = 4
guard.kill = 0
fall = 1

[State 240, 2]
type = HitDef
trigger1 = animelem = 27
attr = S, NA
animtype  = heavy
damage    = ceil(root,fvar(11)*18),9
guardflag = MA
priority = 4, Hit
pausetime = 12,12
sparkno = s850
guard.sparkno = s840
sparkxy = -10,-60
hitsound   = s1, 3
guardsound = s1,5
ground.type = high
ground.slidetime = 22
ground.hittime  = 22
guard.hittime  = 22
ground.velocity = -4,-1
air.velocity = -4,-1
fall = 1
getpower = 0
givepower = 9

[State 200, Damage Dampen]
type = parentvarset
trigger1 = movehit
fvar(10) = parent,fvar(10)*0.95
ignorehitpause = 1
persistent = 0

[State 210, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 1
value = 100, 16
channel = 0  

[State 10000]
type = ParentVarAdd
trigger1 = parent,var(21) > 0;タンデム残り攻撃回数
trigger1 = time = 0
v = 21
value = -1
ignorehitpause = 1

[State 10000]
type = ParentVarAdd;タンデム攻撃回数
trigger1 = parent,var(22) < helper(3910),fvar(1)
trigger1 = time = 0
v = 22
value = 1
ignorehitpause = 1

[State 10000];次の入力へ
type = ChangeState
triggerall = parent,var(21) != 0
triggerall = roundstate = 2      ;バトル中
trigger1 = animelem = 28
value = 4000+helper(3910),var(0+ceil(parent,var(22)))

[State 10000]
type = ChangeState
trigger1 = parent,var(21) = 0;タンデム残り攻撃回数0なら
trigger1 = animelem = 28
trigger2 = parent,var(59)=0
trigger2 = parent,command = "c"  ;a押したら
trigger3 = roundstate >= 3
trigger3 = animtime = 0
value = 4999;普通にﾀﾝﾃﾞﾑ終了でスタンド消滅

[State 3901]
type = NotHitBy
trigger1 = numhelper(4667) = 1
value = SCA

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 1020;スタンドが攻撃受けてスタンド消滅
time = -1
ignorehitpause = 1

[State 19300]
type = ChangeState
trigger1 = root,movetype = H
trigger1 = root,stateno != [0,155];立ち〜ガード以外。
value = 5997;本体が攻撃受けてスタンド消滅

[State 230, 2];プッツン時スタンド消去
type = ChangeState
trigger1 = root,stateno = 700 
ignorehitpause = 1
value = 999 

;---------------------------------------------------------------------------
;無駄無駄 スパコン
[Statedef 4902]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
velset = 0,0
ctrl = 0
anim = cond(root,var(51),64902,4902) 
hitcountpersist = 1
 
[state 0]
type = offset
trigger1 = 1
y = 10

[State 0, 移動速度]
type = velset
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
trigger4 = AnimElem = 4
trigger5 = AnimElem = 5
trigger6 = AnimElem = 6
trigger7 = AnimElem = 7
trigger8 = AnimElem = 8
trigger9 = AnimElem = 9
trigger10 = AnimElem = 10
trigger11 = AnimElem = 11
trigger12 = AnimElem = 12
trigger13 = AnimElem = 13
trigger14 = AnimElem = 14
trigger15 = AnimElem = 15
trigger16 = AnimElem = 16
trigger17 = AnimElem = 17
trigger18 = AnimElem = 18
trigger19 = AnimElem = 19
trigger20 = AnimElem = 20
trigger21 = AnimElem = 21
trigger22 = AnimElem = 22
trigger23 = AnimElem = 23
trigger24 = AnimElem = 24
trigger25 = AnimElem = 25
trigger26 = AnimElem = 26
trigger27 = AnimElem = 27
trigger28 = AnimElem = 28
trigger29 = AnimElem = 29
trigger30 = AnimElem = 30
trigger31 = AnimElem = 31
trigger32 = AnimElem = 32
trigger33 = AnimElem = 33
trigger34 = AnimElem = 34
trigger35 = AnimElem = 35
trigger36 = AnimElem = 36
trigger37 = AnimElem = 37
trigger38 = AnimElem = 38
trigger39 = AnimElem = 39
trigger40 = AnimElem = 40
trigger41 = AnimElem = 41
trigger42 = AnimElem = 42
trigger43 = AnimElem = 43
trigger44 = AnimElem = 44
trigger45 = AnimElem = 45
trigger46 = AnimElem = 46
trigger47 = AnimElem = 47
trigger48 = AnimElem = 48
trigger49 = AnimElem = 49
x = 4

[State 10000];ゲージなかったら立ち弱へ
type = ChangeState
trigger1 = time = 0
trigger1 = power < 1000
value = 4001

[State 10000]
type = ScreenBound
trigger1 = 1
value = 1

[State 3000, ゲージ減少]
type = PowerAdd
trigger1 = time = 1
value = -1000

[State 0, あんたを逃すことはできない]
type = PlaySnd
trigger1 = time = 4
value = 100, 9
channel = 0   ;チャンネル0は、ボイス再生専用

[State 0, ]
type = PlaySnd
trigger1 = time = 4
value = 4, 0

[state 3000]
type = pause
trigger1 = time = 2
time = 40
movetime = 40

[state 3003]
type = helper
trigger1 = time = 3
name = "cutin"
helpertype = normal
stateno = 23100
id = 3100
pos = 0,0
postype = back
ownpal = 1
keyctrl = 0
sprpriority = -3
supermovetime = 9999999
pausemovetime = 9999999

[state 3003]
type = helper
trigger1 = time = 3
name = "haikei"
helpertype = normal
stateno = 23101
id = 3101
pos = 0,0
postype = left
ownpal = 1
keyctrl = 0
sprpriority = -5
supermovetime = 9999999
pausemovetime = 9999999

[State 10000]
type = ScreenBound
trigger1 = 1
value = 1

[State -3]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 191, Wood 1]
type = varrandom
trigger1 = 1
v = 3
range = 0,11

[State 191, Wood 1]
type = varrandom
trigger1 = 1
v = 15
range = 0,30

[State 10,combo]
type = parentVarset
trigger1 = MoveHit
persistent = 0
ignorehitpause = 1
v = 30
value = 1

[State -2,0];
type = parentVaradd
trigger1 = parent,Var(14) = 1
trigger1 = movehit
fv = 2
value = 7 * parent,fvar(19)
ignorehitpause = 1

[State 10000]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 10,combo]
type = movehitreset
trigger1 = MoveHit
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
trigger2 = AnimElem = 9
trigger3 = AnimElem = 15
trigger4 = AnimElem = 21
trigger5 = AnimElem = 27
trigger6 = AnimElem = 33
trigger7 = AnimElem = 39
trigger8 = AnimElem = 45
attr = S, SA
damage = ceil(root,fvar(11)*6),5
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 3, 4
sparkno = s850
guard.sparkno = s840
sparkxy = -10, -85
hitsound = s1, 3
guardsound = s1, 5
ground.type = low
ground.slidetime = 5
ground.hittime  = 12
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = 5*parent,const(size.xscale) * (parent,var(14) = 0)
air.velocity = -3,-2.5
kill = 1 - parent,var(14)
p2facing = 1
air.fall = 1
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7

getpower = 0
givepower = 3
guard.kill = 0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 5
trigger2 = AnimElem = 11
trigger3 = AnimElem = 17
trigger4 = AnimElem = 23
trigger5 = AnimElem = 29
trigger6 = AnimElem = 35
trigger7 = AnimElem = 41
attr = S, SA
damage = ceil(root,fvar(11)*6),4
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 3, 4
sparkno = s850
guard.sparkno = s840
sparkxy = 10, -66
hitsound = s1, 3
guardsound = s1, 5
ground.type = low
ground.slidetime = 5
ground.hittime  = 12
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -2*parent,const(size.xscale) * (parent,var(14) = 0)
air.velocity = -0.5*const(size.xscale),0+var(19)*1.3
kill = 1 - parent,var(14)
p2facing = 1
air.fall = 1
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7

getpower = 0
givepower = 3
guard.kill = 0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 7
trigger2 = AnimElem = 13
trigger3 = AnimElem = 19
trigger4 = AnimElem = 25
trigger5 = AnimElem = 31
trigger6 = AnimElem = 37
trigger7 = AnimElem = 43
attr = S, SA
damage = ceil(root,fvar(11)*6),5
animtype = hard
guardflag = MA
hitflag = MAF
priority = 2
pausetime = 3, 4
sparkno = s850
guard.sparkno = s840
sparkxy = -30, -50
hitsound = s1, 3
guardsound = s1, 5
ground.type = low
ground.slidetime = 5
ground.hittime  = 12
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = 3*parent,const(size.xscale) * (parent,var(14) = 0)
air.velocity = -0.5*const(size.xscale),0+var(19)*1.3
kill = 1 - parent,var(14)
p2facing = 1
air.fall = 1
envshake.time = 5
envshake.frep = 300
envshake.ampl = 7

getpower = 0
givepower = 3
guard.kill = 0

[State 240, 2]
type = HitDef
trigger1 = AnimElem = 47
attr = S, NA
animtype  = heavy
damage = ceil(root,fvar(11)*20),10
guardflag = MA
priority = 4, Hit
pausetime = 3,4
sparkno = s850
guard.sparkno = s840
sparkxy = -10,-60
hitsound   = s1, 3
guardsound = s1,5
ground.type = high
ground.slidetime = 22
ground.hittime  = 22
guard.hittime  = 22
ground.velocity = -10,-4
envshake.time = 8
envshake.frep = 300
envshake.ampl = 14
air.velocity = -10*const(size.xscale),-1+var(19)*1.3
guard.kill = 0
p2stateno = 6664
getpower = 0
givepower = 10

[State 200, Damage Dampen]
type = parentvarset
trigger1 = movehit
fvar(10) = parent,fvar(10)*0.95
ignorehitpause = 1
persistent = 0

[state 3000]
type = playsnd
trigger1 = animelem = 2
value = 100,16
channel = 0

[state 3000]
type = playsnd
trigger1 = animelem = 40
value = 100,17
channel = 0

[State 10000]
type = ParentVarAdd
trigger1 = parent,var(21) > 0;タンデム残り攻撃回数
trigger1 = time = 0
v = 21
value = -1
ignorehitpause = 1

[State 10000]
type = ParentVarAdd;タンデム攻撃回数
trigger1 = parent,var(22) < helper(3910),fvar(1)
trigger1 = time = 0
v = 22
value = 1
ignorehitpause = 1

[State 10000];次の入力へ
type = ChangeState
triggerall = parent,var(21) != 0
triggerall = roundstate = 2      ;バトル中
trigger1 = animelem = 48
value = 4000+helper(3910),var(0+ceil(parent,var(22)))

[State 10000]
type = ChangeState
trigger1 = parent,var(21) = 0;タンデム残り攻撃回数0なら
trigger1 = animtime = 0
trigger2 = time > 40
trigger2 = parent,var(59)=0
trigger2 = parent,command = "c"  ;a押したら
trigger3 = roundstate >= 3
trigger3 = animtime = 0
value = 4999;普通にﾀﾝﾃﾞﾑ終了でスタンド消滅

[State 3901]
type = NotHitBy
trigger1 = numhelper(4667) = 1
value = SCA

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 1020;スタンドが攻撃受けてスタンド消滅
time = 0
ignorehitpause = 1

[State 191, 3]
type = nothitby
trigger1 = time = 0
value = SCA
time = 48

[State 19300]
type = ChangeState
trigger1 = root,movetype = H
trigger1 = root,stateno != [0,155];立ち〜ガード以外。
value = 5997;本体が攻撃受けてスタンド消滅

[State 230, 2];プッツン時スタンド消去
type = ChangeState
trigger1 = root,stateno = 700 
ignorehitpause = 1
value = 999 

;---------------------------------------------------------------------------
;サソリ　弱　S
[Statedef 4903]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 90
ctrl = 0
velset = 0,0 
anim = cond(root,var(51),41200,11200) 
hitcountpersist = 1

[State 181, 押し判定]
type = PlayerPush
trigger1 = 1
value = 1
 
[state 0]
type = offset
trigger1 = 1
y = 10

[State -2]
type = Helper
trigger1 = time = 12
triggerall = var(10) = 0
triggerall = !root,var(51)
trigger1 = numhelper(11201) = 0
helpertype = normal
name = "fish"
stateno = 112010
id = 11201
pos = 15, -85
postype = p1
ownpal = 1
facing = 1

[State -2]
type = Helper
trigger1 = time = 12
triggerall = var(10) = 0
triggerall = root,var(51)
trigger1 = numhelper(11201) = 0
helpertype = normal
name = "fish"
stateno = 11201
id = 11201
pos = 15, -85
postype = p1
ownpal = 1
facing = 1

[State 1027, Sound]
type = PlaySnd
trigger1 = animelem = 2
value = 100,18
channel = 0  

[State 10000]
type = ParentVarAdd
trigger1 = parent,var(21) > 0;タンデム残り攻撃回数
trigger1 = time = 0
v = 21
value = -1
ignorehitpause = 1

[State 10000]
type = ParentVarAdd;タンデム攻撃回数
trigger1 = parent,var(22) < helper(3910),fvar(1)
trigger1 = time = 0
v = 22
value = 1
ignorehitpause = 1

[State 10000];次の入力へ
type = ChangeState
triggerall = parent,var(21) != 0
triggerall = roundstate = 2      ;バトル中
trigger1 = animtime = 0
trigger2 = movecontact
value = 4000+helper(3910),var(0+ceil(parent,var(22)))

[State 10000]
type = ChangeState
trigger1 = parent,var(21) = 0;タンデム残り攻撃回数0なら
trigger1 = animtime = 0
trigger2 = parent,command = "c"
trigger3 = roundstate >= 3
trigger3 = animtime = 0
value = 4999;普通にﾀﾝﾃﾞﾑ終了でスタンド消滅

[State 3901]
type = NotHitBy
trigger1 = numhelper(4667) = 1
value = SCA

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 1020;スタンドが攻撃受けてスタンド消滅
time = -1
ignorehitpause = 1

[State 19300]
type = ChangeState
trigger1 = root,movetype = H
trigger1 = root,stateno != [0,155];立ち〜ガード以外。
value = 5997;本体が攻撃受けてスタンド消滅

[State 230, 2];プッツン時スタンド消去
type = ChangeState
trigger1 = root,stateno = 700 
ignorehitpause = 1
value = 999 

;---------------------------------------------------------------------------
;植物の根S 弱
[Statedef 4904]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
ctrl = 0
velset = 0,0
anim = cond(root,var(51),41100,11100)  
hitcountpersist = 1

[State 181, 押し判定]
type = PlayerPush
trigger1 = 1
value = 1

[state 0]
type = offset
trigger1 = 1
y = 10

[State 1027, Sound]
type = PlaySnd
trigger1 = animelem = 6
value = 100,7
channel = 0  

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 4
value = 0, 2

[State -2]
type = Helper
trigger1 = BackEdgeBodyDist < 150
trigger1 = animelem = 6
trigger1 = numhelper(11101) = 0
helpertype = normal
name = "nekko"
stateno = 41101
id = 41101
pos = 40, 0
postype = p1
ownpal = 1
facing = 1

[State -2]
type = Helper
trigger1 = BackEdgeBodyDist = 150
trigger1 = animelem = 6
trigger1 = numhelper(11101) = 0
helpertype = normal
name = "nekko"
stateno = 41101
id = 41101
pos = 60, 0
postype = p1
ownpal = 1
facing = 1

[State -2]
type = Helper
trigger1 = BackEdgeBodyDist > 150
trigger1 = animelem = 6
trigger1 = numhelper(11101) = 0
helpertype = normal
name = "nekko"
stateno = 41101
id = 41101
pos = -40, 0
postype = front
ownpal = 1
facing = 1

[State 10000]
type = ParentVarAdd
trigger1 = parent,var(21) > 0;タンデム残り攻撃回数
trigger1 = time = 0
v = 21
value = -1
ignorehitpause = 1

[State 10000]
type = ParentVarAdd;タンデム攻撃回数
trigger1 = parent,var(22) < helper(3910),fvar(1)
trigger1 = time = 0
v = 22
value = 1
ignorehitpause = 1

[State 10000];次の入力へ
type = ChangeState
triggerall = parent,var(21) != 0
triggerall = roundstate = 2      ;バトル中
trigger1 = animtime = 0
trigger2 = movecontact
value = 4000+helper(3910),var(0+ceil(parent,var(22)))

[State 10000]
type = ChangeState
trigger1 = parent,var(21) = 0;タンデム残り攻撃回数0なら
trigger1 = animtime = 0
trigger2 = parent,var(59)=0
trigger2 = parent,command = "c"
trigger3 = roundstate >= 3
trigger3 = animtime = 0
value = 4999;普通にﾀﾝﾃﾞﾑ終了でスタンド消滅

[State 3901]
type = NotHitBy
trigger1 = numhelper(4667) = 1
value = SCA

[State 0, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AP,AT,AA
stateno = 1020;スタンドが攻撃受けてスタンド消滅
time = -1
ignorehitpause = 1

[State 19300]
type = ChangeState
trigger1 = root,movetype = H
trigger1 = root,stateno != [0,155];立ち〜ガード以外。
value = 5997;本体が攻撃受けてスタンド消滅

[State 230, 2];プッツン時スタンド消去
type = ChangeState
trigger1 = root,stateno = 700 
ignorehitpause = 1
value = 999 

;---------------------------------------------------------------------------

[Statedef 3902];ﾀﾝﾃﾞﾑの煙helper
type = S
movetype = I
physics = N
ctrl = 0
anim = 20062
sprpriority = 5

[State 0]
type = BindToParent
trigger1 = 1
pos = 10,10
time = 1

[State 0]
type = ChangeState
trigger1 = parent,stateno = 3901 ;スーパーポーズ終わって行動可能になったら
trigger2 = parent,movetype = H   ;被ダメ
value = 3903

[State 230, 2];プッツン時スタンド消去
type = ChangeState
trigger1 = root,stateno = 700 
ignorehitpause = 1
value = 999 

;---------------------------------------------------------------------------

[Statedef 3903];けむりの最後のぶわっ
type = S
movetype = I
physics = N
ctrl = 0
anim = 20063
sprpriority = 5

[State 10000]
type = BindToParent
trigger1 = 1
pos = 10,10
time = 1

[State 3000]
type = DestroySelf
trigger1 = animtime = 0
;---------------------------------------------------------------------------

[Statedef 4657];デム禁止
type = S
movetype = I
physics = N
ctrl = 0
anim = 29999
sprpriority = -5

[State 3000]
type = DestroySelf
trigger1 = time = 300
;---------------------------------------------------------------------------
[Statedef 4667];無敵
type = S
movetype = I
physics = N
ctrl = 0
anim = 29999
sprpriority = -5

[State 3000]
type = DestroySelf
trigger1 = time = 10
;---------------------------------------------------------------------------
; デム時の本体立ち回り
[Statedef 60000]
type = S
physics = S
sprpriority = 0

[State 195, コントロール]
type = CtrlSet
trigger1 = 1
value = 0           

[State 0, 1]
type = Offset
triggerall = var(49) = 10000  
trigger1 = 1
y = 10

[State 0,バグったとき用]
type = destroyself
trigger1 = time = 0

[State 21, 1]
type = Turn
triggerall = var(59) = 1 && RoundState = 2 
trigger1 = P2dist X < 0

[State 0, 1]
type = ChangeAnim
trigger1 = Anim != 0+var(49) && Anim != 5+var(49)
trigger2 = Anim = 5+var(49) && AnimTime = 0 ;Turn anim over
value = 0+var(49)

[State 0, 2]
type = VelSet
trigger1 = Time = 0
y = 0

[State 0, 3] ;Stop moving if low velocity or 4 ticks pass
type = VelSet
trigger1 = abs(vel x) < 2
trigger2 = Time = 4
x = 0

[State 0, 4] ;Are you dead?
type = ChangeState
trigger1 = !alive
value = 5050

[State 0, 4] ;追撃
type = ChangeState
trigger1 = helper(10000),stateno = [4000,4904]
value = 60100

[State 0, 4] 
type = ChangeState
trigger1 = roundstate != 2 
value = 0
ctrl = 1

[State 0, 4] 
type = ChangeState
trigger1 = helper(10000),stateno != [4000,4904]
trigger2 = numhelper(10000) = 0
value = 50000
ctrl = 0
;---------------------------------------------------------------------------
;デム時 ダッシュ
[Statedef 60100]
type    = S
physics = S
anim = 100+var(49)
sprpriority = 1
ctrl = 0

[State 195, コントロール]
type = CtrlSet
trigger1 = 1
value = 0       

[State 0, 1]
type = Offset
triggerall = var(49) = 10000  
trigger1 = 1
y = 10

[State 100, 1]
type = VelSet
trigger1 = 1
x = const(velocity.run.fwd.x)

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 100, 3] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 0, 4] 
type = ChangeState
trigger1 = roundstate != 2 
value = 0
ctrl = 1

[State 0, 4];屈み弱
type = ChangeState
value = 60101
triggerall = var(59)=1&& RoundState = 2 
TriggerAll= EnemyNear,StateType != L
Triggerall= EnemyNear,StateType != A
triggerall = var(49) != 10000
triggerall = P2BodyDist X = [-30,40]
trigger1 = statetype != A
trigger1 = Random <= var(58)*30

[State 0, 4];立ち中
type = ChangeState
value = 60103
triggerall = var(59)=1&& RoundState = 2 
TriggerAll= EnemyNear,StateType != L
Triggerall= EnemyNear,StateType = A
triggerall = var(49) != 10000
triggerall = P2BodyDist X = [-30,50]
trigger1 = statetype != A
trigger1 = Random <= var(58)*30

[State 0, 4] 
type = ChangeState
trigger1 = helper(10000),stateno != [4000,4904]
value = 50000
ctrl = 0

[State 0, 4] 
type = ChangeState
trigger1 = P2dist X < 0
value = 60000
ctrl = 0
;---------------------------------------------------------------------------
;デム時屈み弱
;     これも通常の攻撃とはあまり変わらないが、変わった点といえばpriority（優先順位）
;     が３になっている事です。
;     これによって他の大抵の攻撃よりも優先権が下がる事になり相手と攻撃がかち合った
;     時は負けてしまいます。
[Statedef 60101]
type    = C
movetype= A
physics = C
poweradd = 0
ctrl = 0
anim = ifelse((prevstateno=[100,105]),401,400)
sprpriority = 2

[State 0, vel]
type = velset
trigger1 = !time
trigger1 = prevstateno != [100,105]
x = 0

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 100,14

[State 400, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 400, 2]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage = ceil(root,fvar(11)*18),0
priority = 2, Hit
animtype  = Light
hitflag = MAF
guardflag = LA
pausetime = 10,11
sparkno = s810
guard.sparkno = s840
sparkxy = -10,-42
hitsound   = s1, 0
guardsound = s1,5
ground.type = Low
ground.slidetime = 12
ground.hittime  = 12
guard.hittime  = 12
ground.velocity = -7*const(size.xscale)
air.velocity = -2.5*const(size.xscale),-1+var(19)*1.3

getpower = 0
givepower = 9

[State 200, Damage Dampen]
type = parentvarset
trigger1 = movehit
fvar(10) = parent,fvar(10)*0.95
ignorehitpause = 1
persistent = 0

[State 400, 4]
type = ChangeState
triggerall = P2BodyDist X = [-30,50]
trigger1 = helper(10000),stateno = [4000,4904]
trigger1 = time >= 8
value = 60101

[State 400, 4]
type = ChangeState
trigger1 = helper(10000),stateno = [4000,4904]
trigger1 = animtime = 0
value = 60000

[State 400, 4]
type = ChangeState
trigger1 = helper(10000),stateno != [4000,4904]
trigger1 = AnimTime = 0
trigger2 = numhelper(10000) = 0
trigger2 = AnimTime = 0
value = 50000
;---------------------------------------------------------------------------
;回り込み
[Statedef 60102]
type = S
physics = N
movetype = I
anim = 30
ctrl = 0
velset = 0,0

[State 3900 e];禁止
type = Helper
trigger1 = AnimTime = 0
helpertype = normal
stateno = 29
id = 29
pos = 0,0
postype = p1
ownpal = 1
supermovetime = 9999999999999
pausemovetime = 9999999999999

[State 30]
type = Width  ;画面端から指定値までの範囲は進入不可能
trigger1 = 1
edge = 5,0    ;省略時0,0

[State 30]
type = HitBy  ;特定の攻撃以外食らわない
trigger1 = 1
value = SCA,NT,ST,HT
;立ち、屈み、空中、通常なげ、必殺なげ、超必殺なげ

[State 30]
type = PlayerPush  ;ぶつかり判定の有無
trigger1 = 1
value = 0          ;1で判定あり、0で判定なし

[State 810, Velocity]
type = VelSet
trigger1 = AnimElem = 3
x = 6.5

[State 810, Velocity]
type = VelSet
trigger1 = AnimElem = 8
x = 0

[State 810, AfterImage]
type = Afterimage
trigger1 = AnimElem = 1
time = 25
length = 10
FrameGap = 3
PalBright = 1,1,1
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = 1,1,1
trans = add1
[State 30]
type = PlaySnd
trigger1 = time = 1
value = 100,10

[State 30]
type = ChangeState
trigger1 = animtime = 0
value = 60000
;---------------------------------------------------------------------------
; 立ち中
[Statedef 60103]
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
velset = 0,0
anim = ifelse((prevstateno=[100,105]),216,215)
sprpriority = -1

[State 1100, Velocity]
type = VelSet
trigger1 = prevstateno = 100
trigger1 = time = 0
x = 8

[State 1100, Velocity]
type = VelSet
trigger1 = prevstateno = 105
trigger1 = time = 0
x = -8

[State 0, vel]
type = velset
trigger1 = !time
trigger1 = prevstateno != [100,105]
x = 0

[State 210, Width]
type = Width
trigger1 = (AnimElemTime (2) >= 0) && (AnimElemTime (7) < 0)
value = 15,0

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = 100,11

[State 200, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 1
value = 0, 1

[State 210, 2]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Medium
damage = ceil(root,fvar(11)*18),0
priority = 3, Hit
guardflag = MA
pausetime = 11,11
sparkno = s820
guard.sparkno = s840
sparkxy = -10,-72
hitsound = s1, 1
guardsound = s1,5
ground.type = low
ground.slidetime = 13
ground.hittime  = 13-ifelse(var(14)=0&&fvar(30)>=9&&ifelse(fvar(30)=9,random%5=0,random%10=0),13,0)
ground.velocity = -4*const(size.xscale)
air.velocity = -3*const(size.xscale) * (var(14) = 0),(-3+var(19)*1.3) * (var(14) = 0)
p2facing = 1

getpower = 0
givepower = 9
id = 200
ground.cornerpush.veloff = 0

[State 200, Damage Dampen]
type = parentvarset
trigger1 = movehit
fvar(10) = parent,fvar(10)*0.95
ignorehitpause = 1
persistent = 0

; 下のステートで表示順位を２にして相手より手前にしています。
[State 210, 4]
type = SprPriority
trigger1 = AnimElem = 5
value = 2

[State 400, 4]
type = ChangeState
trigger1 = helper(10000),stateno = [4000,4904]
trigger1 = time > 10
value = 60000

[State 400, 4]
type = ChangeState
trigger1 = helper(10000),stateno != [4000,4904]
trigger1 = AnimTime = 0
trigger2 = numhelper(10000) = 0
trigger2 = AnimTime = 0
value = 50000